var S1=Object.defineProperty;var E1=(i,e,n)=>e in i?S1(i,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):i[e]=n;var Ia=(i,e,n)=>E1(i,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function Qs(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Od={exports:{}},Ts={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Py;function O1(){if(Py)return Ts;Py=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,s,o){var c=null;if(o!==void 0&&(c=""+o),s.key!==void 0&&(c=""+s.key),"key"in s){o={};for(var d in s)d!=="key"&&(o[d]=s[d])}else o=s;return s=o.ref,{$$typeof:i,type:r,key:c,ref:s!==void 0?s:null,props:o}}return Ts.Fragment=e,Ts.jsx=n,Ts.jsxs=n,Ts}var Uy;function T1(){return Uy||(Uy=1,Od.exports=O1()),Od.exports}var S=T1(),Td={exports:{}},ve={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zy;function A1(){if(zy)return ve;zy=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function b(O){return O===null||typeof O!="object"?null:(O=y&&O[y]||O["@@iterator"],typeof O=="function"?O:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,E={};function A(O,U,Z){this.props=O,this.context=U,this.refs=E,this.updater=Z||_}A.prototype.isReactComponent={},A.prototype.setState=function(O,U){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,U,"setState")},A.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function N(){}N.prototype=A.prototype;function D(O,U,Z){this.props=O,this.context=U,this.refs=E,this.updater=Z||_}var k=D.prototype=new N;k.constructor=D,x(k,A.prototype),k.isPureReactComponent=!0;var F=Array.isArray,q={H:null,A:null,T:null,S:null,V:null},ee=Object.prototype.hasOwnProperty;function ne(O,U,Z,G,W,oe){return Z=oe.ref,{$$typeof:i,type:O,key:U,ref:Z!==void 0?Z:null,props:oe}}function H(O,U){return ne(O.type,U,void 0,void 0,void 0,O.props)}function Ne(O){return typeof O=="object"&&O!==null&&O.$$typeof===i}function ct(O){var U={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(Z){return U[Z]})}var We=/\/+/g;function qe(O,U){return typeof O=="object"&&O!==null&&O.key!=null?ct(""+O.key):U.toString(36)}function bt(){}function te(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(bt,bt):(O.status="pending",O.then(function(U){O.status==="pending"&&(O.status="fulfilled",O.value=U)},function(U){O.status==="pending"&&(O.status="rejected",O.reason=U)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function X(O,U,Z,G,W){var oe=typeof O;(oe==="undefined"||oe==="boolean")&&(O=null);var he=!1;if(O===null)he=!0;else switch(oe){case"bigint":case"string":case"number":he=!0;break;case"object":switch(O.$$typeof){case i:case e:he=!0;break;case g:return he=O._init,X(he(O._payload),U,Z,G,W)}}if(he)return W=W(O),he=G===""?"."+qe(O,0):G,F(W)?(Z="",he!=null&&(Z=he.replace(We,"$&/")+"/"),X(W,U,Z,"",function(vt){return vt})):W!=null&&(Ne(W)&&(W=H(W,Z+(W.key==null||O&&O.key===W.key?"":(""+W.key).replace(We,"$&/")+"/")+he)),U.push(W)),1;he=0;var xe=G===""?".":G+":";if(F(O))for(var $e=0;$e<O.length;$e++)G=O[$e],oe=xe+qe(G,$e),he+=X(G,U,Z,oe,W);else if($e=b(O),typeof $e=="function")for(O=$e.call(O),$e=0;!(G=O.next()).done;)G=G.value,oe=xe+qe(G,$e++),he+=X(G,U,Z,oe,W);else if(oe==="object"){if(typeof O.then=="function")return X(te(O),U,Z,G,W);throw U=String(O),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return he}function j(O,U,Z){if(O==null)return O;var G=[],W=0;return X(O,G,"","",function(oe){return U.call(Z,oe,W++)}),G}function z(O){if(O._status===-1){var U=O._result;U=U(),U.then(function(Z){(O._status===0||O._status===-1)&&(O._status=1,O._result=Z)},function(Z){(O._status===0||O._status===-1)&&(O._status=2,O._result=Z)}),O._status===-1&&(O._status=0,O._result=U)}if(O._status===1)return O._result.default;throw O._result}var I=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function Q(){}return ve.Children={map:j,forEach:function(O,U,Z){j(O,function(){U.apply(this,arguments)},Z)},count:function(O){var U=0;return j(O,function(){U++}),U},toArray:function(O){return j(O,function(U){return U})||[]},only:function(O){if(!Ne(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},ve.Component=A,ve.Fragment=n,ve.Profiler=s,ve.PureComponent=D,ve.StrictMode=r,ve.Suspense=h,ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,ve.__COMPILER_RUNTIME={__proto__:null,c:function(O){return q.H.useMemoCache(O)}},ve.cache=function(O){return function(){return O.apply(null,arguments)}},ve.cloneElement=function(O,U,Z){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var G=x({},O.props),W=O.key,oe=void 0;if(U!=null)for(he in U.ref!==void 0&&(oe=void 0),U.key!==void 0&&(W=""+U.key),U)!ee.call(U,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&U.ref===void 0||(G[he]=U[he]);var he=arguments.length-2;if(he===1)G.children=Z;else if(1<he){for(var xe=Array(he),$e=0;$e<he;$e++)xe[$e]=arguments[$e+2];G.children=xe}return ne(O.type,W,void 0,void 0,oe,G)},ve.createContext=function(O){return O={$$typeof:c,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:o,_context:O},O},ve.createElement=function(O,U,Z){var G,W={},oe=null;if(U!=null)for(G in U.key!==void 0&&(oe=""+U.key),U)ee.call(U,G)&&G!=="key"&&G!=="__self"&&G!=="__source"&&(W[G]=U[G]);var he=arguments.length-2;if(he===1)W.children=Z;else if(1<he){for(var xe=Array(he),$e=0;$e<he;$e++)xe[$e]=arguments[$e+2];W.children=xe}if(O&&O.defaultProps)for(G in he=O.defaultProps,he)W[G]===void 0&&(W[G]=he[G]);return ne(O,oe,void 0,void 0,null,W)},ve.createRef=function(){return{current:null}},ve.forwardRef=function(O){return{$$typeof:d,render:O}},ve.isValidElement=Ne,ve.lazy=function(O){return{$$typeof:g,_payload:{_status:-1,_result:O},_init:z}},ve.memo=function(O,U){return{$$typeof:m,type:O,compare:U===void 0?null:U}},ve.startTransition=function(O){var U=q.T,Z={};q.T=Z;try{var G=O(),W=q.S;W!==null&&W(Z,G),typeof G=="object"&&G!==null&&typeof G.then=="function"&&G.then(Q,I)}catch(oe){I(oe)}finally{q.T=U}},ve.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},ve.use=function(O){return q.H.use(O)},ve.useActionState=function(O,U,Z){return q.H.useActionState(O,U,Z)},ve.useCallback=function(O,U){return q.H.useCallback(O,U)},ve.useContext=function(O){return q.H.useContext(O)},ve.useDebugValue=function(){},ve.useDeferredValue=function(O,U){return q.H.useDeferredValue(O,U)},ve.useEffect=function(O,U,Z){var G=q.H;if(typeof Z=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return G.useEffect(O,U)},ve.useId=function(){return q.H.useId()},ve.useImperativeHandle=function(O,U,Z){return q.H.useImperativeHandle(O,U,Z)},ve.useInsertionEffect=function(O,U){return q.H.useInsertionEffect(O,U)},ve.useLayoutEffect=function(O,U){return q.H.useLayoutEffect(O,U)},ve.useMemo=function(O,U){return q.H.useMemo(O,U)},ve.useOptimistic=function(O,U){return q.H.useOptimistic(O,U)},ve.useReducer=function(O,U,Z){return q.H.useReducer(O,U,Z)},ve.useRef=function(O){return q.H.useRef(O)},ve.useState=function(O){return q.H.useState(O)},ve.useSyncExternalStore=function(O,U,Z){return q.H.useSyncExternalStore(O,U,Z)},ve.useTransition=function(){return q.H.useTransition()},ve.version="19.1.0",ve}var qy;function xh(){return qy||(qy=1,Td.exports=A1()),Td.exports}var ue=xh(),Ad={exports:{}},As={},Rd={exports:{}},Nd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var By;function R1(){return By||(By=1,function(i){function e(j,z){var I=j.length;j.push(z);e:for(;0<I;){var Q=I-1>>>1,O=j[Q];if(0<s(O,z))j[Q]=z,j[I]=O,I=Q;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var z=j[0],I=j.pop();if(I!==z){j[0]=I;e:for(var Q=0,O=j.length,U=O>>>1;Q<U;){var Z=2*(Q+1)-1,G=j[Z],W=Z+1,oe=j[W];if(0>s(G,I))W<O&&0>s(oe,G)?(j[Q]=oe,j[W]=I,Q=W):(j[Q]=G,j[Z]=I,Q=Z);else if(W<O&&0>s(oe,I))j[Q]=oe,j[W]=I,Q=W;else break e}}return z}function s(j,z){var I=j.sortIndex-z.sortIndex;return I!==0?I:j.id-z.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;i.unstable_now=function(){return o.now()}}else{var c=Date,d=c.now();i.unstable_now=function(){return c.now()-d}}var h=[],m=[],g=1,y=null,b=3,_=!1,x=!1,E=!1,A=!1,N=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function F(j){for(var z=n(m);z!==null;){if(z.callback===null)r(m);else if(z.startTime<=j)r(m),z.sortIndex=z.expirationTime,e(h,z);else break;z=n(m)}}function q(j){if(E=!1,F(j),!x)if(n(h)!==null)x=!0,ee||(ee=!0,qe());else{var z=n(m);z!==null&&X(q,z.startTime-j)}}var ee=!1,ne=-1,H=5,Ne=-1;function ct(){return A?!0:!(i.unstable_now()-Ne<H)}function We(){if(A=!1,ee){var j=i.unstable_now();Ne=j;var z=!0;try{e:{x=!1,E&&(E=!1,D(ne),ne=-1),_=!0;var I=b;try{t:{for(F(j),y=n(h);y!==null&&!(y.expirationTime>j&&ct());){var Q=y.callback;if(typeof Q=="function"){y.callback=null,b=y.priorityLevel;var O=Q(y.expirationTime<=j);if(j=i.unstable_now(),typeof O=="function"){y.callback=O,F(j),z=!0;break t}y===n(h)&&r(h),F(j)}else r(h);y=n(h)}if(y!==null)z=!0;else{var U=n(m);U!==null&&X(q,U.startTime-j),z=!1}}break e}finally{y=null,b=I,_=!1}z=void 0}}finally{z?qe():ee=!1}}}var qe;if(typeof k=="function")qe=function(){k(We)};else if(typeof MessageChannel<"u"){var bt=new MessageChannel,te=bt.port2;bt.port1.onmessage=We,qe=function(){te.postMessage(null)}}else qe=function(){N(We,0)};function X(j,z){ne=N(function(){j(i.unstable_now())},z)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(j){j.callback=null},i.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<j?Math.floor(1e3/j):5},i.unstable_getCurrentPriorityLevel=function(){return b},i.unstable_next=function(j){switch(b){case 1:case 2:case 3:var z=3;break;default:z=b}var I=b;b=z;try{return j()}finally{b=I}},i.unstable_requestPaint=function(){A=!0},i.unstable_runWithPriority=function(j,z){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var I=b;b=j;try{return z()}finally{b=I}},i.unstable_scheduleCallback=function(j,z,I){var Q=i.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?Q+I:Q):I=Q,j){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=I+O,j={id:g++,callback:z,priorityLevel:j,startTime:I,expirationTime:O,sortIndex:-1},I>Q?(j.sortIndex=I,e(m,j),n(h)===null&&j===n(m)&&(E?(D(ne),ne=-1):E=!0,X(q,I-Q))):(j.sortIndex=O,e(h,j),x||_||(x=!0,ee||(ee=!0,qe()))),j},i.unstable_shouldYield=ct,i.unstable_wrapCallback=function(j){var z=b;return function(){var I=b;b=z;try{return j.apply(this,arguments)}finally{b=I}}}}(Nd)),Nd}var Hy;function N1(){return Hy||(Hy=1,Rd.exports=R1()),Rd.exports}var jd={exports:{}},Tt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gy;function j1(){if(Gy)return Tt;Gy=1;var i=xh();function e(h){var m="https://react.dev/errors/"+h;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(h,m,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:y==null?null:""+y,children:h,containerInfo:m,implementation:g}}var c=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(h,m){if(h==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Tt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Tt.createPortal=function(h,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return o(h,m,null,g)},Tt.flushSync=function(h){var m=c.T,g=r.p;try{if(c.T=null,r.p=2,h)return h()}finally{c.T=m,r.p=g,r.d.f()}},Tt.preconnect=function(h,m){typeof h=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(h,m))},Tt.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},Tt.preinit=function(h,m){if(typeof h=="string"&&m&&typeof m.as=="string"){var g=m.as,y=d(g,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,_=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?r.d.S(h,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:y,integrity:b,fetchPriority:_}):g==="script"&&r.d.X(h,{crossOrigin:y,integrity:b,fetchPriority:_,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Tt.preinitModule=function(h,m){if(typeof h=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=d(m.as,m.crossOrigin);r.d.M(h,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(h)},Tt.preload=function(h,m){if(typeof h=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,y=d(g,m.crossOrigin);r.d.L(h,g,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Tt.preloadModule=function(h,m){if(typeof h=="string")if(m){var g=d(m.as,m.crossOrigin);r.d.m(h,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(h)},Tt.requestFormReset=function(h){r.d.r(h)},Tt.unstable_batchedUpdates=function(h,m){return h(m)},Tt.useFormState=function(h,m,g){return c.H.useFormState(h,m,g)},Tt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Tt.version="19.1.0",Tt}var Vy;function m_(){if(Vy)return jd.exports;Vy=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),jd.exports=j1(),jd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zy;function k1(){if(Zy)return As;Zy=1;var i=N1(),e=xh(),n=m_();function r(t){var a="https://react.dev/errors/"+t;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+t+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function o(t){var a=t,l=t;if(t.alternate)for(;a.return;)a=a.return;else{t=a;do a=t,(a.flags&4098)!==0&&(l=a.return),t=a.return;while(t)}return a.tag===3?l:null}function c(t){if(t.tag===13){var a=t.memoizedState;if(a===null&&(t=t.alternate,t!==null&&(a=t.memoizedState)),a!==null)return a.dehydrated}return null}function d(t){if(o(t)!==t)throw Error(r(188))}function h(t){var a=t.alternate;if(!a){if(a=o(t),a===null)throw Error(r(188));return a!==t?null:t}for(var l=t,u=a;;){var f=l.return;if(f===null)break;var p=f.alternate;if(p===null){if(u=f.return,u!==null){l=u;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===l)return d(f),t;if(p===u)return d(f),a;p=p.sibling}throw Error(r(188))}if(l.return!==u.return)l=f,u=p;else{for(var v=!1,w=f.child;w;){if(w===l){v=!0,l=f,u=p;break}if(w===u){v=!0,u=f,l=p;break}w=w.sibling}if(!v){for(w=p.child;w;){if(w===l){v=!0,l=p,u=f;break}if(w===u){v=!0,u=p,l=f;break}w=w.sibling}if(!v)throw Error(r(189))}}if(l.alternate!==u)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?t:a}function m(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t;for(t=t.child;t!==null;){if(a=m(t),a!==null)return a;t=t.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),D=Symbol.for("react.consumer"),k=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),ne=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),Ne=Symbol.for("react.activity"),ct=Symbol.for("react.memo_cache_sentinel"),We=Symbol.iterator;function qe(t){return t===null||typeof t!="object"?null:(t=We&&t[We]||t["@@iterator"],typeof t=="function"?t:null)}var bt=Symbol.for("react.client.reference");function te(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===bt?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case x:return"Fragment";case A:return"Profiler";case E:return"StrictMode";case q:return"Suspense";case ee:return"SuspenseList";case Ne:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case _:return"Portal";case k:return(t.displayName||"Context")+".Provider";case D:return(t._context.displayName||"Context")+".Consumer";case F:var a=t.render;return t=t.displayName,t||(t=a.displayName||a.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ne:return a=t.displayName||null,a!==null?a:te(t.type)||"Memo";case H:a=t._payload,t=t._init;try{return te(t(a))}catch{}}return null}var X=Array.isArray,j=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I={pending:!1,data:null,method:null,action:null},Q=[],O=-1;function U(t){return{current:t}}function Z(t){0>O||(t.current=Q[O],Q[O]=null,O--)}function G(t,a){O++,Q[O]=t.current,t.current=a}var W=U(null),oe=U(null),he=U(null),xe=U(null);function $e(t,a){switch(G(he,a),G(oe,t),G(W,null),a.nodeType){case 9:case 11:t=(t=a.documentElement)&&(t=t.namespaceURI)?fy(t):0;break;default:if(t=a.tagName,a=a.namespaceURI)a=fy(a),t=hy(a,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Z(W),G(W,t)}function vt(){Z(W),Z(oe),Z(he)}function tn(t){t.memoizedState!==null&&G(xe,t);var a=W.current,l=hy(a,t.type);a!==l&&(G(oe,t),G(W,l))}function Nn(t){oe.current===t&&(Z(W),Z(oe)),xe.current===t&&(Z(xe),ws._currentValue=I)}var fa=Object.prototype.hasOwnProperty,fu=i.unstable_scheduleCallback,hu=i.unstable_cancelCallback,tw=i.unstable_shouldYield,nw=i.unstable_requestPaint,jn=i.unstable_now,aw=i.unstable_getCurrentPriorityLevel,Zh=i.unstable_ImmediatePriority,Yh=i.unstable_UserBlockingPriority,al=i.unstable_NormalPriority,rw=i.unstable_LowPriority,Fh=i.unstable_IdlePriority,iw=i.log,sw=i.unstable_setDisableYieldValue,Ni=null,Bt=null;function ha(t){if(typeof iw=="function"&&sw(t),Bt&&typeof Bt.setStrictMode=="function")try{Bt.setStrictMode(Ni,t)}catch{}}var Ht=Math.clz32?Math.clz32:uw,lw=Math.log,ow=Math.LN2;function uw(t){return t>>>=0,t===0?32:31-(lw(t)/ow|0)|0}var rl=256,il=4194304;function Xa(t){var a=t&42;if(a!==0)return a;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function sl(t,a,l){var u=t.pendingLanes;if(u===0)return 0;var f=0,p=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var w=u&134217727;return w!==0?(u=w&~p,u!==0?f=Xa(u):(v&=w,v!==0?f=Xa(v):l||(l=w&~t,l!==0&&(f=Xa(l))))):(w=u&~p,w!==0?f=Xa(w):v!==0?f=Xa(v):l||(l=u&~t,l!==0&&(f=Xa(l)))),f===0?0:a!==0&&a!==f&&(a&p)===0&&(p=f&-f,l=a&-a,p>=l||p===32&&(l&4194048)!==0)?a:f}function ji(t,a){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&a)===0}function cw(t,a){switch(t){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xh(){var t=rl;return rl<<=1,(rl&4194048)===0&&(rl=256),t}function Qh(){var t=il;return il<<=1,(il&62914560)===0&&(il=4194304),t}function mu(t){for(var a=[],l=0;31>l;l++)a.push(t);return a}function ki(t,a){t.pendingLanes|=a,a!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function dw(t,a,l,u,f,p){var v=t.pendingLanes;t.pendingLanes=l,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=l,t.entangledLanes&=l,t.errorRecoveryDisabledLanes&=l,t.shellSuspendCounter=0;var w=t.entanglements,T=t.expirationTimes,L=t.hiddenUpdates;for(l=v&~l;0<l;){var B=31-Ht(l),Y=1<<B;w[B]=0,T[B]=-1;var $=L[B];if($!==null)for(L[B]=null,B=0;B<$.length;B++){var P=$[B];P!==null&&(P.lane&=-536870913)}l&=~Y}u!==0&&Jh(t,u,0),p!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=p&~(v&~a))}function Jh(t,a,l){t.pendingLanes|=a,t.suspendedLanes&=~a;var u=31-Ht(a);t.entangledLanes|=a,t.entanglements[u]=t.entanglements[u]|1073741824|l&4194090}function Kh(t,a){var l=t.entangledLanes|=a;for(t=t.entanglements;l;){var u=31-Ht(l),f=1<<u;f&a|t[u]&a&&(t[u]|=a),l&=~f}}function pu(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function gu(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Wh(){var t=z.p;return t!==0?t:(t=window.event,t===void 0?32:Cy(t.type))}function fw(t,a){var l=z.p;try{return z.p=t,a()}finally{z.p=l}}var ma=Math.random().toString(36).slice(2),Et="__reactFiber$"+ma,$t="__reactProps$"+ma,_r="__reactContainer$"+ma,yu="__reactEvents$"+ma,hw="__reactListeners$"+ma,mw="__reactHandles$"+ma,em="__reactResources$"+ma,Ci="__reactMarker$"+ma;function bu(t){delete t[Et],delete t[$t],delete t[yu],delete t[hw],delete t[mw]}function wr(t){var a=t[Et];if(a)return a;for(var l=t.parentNode;l;){if(a=l[_r]||l[Et]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(t=yy(t);t!==null;){if(l=t[Et])return l;t=yy(t)}return a}t=l,l=t.parentNode}return null}function xr(t){if(t=t[Et]||t[_r]){var a=t.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return t}return null}function Mi(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t.stateNode;throw Error(r(33))}function Sr(t){var a=t[em];return a||(a=t[em]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function dt(t){t[Ci]=!0}var tm=new Set,nm={};function Qa(t,a){Er(t,a),Er(t+"Capture",a)}function Er(t,a){for(nm[t]=a,t=0;t<a.length;t++)tm.add(a[t])}var pw=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),am={},rm={};function gw(t){return fa.call(rm,t)?!0:fa.call(am,t)?!1:pw.test(t)?rm[t]=!0:(am[t]=!0,!1)}function ll(t,a,l){if(gw(a))if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":t.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){t.removeAttribute(a);return}}t.setAttribute(a,""+l)}}function ol(t,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttribute(a,""+l)}}function Hn(t,a,l,u){if(u===null)t.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(l);return}t.setAttributeNS(a,l,""+u)}}var vu,im;function Or(t){if(vu===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);vu=a&&a[1]||"",im=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+vu+t+im}var _u=!1;function wu(t,a){if(!t||_u)return"";_u=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(P){var $=P}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(P){$=P}t.call(Y.prototype)}}else{try{throw Error()}catch(P){$=P}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(P){if(P&&$&&typeof P.stack=="string")return[P.stack,$.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),v=p[0],w=p[1];if(v&&w){var T=v.split(`
`),L=w.split(`
`);for(f=u=0;u<T.length&&!T[u].includes("DetermineComponentFrameRoot");)u++;for(;f<L.length&&!L[f].includes("DetermineComponentFrameRoot");)f++;if(u===T.length||f===L.length)for(u=T.length-1,f=L.length-1;1<=u&&0<=f&&T[u]!==L[f];)f--;for(;1<=u&&0<=f;u--,f--)if(T[u]!==L[f]){if(u!==1||f!==1)do if(u--,f--,0>f||T[u]!==L[f]){var B=`
`+T[u].replace(" at new "," at ");return t.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",t.displayName)),B}while(1<=u&&0<=f);break}}}finally{_u=!1,Error.prepareStackTrace=l}return(l=t?t.displayName||t.name:"")?Or(l):""}function yw(t){switch(t.tag){case 26:case 27:case 5:return Or(t.type);case 16:return Or("Lazy");case 13:return Or("Suspense");case 19:return Or("SuspenseList");case 0:case 15:return wu(t.type,!1);case 11:return wu(t.type.render,!1);case 1:return wu(t.type,!0);case 31:return Or("Activity");default:return""}}function sm(t){try{var a="";do a+=yw(t),t=t.return;while(t);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function nn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function lm(t){var a=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function bw(t){var a=lm(t)?"checked":"value",l=Object.getOwnPropertyDescriptor(t.constructor.prototype,a),u=""+t[a];if(!t.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,p=l.set;return Object.defineProperty(t,a,{configurable:!0,get:function(){return f.call(this)},set:function(v){u=""+v,p.call(this,v)}}),Object.defineProperty(t,a,{enumerable:l.enumerable}),{getValue:function(){return u},setValue:function(v){u=""+v},stopTracking:function(){t._valueTracker=null,delete t[a]}}}}function ul(t){t._valueTracker||(t._valueTracker=bw(t))}function om(t){if(!t)return!1;var a=t._valueTracker;if(!a)return!0;var l=a.getValue(),u="";return t&&(u=lm(t)?t.checked?"true":"false":t.value),t=u,t!==l?(a.setValue(t),!0):!1}function cl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var vw=/[\n"\\]/g;function an(t){return t.replace(vw,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function xu(t,a,l,u,f,p,v,w){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),a!=null?v==="number"?(a===0&&t.value===""||t.value!=a)&&(t.value=""+nn(a)):t.value!==""+nn(a)&&(t.value=""+nn(a)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),a!=null?Su(t,v,nn(a)):l!=null?Su(t,v,nn(l)):u!=null&&t.removeAttribute("value"),f==null&&p!=null&&(t.defaultChecked=!!p),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.name=""+nn(w):t.removeAttribute("name")}function um(t,a,l,u,f,p,v,w){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.type=p),a!=null||l!=null){if(!(p!=="submit"&&p!=="reset"||a!=null))return;l=l!=null?""+nn(l):"",a=a!=null?""+nn(a):l,w||a===t.value||(t.value=a),t.defaultValue=a}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,t.checked=w?t.checked:!!u,t.defaultChecked=!!u,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function Su(t,a,l){a==="number"&&cl(t.ownerDocument)===t||t.defaultValue===""+l||(t.defaultValue=""+l)}function Tr(t,a,l,u){if(t=t.options,a){a={};for(var f=0;f<l.length;f++)a["$"+l[f]]=!0;for(l=0;l<t.length;l++)f=a.hasOwnProperty("$"+t[l].value),t[l].selected!==f&&(t[l].selected=f),f&&u&&(t[l].defaultSelected=!0)}else{for(l=""+nn(l),a=null,f=0;f<t.length;f++){if(t[f].value===l){t[f].selected=!0,u&&(t[f].defaultSelected=!0);return}a!==null||t[f].disabled||(a=t[f])}a!==null&&(a.selected=!0)}}function cm(t,a,l){if(a!=null&&(a=""+nn(a),a!==t.value&&(t.value=a),l==null)){t.defaultValue!==a&&(t.defaultValue=a);return}t.defaultValue=l!=null?""+nn(l):""}function dm(t,a,l,u){if(a==null){if(u!=null){if(l!=null)throw Error(r(92));if(X(u)){if(1<u.length)throw Error(r(93));u=u[0]}l=u}l==null&&(l=""),a=l}l=nn(a),t.defaultValue=l,u=t.textContent,u===l&&u!==""&&u!==null&&(t.value=u)}function Ar(t,a){if(a){var l=t.firstChild;if(l&&l===t.lastChild&&l.nodeType===3){l.nodeValue=a;return}}t.textContent=a}var _w=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fm(t,a,l){var u=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?t.setProperty(a,""):a==="float"?t.cssFloat="":t[a]="":u?t.setProperty(a,l):typeof l!="number"||l===0||_w.has(a)?a==="float"?t.cssFloat=l:t[a]=(""+l).trim():t[a]=l+"px"}function hm(t,a,l){if(a!=null&&typeof a!="object")throw Error(r(62));if(t=t.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?t.setProperty(u,""):u==="float"?t.cssFloat="":t[u]="");for(var f in a)u=a[f],a.hasOwnProperty(f)&&l[f]!==u&&fm(t,f,u)}else for(var p in a)a.hasOwnProperty(p)&&fm(t,p,a[p])}function Eu(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ww=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xw=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function dl(t){return xw.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Ou=null;function Tu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Rr=null,Nr=null;function mm(t){var a=xr(t);if(a&&(t=a.stateNode)){var l=t[$t]||null;e:switch(t=a.stateNode,a.type){case"input":if(xu(t,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=t;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+an(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var u=l[a];if(u!==t&&u.form===t.form){var f=u[$t]||null;if(!f)throw Error(r(90));xu(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(a=0;a<l.length;a++)u=l[a],u.form===t.form&&om(u)}break e;case"textarea":cm(t,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&Tr(t,!!l.multiple,a,!1)}}}var Au=!1;function pm(t,a,l){if(Au)return t(a,l);Au=!0;try{var u=t(a);return u}finally{if(Au=!1,(Rr!==null||Nr!==null)&&(Ql(),Rr&&(a=Rr,t=Nr,Nr=Rr=null,mm(a),t)))for(a=0;a<t.length;a++)mm(t[a])}}function Li(t,a){var l=t.stateNode;if(l===null)return null;var u=l[$t]||null;if(u===null)return null;l=u[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(l&&typeof l!="function")throw Error(r(231,a,typeof l));return l}var Gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ru=!1;if(Gn)try{var $i={};Object.defineProperty($i,"passive",{get:function(){Ru=!0}}),window.addEventListener("test",$i,$i),window.removeEventListener("test",$i,$i)}catch{Ru=!1}var pa=null,Nu=null,fl=null;function gm(){if(fl)return fl;var t,a=Nu,l=a.length,u,f="value"in pa?pa.value:pa.textContent,p=f.length;for(t=0;t<l&&a[t]===f[t];t++);var v=l-t;for(u=1;u<=v&&a[l-u]===f[p-u];u++);return fl=f.slice(t,1<u?1-u:void 0)}function hl(t){var a=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&a===13&&(t=13)):t=a,t===10&&(t=13),32<=t||t===13?t:0}function ml(){return!0}function ym(){return!1}function Dt(t){function a(l,u,f,p,v){this._reactName=l,this._targetInst=f,this.type=u,this.nativeEvent=p,this.target=v,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(l=t[w],this[w]=l?l(p):p[w]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?ml:ym,this.isPropagationStopped=ym,this}return g(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ml)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ml)},persist:function(){},isPersistent:ml}),a}var Ja={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pl=Dt(Ja),Di=g({},Ja,{view:0,detail:0}),Sw=Dt(Di),ju,ku,Ii,gl=g({},Di,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ii&&(Ii&&t.type==="mousemove"?(ju=t.screenX-Ii.screenX,ku=t.screenY-Ii.screenY):ku=ju=0,Ii=t),ju)},movementY:function(t){return"movementY"in t?t.movementY:ku}}),bm=Dt(gl),Ew=g({},gl,{dataTransfer:0}),Ow=Dt(Ew),Tw=g({},Di,{relatedTarget:0}),Cu=Dt(Tw),Aw=g({},Ja,{animationName:0,elapsedTime:0,pseudoElement:0}),Rw=Dt(Aw),Nw=g({},Ja,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),jw=Dt(Nw),kw=g({},Ja,{data:0}),vm=Dt(kw),Cw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $w(t){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(t):(t=Lw[t])?!!a[t]:!1}function Mu(){return $w}var Dw=g({},Di,{key:function(t){if(t.key){var a=Cw[t.key]||t.key;if(a!=="Unidentified")return a}return t.type==="keypress"?(t=hl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Mw[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mu,charCode:function(t){return t.type==="keypress"?hl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?hl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Iw=Dt(Dw),Pw=g({},gl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_m=Dt(Pw),Uw=g({},Di,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mu}),zw=Dt(Uw),qw=g({},Ja,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bw=Dt(qw),Hw=g({},gl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Gw=Dt(Hw),Vw=g({},Ja,{newState:0,oldState:0}),Zw=Dt(Vw),Yw=[9,13,27,32],Lu=Gn&&"CompositionEvent"in window,Pi=null;Gn&&"documentMode"in document&&(Pi=document.documentMode);var Fw=Gn&&"TextEvent"in window&&!Pi,wm=Gn&&(!Lu||Pi&&8<Pi&&11>=Pi),xm=" ",Sm=!1;function Em(t,a){switch(t){case"keyup":return Yw.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Om(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var jr=!1;function Xw(t,a){switch(t){case"compositionend":return Om(a);case"keypress":return a.which!==32?null:(Sm=!0,xm);case"textInput":return t=a.data,t===xm&&Sm?null:t;default:return null}}function Qw(t,a){if(jr)return t==="compositionend"||!Lu&&Em(t,a)?(t=gm(),fl=Nu=pa=null,jr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return wm&&a.locale!=="ko"?null:a.data;default:return null}}var Jw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tm(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a==="input"?!!Jw[t.type]:a==="textarea"}function Am(t,a,l,u){Rr?Nr?Nr.push(u):Nr=[u]:Rr=u,a=no(a,"onChange"),0<a.length&&(l=new pl("onChange","change",null,l,u),t.push({event:l,listeners:a}))}var Ui=null,zi=null;function Kw(t){ly(t,0)}function yl(t){var a=Mi(t);if(om(a))return t}function Rm(t,a){if(t==="change")return a}var Nm=!1;if(Gn){var $u;if(Gn){var Du="oninput"in document;if(!Du){var jm=document.createElement("div");jm.setAttribute("oninput","return;"),Du=typeof jm.oninput=="function"}$u=Du}else $u=!1;Nm=$u&&(!document.documentMode||9<document.documentMode)}function km(){Ui&&(Ui.detachEvent("onpropertychange",Cm),zi=Ui=null)}function Cm(t){if(t.propertyName==="value"&&yl(zi)){var a=[];Am(a,zi,t,Tu(t)),pm(Kw,a)}}function Ww(t,a,l){t==="focusin"?(km(),Ui=a,zi=l,Ui.attachEvent("onpropertychange",Cm)):t==="focusout"&&km()}function ex(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return yl(zi)}function tx(t,a){if(t==="click")return yl(a)}function nx(t,a){if(t==="input"||t==="change")return yl(a)}function ax(t,a){return t===a&&(t!==0||1/t===1/a)||t!==t&&a!==a}var Gt=typeof Object.is=="function"?Object.is:ax;function qi(t,a){if(Gt(t,a))return!0;if(typeof t!="object"||t===null||typeof a!="object"||a===null)return!1;var l=Object.keys(t),u=Object.keys(a);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var f=l[u];if(!fa.call(a,f)||!Gt(t[f],a[f]))return!1}return!0}function Mm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Lm(t,a){var l=Mm(t);t=0;for(var u;l;){if(l.nodeType===3){if(u=t+l.textContent.length,t<=a&&u>=a)return{node:l,offset:a-t};t=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Mm(l)}}function $m(t,a){return t&&a?t===a?!0:t&&t.nodeType===3?!1:a&&a.nodeType===3?$m(t,a.parentNode):"contains"in t?t.contains(a):t.compareDocumentPosition?!!(t.compareDocumentPosition(a)&16):!1:!1}function Dm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var a=cl(t.document);a instanceof t.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)t=a.contentWindow;else break;a=cl(t.document)}return a}function Iu(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a&&(a==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||a==="textarea"||t.contentEditable==="true")}var rx=Gn&&"documentMode"in document&&11>=document.documentMode,kr=null,Pu=null,Bi=null,Uu=!1;function Im(t,a,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Uu||kr==null||kr!==cl(u)||(u=kr,"selectionStart"in u&&Iu(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Bi&&qi(Bi,u)||(Bi=u,u=no(Pu,"onSelect"),0<u.length&&(a=new pl("onSelect","select",null,a,l),t.push({event:a,listeners:u}),a.target=kr)))}function Ka(t,a){var l={};return l[t.toLowerCase()]=a.toLowerCase(),l["Webkit"+t]="webkit"+a,l["Moz"+t]="moz"+a,l}var Cr={animationend:Ka("Animation","AnimationEnd"),animationiteration:Ka("Animation","AnimationIteration"),animationstart:Ka("Animation","AnimationStart"),transitionrun:Ka("Transition","TransitionRun"),transitionstart:Ka("Transition","TransitionStart"),transitioncancel:Ka("Transition","TransitionCancel"),transitionend:Ka("Transition","TransitionEnd")},zu={},Pm={};Gn&&(Pm=document.createElement("div").style,"AnimationEvent"in window||(delete Cr.animationend.animation,delete Cr.animationiteration.animation,delete Cr.animationstart.animation),"TransitionEvent"in window||delete Cr.transitionend.transition);function Wa(t){if(zu[t])return zu[t];if(!Cr[t])return t;var a=Cr[t],l;for(l in a)if(a.hasOwnProperty(l)&&l in Pm)return zu[t]=a[l];return t}var Um=Wa("animationend"),zm=Wa("animationiteration"),qm=Wa("animationstart"),ix=Wa("transitionrun"),sx=Wa("transitionstart"),lx=Wa("transitioncancel"),Bm=Wa("transitionend"),Hm=new Map,qu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qu.push("scrollEnd");function mn(t,a){Hm.set(t,a),Qa(a,[t])}var Gm=new WeakMap;function rn(t,a){if(typeof t=="object"&&t!==null){var l=Gm.get(t);return l!==void 0?l:(a={value:t,source:a,stack:sm(a)},Gm.set(t,a),a)}return{value:t,source:a,stack:sm(a)}}var sn=[],Mr=0,Bu=0;function bl(){for(var t=Mr,a=Bu=Mr=0;a<t;){var l=sn[a];sn[a++]=null;var u=sn[a];sn[a++]=null;var f=sn[a];sn[a++]=null;var p=sn[a];if(sn[a++]=null,u!==null&&f!==null){var v=u.pending;v===null?f.next=f:(f.next=v.next,v.next=f),u.pending=f}p!==0&&Vm(l,f,p)}}function vl(t,a,l,u){sn[Mr++]=t,sn[Mr++]=a,sn[Mr++]=l,sn[Mr++]=u,Bu|=u,t.lanes|=u,t=t.alternate,t!==null&&(t.lanes|=u)}function Hu(t,a,l,u){return vl(t,a,l,u),_l(t)}function Lr(t,a){return vl(t,null,null,a),_l(t)}function Vm(t,a,l){t.lanes|=l;var u=t.alternate;u!==null&&(u.lanes|=l);for(var f=!1,p=t.return;p!==null;)p.childLanes|=l,u=p.alternate,u!==null&&(u.childLanes|=l),p.tag===22&&(t=p.stateNode,t===null||t._visibility&1||(f=!0)),t=p,p=p.return;return t.tag===3?(p=t.stateNode,f&&a!==null&&(f=31-Ht(l),t=p.hiddenUpdates,u=t[f],u===null?t[f]=[a]:u.push(a),a.lane=l|536870912),p):null}function _l(t){if(50<hs)throw hs=0,Xc=null,Error(r(185));for(var a=t.return;a!==null;)t=a,a=t.return;return t.tag===3?t.stateNode:null}var $r={};function ox(t,a,l,u){this.tag=t,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vt(t,a,l,u){return new ox(t,a,l,u)}function Gu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Vn(t,a){var l=t.alternate;return l===null?(l=Vt(t.tag,a,t.key,t.mode),l.elementType=t.elementType,l.type=t.type,l.stateNode=t.stateNode,l.alternate=t,t.alternate=l):(l.pendingProps=a,l.type=t.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=t.flags&65011712,l.childLanes=t.childLanes,l.lanes=t.lanes,l.child=t.child,l.memoizedProps=t.memoizedProps,l.memoizedState=t.memoizedState,l.updateQueue=t.updateQueue,a=t.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=t.sibling,l.index=t.index,l.ref=t.ref,l.refCleanup=t.refCleanup,l}function Zm(t,a){t.flags&=65011714;var l=t.alternate;return l===null?(t.childLanes=0,t.lanes=a,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=l.childLanes,t.lanes=l.lanes,t.child=l.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=l.memoizedProps,t.memoizedState=l.memoizedState,t.updateQueue=l.updateQueue,t.type=l.type,a=l.dependencies,t.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),t}function wl(t,a,l,u,f,p){var v=0;if(u=t,typeof t=="function")Gu(t)&&(v=1);else if(typeof t=="string")v=c1(t,l,W.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Ne:return t=Vt(31,l,a,f),t.elementType=Ne,t.lanes=p,t;case x:return er(l.children,f,p,a);case E:v=8,f|=24;break;case A:return t=Vt(12,l,a,f|2),t.elementType=A,t.lanes=p,t;case q:return t=Vt(13,l,a,f),t.elementType=q,t.lanes=p,t;case ee:return t=Vt(19,l,a,f),t.elementType=ee,t.lanes=p,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case N:case k:v=10;break e;case D:v=9;break e;case F:v=11;break e;case ne:v=14;break e;case H:v=16,u=null;break e}v=29,l=Error(r(130,t===null?"null":typeof t,"")),u=null}return a=Vt(v,l,a,f),a.elementType=t,a.type=u,a.lanes=p,a}function er(t,a,l,u){return t=Vt(7,t,u,a),t.lanes=l,t}function Vu(t,a,l){return t=Vt(6,t,null,a),t.lanes=l,t}function Zu(t,a,l){return a=Vt(4,t.children!==null?t.children:[],t.key,a),a.lanes=l,a.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},a}var Dr=[],Ir=0,xl=null,Sl=0,ln=[],on=0,tr=null,Zn=1,Yn="";function nr(t,a){Dr[Ir++]=Sl,Dr[Ir++]=xl,xl=t,Sl=a}function Ym(t,a,l){ln[on++]=Zn,ln[on++]=Yn,ln[on++]=tr,tr=t;var u=Zn;t=Yn;var f=32-Ht(u)-1;u&=~(1<<f),l+=1;var p=32-Ht(a)+f;if(30<p){var v=f-f%5;p=(u&(1<<v)-1).toString(32),u>>=v,f-=v,Zn=1<<32-Ht(a)+f|l<<f|u,Yn=p+t}else Zn=1<<p|l<<f|u,Yn=t}function Yu(t){t.return!==null&&(nr(t,1),Ym(t,1,0))}function Fu(t){for(;t===xl;)xl=Dr[--Ir],Dr[Ir]=null,Sl=Dr[--Ir],Dr[Ir]=null;for(;t===tr;)tr=ln[--on],ln[on]=null,Yn=ln[--on],ln[on]=null,Zn=ln[--on],ln[on]=null}var Nt=null,Je=null,Le=!1,ar=null,kn=!1,Xu=Error(r(519));function rr(t){var a=Error(r(418,""));throw Vi(rn(a,t)),Xu}function Fm(t){var a=t.stateNode,l=t.type,u=t.memoizedProps;switch(a[Et]=t,a[$t]=u,l){case"dialog":Re("cancel",a),Re("close",a);break;case"iframe":case"object":case"embed":Re("load",a);break;case"video":case"audio":for(l=0;l<ps.length;l++)Re(ps[l],a);break;case"source":Re("error",a);break;case"img":case"image":case"link":Re("error",a),Re("load",a);break;case"details":Re("toggle",a);break;case"input":Re("invalid",a),um(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),ul(a);break;case"select":Re("invalid",a);break;case"textarea":Re("invalid",a),dm(a,u.value,u.defaultValue,u.children),ul(a)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||u.suppressHydrationWarning===!0||dy(a.textContent,l)?(u.popover!=null&&(Re("beforetoggle",a),Re("toggle",a)),u.onScroll!=null&&Re("scroll",a),u.onScrollEnd!=null&&Re("scrollend",a),u.onClick!=null&&(a.onclick=ao),a=!0):a=!1,a||rr(t)}function Xm(t){for(Nt=t.return;Nt;)switch(Nt.tag){case 5:case 13:kn=!1;return;case 27:case 3:kn=!0;return;default:Nt=Nt.return}}function Hi(t){if(t!==Nt)return!1;if(!Le)return Xm(t),Le=!0,!1;var a=t.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=t.type,l=!(l!=="form"&&l!=="button")||dd(t.type,t.memoizedProps)),l=!l),l&&Je&&rr(t),Xm(t),a===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));e:{for(t=t.nextSibling,a=0;t;){if(t.nodeType===8)if(l=t.data,l==="/$"){if(a===0){Je=gn(t.nextSibling);break e}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;t=t.nextSibling}Je=null}}else a===27?(a=Je,ka(t.type)?(t=pd,pd=null,Je=t):Je=a):Je=Nt?gn(t.stateNode.nextSibling):null;return!0}function Gi(){Je=Nt=null,Le=!1}function Qm(){var t=ar;return t!==null&&(Ut===null?Ut=t:Ut.push.apply(Ut,t),ar=null),t}function Vi(t){ar===null?ar=[t]:ar.push(t)}var Qu=U(null),ir=null,Fn=null;function ga(t,a,l){G(Qu,a._currentValue),a._currentValue=l}function Xn(t){t._currentValue=Qu.current,Z(Qu)}function Ju(t,a,l){for(;t!==null;){var u=t.alternate;if((t.childLanes&a)!==a?(t.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),t===l)break;t=t.return}}function Ku(t,a,l,u){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var p=f.dependencies;if(p!==null){var v=f.child;p=p.firstContext;e:for(;p!==null;){var w=p;p=f;for(var T=0;T<a.length;T++)if(w.context===a[T]){p.lanes|=l,w=p.alternate,w!==null&&(w.lanes|=l),Ju(p.return,l,t),u||(v=null);break e}p=w.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(r(341));v.lanes|=l,p=v.alternate,p!==null&&(p.lanes|=l),Ju(v,l,t),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===t){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function Zi(t,a,l,u){t=null;for(var f=a,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(r(387));if(v=v.memoizedProps,v!==null){var w=f.type;Gt(f.pendingProps.value,v.value)||(t!==null?t.push(w):t=[w])}}else if(f===xe.current){if(v=f.alternate,v===null)throw Error(r(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(ws):t=[ws])}f=f.return}t!==null&&Ku(a,t,l,u),a.flags|=262144}function El(t){for(t=t.firstContext;t!==null;){if(!Gt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function sr(t){ir=t,Fn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ot(t){return Jm(ir,t)}function Ol(t,a){return ir===null&&sr(t),Jm(t,a)}function Jm(t,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},Fn===null){if(t===null)throw Error(r(308));Fn=a,t.dependencies={lanes:0,firstContext:a},t.flags|=524288}else Fn=Fn.next=a;return l}var ux=typeof AbortController<"u"?AbortController:function(){var t=[],a=this.signal={aborted:!1,addEventListener:function(l,u){t.push(u)}};this.abort=function(){a.aborted=!0,t.forEach(function(l){return l()})}},cx=i.unstable_scheduleCallback,dx=i.unstable_NormalPriority,st={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wu(){return{controller:new ux,data:new Map,refCount:0}}function Yi(t){t.refCount--,t.refCount===0&&cx(dx,function(){t.controller.abort()})}var Fi=null,ec=0,Pr=0,Ur=null;function fx(t,a){if(Fi===null){var l=Fi=[];ec=0,Pr=nd(),Ur={status:"pending",value:void 0,then:function(u){l.push(u)}}}return ec++,a.then(Km,Km),a}function Km(){if(--ec===0&&Fi!==null){Ur!==null&&(Ur.status="fulfilled");var t=Fi;Fi=null,Pr=0,Ur=null;for(var a=0;a<t.length;a++)(0,t[a])()}}function hx(t,a){var l=[],u={status:"pending",value:null,reason:null,then:function(f){l.push(f)}};return t.then(function(){u.status="fulfilled",u.value=a;for(var f=0;f<l.length;f++)(0,l[f])(a)},function(f){for(u.status="rejected",u.reason=f,f=0;f<l.length;f++)(0,l[f])(void 0)}),u}var Wm=j.S;j.S=function(t,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&fx(t,a),Wm!==null&&Wm(t,a)};var lr=U(null);function tc(){var t=lr.current;return t!==null?t:Ze.pooledCache}function Tl(t,a){a===null?G(lr,lr.current):G(lr,a.pool)}function ep(){var t=tc();return t===null?null:{parent:st._currentValue,pool:t}}var Xi=Error(r(460)),tp=Error(r(474)),Al=Error(r(542)),nc={then:function(){}};function np(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Rl(){}function ap(t,a,l){switch(l=t[l],l===void 0?t.push(a):l!==a&&(a.then(Rl,Rl),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,ip(t),t;default:if(typeof a.status=="string")a.then(Rl,Rl);else{if(t=Ze,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=a,t.status="pending",t.then(function(u){if(a.status==="pending"){var f=a;f.status="fulfilled",f.value=u}},function(u){if(a.status==="pending"){var f=a;f.status="rejected",f.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,ip(t),t}throw Qi=a,Xi}}var Qi=null;function rp(){if(Qi===null)throw Error(r(459));var t=Qi;return Qi=null,t}function ip(t){if(t===Xi||t===Al)throw Error(r(483))}var ya=!1;function ac(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rc(t,a){t=t.updateQueue,a.updateQueue===t&&(a.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ba(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function va(t,a,l){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(Pe&2)!==0){var f=u.pending;return f===null?a.next=a:(a.next=f.next,f.next=a),u.pending=a,a=_l(t),Vm(t,null,l),a}return vl(t,u,a,l),_l(t)}function Ji(t,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var u=a.lanes;u&=t.pendingLanes,l|=u,a.lanes=l,Kh(t,l)}}function ic(t,a){var l=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var f=null,p=null;if(l=l.firstBaseUpdate,l!==null){do{var v={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};p===null?f=p=v:p=p.next=v,l=l.next}while(l!==null);p===null?f=p=a:p=p.next=a}else f=p=a;l={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},t.updateQueue=l;return}t=l.lastBaseUpdate,t===null?l.firstBaseUpdate=a:t.next=a,l.lastBaseUpdate=a}var sc=!1;function Ki(){if(sc){var t=Ur;if(t!==null)throw t}}function Wi(t,a,l,u){sc=!1;var f=t.updateQueue;ya=!1;var p=f.firstBaseUpdate,v=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var T=w,L=T.next;T.next=null,v===null?p=L:v.next=L,v=T;var B=t.alternate;B!==null&&(B=B.updateQueue,w=B.lastBaseUpdate,w!==v&&(w===null?B.firstBaseUpdate=L:w.next=L,B.lastBaseUpdate=T))}if(p!==null){var Y=f.baseState;v=0,B=L=T=null,w=p;do{var $=w.lane&-536870913,P=$!==w.lane;if(P?(je&$)===$:(u&$)===$){$!==0&&$===Pr&&(sc=!0),B!==null&&(B=B.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var ge=t,me=w;$=a;var Ge=l;switch(me.tag){case 1:if(ge=me.payload,typeof ge=="function"){Y=ge.call(Ge,Y,$);break e}Y=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=me.payload,$=typeof ge=="function"?ge.call(Ge,Y,$):ge,$==null)break e;Y=g({},Y,$);break e;case 2:ya=!0}}$=w.callback,$!==null&&(t.flags|=64,P&&(t.flags|=8192),P=f.callbacks,P===null?f.callbacks=[$]:P.push($))}else P={lane:$,tag:w.tag,payload:w.payload,callback:w.callback,next:null},B===null?(L=B=P,T=Y):B=B.next=P,v|=$;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;P=w,w=P.next,P.next=null,f.lastBaseUpdate=P,f.shared.pending=null}}while(!0);B===null&&(T=Y),f.baseState=T,f.firstBaseUpdate=L,f.lastBaseUpdate=B,p===null&&(f.shared.lanes=0),Aa|=v,t.lanes=v,t.memoizedState=Y}}function sp(t,a){if(typeof t!="function")throw Error(r(191,t));t.call(a)}function lp(t,a){var l=t.callbacks;if(l!==null)for(t.callbacks=null,t=0;t<l.length;t++)sp(l[t],a)}var zr=U(null),Nl=U(0);function op(t,a){t=na,G(Nl,t),G(zr,a),na=t|a.baseLanes}function lc(){G(Nl,na),G(zr,zr.current)}function oc(){na=Nl.current,Z(zr),Z(Nl)}var _a=0,Se=null,Be=null,nt=null,jl=!1,qr=!1,or=!1,kl=0,es=0,Br=null,mx=0;function et(){throw Error(r(321))}function uc(t,a){if(a===null)return!1;for(var l=0;l<a.length&&l<t.length;l++)if(!Gt(t[l],a[l]))return!1;return!0}function cc(t,a,l,u,f,p){return _a=p,Se=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,j.H=t===null||t.memoizedState===null?Vp:Zp,or=!1,p=l(u,f),or=!1,qr&&(p=cp(a,l,u,f)),up(t),p}function up(t){j.H=Il;var a=Be!==null&&Be.next!==null;if(_a=0,nt=Be=Se=null,jl=!1,es=0,Br=null,a)throw Error(r(300));t===null||ft||(t=t.dependencies,t!==null&&El(t)&&(ft=!0))}function cp(t,a,l,u){Se=t;var f=0;do{if(qr&&(Br=null),es=0,qr=!1,25<=f)throw Error(r(301));if(f+=1,nt=Be=null,t.updateQueue!=null){var p=t.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}j.H=wx,p=a(l,u)}while(qr);return p}function px(){var t=j.H,a=t.useState()[0];return a=typeof a.then=="function"?ts(a):a,t=t.useState()[0],(Be!==null?Be.memoizedState:null)!==t&&(Se.flags|=1024),a}function dc(){var t=kl!==0;return kl=0,t}function fc(t,a,l){a.updateQueue=t.updateQueue,a.flags&=-2053,t.lanes&=~l}function hc(t){if(jl){for(t=t.memoizedState;t!==null;){var a=t.queue;a!==null&&(a.pending=null),t=t.next}jl=!1}_a=0,nt=Be=Se=null,qr=!1,es=kl=0,Br=null}function It(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nt===null?Se.memoizedState=nt=t:nt=nt.next=t,nt}function at(){if(Be===null){var t=Se.alternate;t=t!==null?t.memoizedState:null}else t=Be.next;var a=nt===null?Se.memoizedState:nt.next;if(a!==null)nt=a,Be=t;else{if(t===null)throw Se.alternate===null?Error(r(467)):Error(r(310));Be=t,t={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},nt===null?Se.memoizedState=nt=t:nt=nt.next=t}return nt}function mc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ts(t){var a=es;return es+=1,Br===null&&(Br=[]),t=ap(Br,t,a),a=Se,(nt===null?a.memoizedState:nt.next)===null&&(a=a.alternate,j.H=a===null||a.memoizedState===null?Vp:Zp),t}function Cl(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ts(t);if(t.$$typeof===k)return Ot(t)}throw Error(r(438,String(t)))}function pc(t){var a=null,l=Se.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var u=Se.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(f){return f.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=mc(),Se.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(t),u=0;u<t;u++)l[u]=ct;return a.index++,l}function Qn(t,a){return typeof a=="function"?a(t):a}function Ml(t){var a=at();return gc(a,Be,t)}function gc(t,a,l){var u=t.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=l;var f=t.baseQueue,p=u.pending;if(p!==null){if(f!==null){var v=f.next;f.next=p.next,p.next=v}a.baseQueue=f=p,u.pending=null}if(p=t.baseState,f===null)t.memoizedState=p;else{a=f.next;var w=v=null,T=null,L=a,B=!1;do{var Y=L.lane&-536870913;if(Y!==L.lane?(je&Y)===Y:(_a&Y)===Y){var $=L.revertLane;if($===0)T!==null&&(T=T.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),Y===Pr&&(B=!0);else if((_a&$)===$){L=L.next,$===Pr&&(B=!0);continue}else Y={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},T===null?(w=T=Y,v=p):T=T.next=Y,Se.lanes|=$,Aa|=$;Y=L.action,or&&l(p,Y),p=L.hasEagerState?L.eagerState:l(p,Y)}else $={lane:Y,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},T===null?(w=T=$,v=p):T=T.next=$,Se.lanes|=Y,Aa|=Y;L=L.next}while(L!==null&&L!==a);if(T===null?v=p:T.next=w,!Gt(p,t.memoizedState)&&(ft=!0,B&&(l=Ur,l!==null)))throw l;t.memoizedState=p,t.baseState=v,t.baseQueue=T,u.lastRenderedState=p}return f===null&&(u.lanes=0),[t.memoizedState,u.dispatch]}function yc(t){var a=at(),l=a.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=t;var u=l.dispatch,f=l.pending,p=a.memoizedState;if(f!==null){l.pending=null;var v=f=f.next;do p=t(p,v.action),v=v.next;while(v!==f);Gt(p,a.memoizedState)||(ft=!0),a.memoizedState=p,a.baseQueue===null&&(a.baseState=p),l.lastRenderedState=p}return[p,u]}function dp(t,a,l){var u=Se,f=at(),p=Le;if(p){if(l===void 0)throw Error(r(407));l=l()}else l=a();var v=!Gt((Be||f).memoizedState,l);v&&(f.memoizedState=l,ft=!0),f=f.queue;var w=mp.bind(null,u,f,t);if(ns(2048,8,w,[t]),f.getSnapshot!==a||v||nt!==null&&nt.memoizedState.tag&1){if(u.flags|=2048,Hr(9,Ll(),hp.bind(null,u,f,l,a),null),Ze===null)throw Error(r(349));p||(_a&124)!==0||fp(u,a,l)}return l}function fp(t,a,l){t.flags|=16384,t={getSnapshot:a,value:l},a=Se.updateQueue,a===null?(a=mc(),Se.updateQueue=a,a.stores=[t]):(l=a.stores,l===null?a.stores=[t]:l.push(t))}function hp(t,a,l,u){a.value=l,a.getSnapshot=u,pp(a)&&gp(t)}function mp(t,a,l){return l(function(){pp(a)&&gp(t)})}function pp(t){var a=t.getSnapshot;t=t.value;try{var l=a();return!Gt(t,l)}catch{return!0}}function gp(t){var a=Lr(t,2);a!==null&&Qt(a,t,2)}function bc(t){var a=It();if(typeof t=="function"){var l=t;if(t=l(),or){ha(!0);try{l()}finally{ha(!1)}}}return a.memoizedState=a.baseState=t,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qn,lastRenderedState:t},a}function yp(t,a,l,u){return t.baseState=l,gc(t,Be,typeof u=="function"?u:Qn)}function gx(t,a,l,u,f){if(Dl(t))throw Error(r(485));if(t=a.action,t!==null){var p={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){p.listeners.push(v)}};j.T!==null?l(!0):p.isTransition=!1,u(p),l=a.pending,l===null?(p.next=a.pending=p,bp(a,p)):(p.next=l.next,a.pending=l.next=p)}}function bp(t,a){var l=a.action,u=a.payload,f=t.state;if(a.isTransition){var p=j.T,v={};j.T=v;try{var w=l(f,u),T=j.S;T!==null&&T(v,w),vp(t,a,w)}catch(L){vc(t,a,L)}finally{j.T=p}}else try{p=l(f,u),vp(t,a,p)}catch(L){vc(t,a,L)}}function vp(t,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){_p(t,a,u)},function(u){return vc(t,a,u)}):_p(t,a,l)}function _p(t,a,l){a.status="fulfilled",a.value=l,wp(a),t.state=l,a=t.pending,a!==null&&(l=a.next,l===a?t.pending=null:(l=l.next,a.next=l,bp(t,l)))}function vc(t,a,l){var u=t.pending;if(t.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=l,wp(a),a=a.next;while(a!==u)}t.action=null}function wp(t){t=t.listeners;for(var a=0;a<t.length;a++)(0,t[a])()}function xp(t,a){return a}function Sp(t,a){if(Le){var l=Ze.formState;if(l!==null){e:{var u=Se;if(Le){if(Je){t:{for(var f=Je,p=kn;f.nodeType!==8;){if(!p){f=null;break t}if(f=gn(f.nextSibling),f===null){f=null;break t}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){Je=gn(f.nextSibling),u=f.data==="F!";break e}}rr(u)}u=!1}u&&(a=l[0])}}return l=It(),l.memoizedState=l.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xp,lastRenderedState:a},l.queue=u,l=Bp.bind(null,Se,u),u.dispatch=l,u=bc(!1),p=Ec.bind(null,Se,!1,u.queue),u=It(),f={state:a,dispatch:null,action:t,pending:null},u.queue=f,l=gx.bind(null,Se,f,p,l),f.dispatch=l,u.memoizedState=t,[a,l,!1]}function Ep(t){var a=at();return Op(a,Be,t)}function Op(t,a,l){if(a=gc(t,a,xp)[0],t=Ml(Qn)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=ts(a)}catch(v){throw v===Xi?Al:v}else u=a;a=at();var f=a.queue,p=f.dispatch;return l!==a.memoizedState&&(Se.flags|=2048,Hr(9,Ll(),yx.bind(null,f,l),null)),[u,p,t]}function yx(t,a){t.action=a}function Tp(t){var a=at(),l=Be;if(l!==null)return Op(a,l,t);at(),a=a.memoizedState,l=at();var u=l.queue.dispatch;return l.memoizedState=t,[a,u,!1]}function Hr(t,a,l,u){return t={tag:t,create:l,deps:u,inst:a,next:null},a=Se.updateQueue,a===null&&(a=mc(),Se.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=t.next=t:(u=l.next,l.next=t,t.next=u,a.lastEffect=t),t}function Ll(){return{destroy:void 0,resource:void 0}}function Ap(){return at().memoizedState}function $l(t,a,l,u){var f=It();u=u===void 0?null:u,Se.flags|=t,f.memoizedState=Hr(1|a,Ll(),l,u)}function ns(t,a,l,u){var f=at();u=u===void 0?null:u;var p=f.memoizedState.inst;Be!==null&&u!==null&&uc(u,Be.memoizedState.deps)?f.memoizedState=Hr(a,p,l,u):(Se.flags|=t,f.memoizedState=Hr(1|a,p,l,u))}function Rp(t,a){$l(8390656,8,t,a)}function Np(t,a){ns(2048,8,t,a)}function jp(t,a){return ns(4,2,t,a)}function kp(t,a){return ns(4,4,t,a)}function Cp(t,a){if(typeof a=="function"){t=t();var l=a(t);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return t=t(),a.current=t,function(){a.current=null}}function Mp(t,a,l){l=l!=null?l.concat([t]):null,ns(4,4,Cp.bind(null,a,t),l)}function _c(){}function Lp(t,a){var l=at();a=a===void 0?null:a;var u=l.memoizedState;return a!==null&&uc(a,u[1])?u[0]:(l.memoizedState=[t,a],t)}function $p(t,a){var l=at();a=a===void 0?null:a;var u=l.memoizedState;if(a!==null&&uc(a,u[1]))return u[0];if(u=t(),or){ha(!0);try{t()}finally{ha(!1)}}return l.memoizedState=[u,a],u}function wc(t,a,l){return l===void 0||(_a&1073741824)!==0?t.memoizedState=a:(t.memoizedState=l,t=Pg(),Se.lanes|=t,Aa|=t,l)}function Dp(t,a,l,u){return Gt(l,a)?l:zr.current!==null?(t=wc(t,l,u),Gt(t,a)||(ft=!0),t):(_a&42)===0?(ft=!0,t.memoizedState=l):(t=Pg(),Se.lanes|=t,Aa|=t,a)}function Ip(t,a,l,u,f){var p=z.p;z.p=p!==0&&8>p?p:8;var v=j.T,w={};j.T=w,Ec(t,!1,a,l);try{var T=f(),L=j.S;if(L!==null&&L(w,T),T!==null&&typeof T=="object"&&typeof T.then=="function"){var B=hx(T,u);as(t,a,B,Xt(t))}else as(t,a,u,Xt(t))}catch(Y){as(t,a,{then:function(){},status:"rejected",reason:Y},Xt())}finally{z.p=p,j.T=v}}function bx(){}function xc(t,a,l,u){if(t.tag!==5)throw Error(r(476));var f=Pp(t).queue;Ip(t,f,a,I,l===null?bx:function(){return Up(t),l(u)})}function Pp(t){var a=t.memoizedState;if(a!==null)return a;a={memoizedState:I,baseState:I,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qn,lastRenderedState:I},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qn,lastRenderedState:l},next:null},t.memoizedState=a,t=t.alternate,t!==null&&(t.memoizedState=a),a}function Up(t){var a=Pp(t).next.queue;as(t,a,{},Xt())}function Sc(){return Ot(ws)}function zp(){return at().memoizedState}function qp(){return at().memoizedState}function vx(t){for(var a=t.return;a!==null;){switch(a.tag){case 24:case 3:var l=Xt();t=ba(l);var u=va(a,t,l);u!==null&&(Qt(u,a,l),Ji(u,a,l)),a={cache:Wu()},t.payload=a;return}a=a.return}}function _x(t,a,l){var u=Xt();l={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Dl(t)?Hp(a,l):(l=Hu(t,a,l,u),l!==null&&(Qt(l,t,u),Gp(l,a,u)))}function Bp(t,a,l){var u=Xt();as(t,a,l,u)}function as(t,a,l,u){var f={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Dl(t))Hp(a,f);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=a.lastRenderedReducer,p!==null))try{var v=a.lastRenderedState,w=p(v,l);if(f.hasEagerState=!0,f.eagerState=w,Gt(w,v))return vl(t,a,f,0),Ze===null&&bl(),!1}catch{}finally{}if(l=Hu(t,a,f,u),l!==null)return Qt(l,t,u),Gp(l,a,u),!0}return!1}function Ec(t,a,l,u){if(u={lane:2,revertLane:nd(),action:u,hasEagerState:!1,eagerState:null,next:null},Dl(t)){if(a)throw Error(r(479))}else a=Hu(t,l,u,2),a!==null&&Qt(a,t,2)}function Dl(t){var a=t.alternate;return t===Se||a!==null&&a===Se}function Hp(t,a){qr=jl=!0;var l=t.pending;l===null?a.next=a:(a.next=l.next,l.next=a),t.pending=a}function Gp(t,a,l){if((l&4194048)!==0){var u=a.lanes;u&=t.pendingLanes,l|=u,a.lanes=l,Kh(t,l)}}var Il={readContext:Ot,use:Cl,useCallback:et,useContext:et,useEffect:et,useImperativeHandle:et,useLayoutEffect:et,useInsertionEffect:et,useMemo:et,useReducer:et,useRef:et,useState:et,useDebugValue:et,useDeferredValue:et,useTransition:et,useSyncExternalStore:et,useId:et,useHostTransitionStatus:et,useFormState:et,useActionState:et,useOptimistic:et,useMemoCache:et,useCacheRefresh:et},Vp={readContext:Ot,use:Cl,useCallback:function(t,a){return It().memoizedState=[t,a===void 0?null:a],t},useContext:Ot,useEffect:Rp,useImperativeHandle:function(t,a,l){l=l!=null?l.concat([t]):null,$l(4194308,4,Cp.bind(null,a,t),l)},useLayoutEffect:function(t,a){return $l(4194308,4,t,a)},useInsertionEffect:function(t,a){$l(4,2,t,a)},useMemo:function(t,a){var l=It();a=a===void 0?null:a;var u=t();if(or){ha(!0);try{t()}finally{ha(!1)}}return l.memoizedState=[u,a],u},useReducer:function(t,a,l){var u=It();if(l!==void 0){var f=l(a);if(or){ha(!0);try{l(a)}finally{ha(!1)}}}else f=a;return u.memoizedState=u.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},u.queue=t,t=t.dispatch=_x.bind(null,Se,t),[u.memoizedState,t]},useRef:function(t){var a=It();return t={current:t},a.memoizedState=t},useState:function(t){t=bc(t);var a=t.queue,l=Bp.bind(null,Se,a);return a.dispatch=l,[t.memoizedState,l]},useDebugValue:_c,useDeferredValue:function(t,a){var l=It();return wc(l,t,a)},useTransition:function(){var t=bc(!1);return t=Ip.bind(null,Se,t.queue,!0,!1),It().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,a,l){var u=Se,f=It();if(Le){if(l===void 0)throw Error(r(407));l=l()}else{if(l=a(),Ze===null)throw Error(r(349));(je&124)!==0||fp(u,a,l)}f.memoizedState=l;var p={value:l,getSnapshot:a};return f.queue=p,Rp(mp.bind(null,u,p,t),[t]),u.flags|=2048,Hr(9,Ll(),hp.bind(null,u,p,l,a),null),l},useId:function(){var t=It(),a=Ze.identifierPrefix;if(Le){var l=Yn,u=Zn;l=(u&~(1<<32-Ht(u)-1)).toString(32)+l,a=""+a+"R"+l,l=kl++,0<l&&(a+="H"+l.toString(32)),a+=""}else l=mx++,a=""+a+"r"+l.toString(32)+"";return t.memoizedState=a},useHostTransitionStatus:Sc,useFormState:Sp,useActionState:Sp,useOptimistic:function(t){var a=It();a.memoizedState=a.baseState=t;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=Ec.bind(null,Se,!0,l),l.dispatch=a,[t,a]},useMemoCache:pc,useCacheRefresh:function(){return It().memoizedState=vx.bind(null,Se)}},Zp={readContext:Ot,use:Cl,useCallback:Lp,useContext:Ot,useEffect:Np,useImperativeHandle:Mp,useInsertionEffect:jp,useLayoutEffect:kp,useMemo:$p,useReducer:Ml,useRef:Ap,useState:function(){return Ml(Qn)},useDebugValue:_c,useDeferredValue:function(t,a){var l=at();return Dp(l,Be.memoizedState,t,a)},useTransition:function(){var t=Ml(Qn)[0],a=at().memoizedState;return[typeof t=="boolean"?t:ts(t),a]},useSyncExternalStore:dp,useId:zp,useHostTransitionStatus:Sc,useFormState:Ep,useActionState:Ep,useOptimistic:function(t,a){var l=at();return yp(l,Be,t,a)},useMemoCache:pc,useCacheRefresh:qp},wx={readContext:Ot,use:Cl,useCallback:Lp,useContext:Ot,useEffect:Np,useImperativeHandle:Mp,useInsertionEffect:jp,useLayoutEffect:kp,useMemo:$p,useReducer:yc,useRef:Ap,useState:function(){return yc(Qn)},useDebugValue:_c,useDeferredValue:function(t,a){var l=at();return Be===null?wc(l,t,a):Dp(l,Be.memoizedState,t,a)},useTransition:function(){var t=yc(Qn)[0],a=at().memoizedState;return[typeof t=="boolean"?t:ts(t),a]},useSyncExternalStore:dp,useId:zp,useHostTransitionStatus:Sc,useFormState:Tp,useActionState:Tp,useOptimistic:function(t,a){var l=at();return Be!==null?yp(l,Be,t,a):(l.baseState=t,[t,l.queue.dispatch])},useMemoCache:pc,useCacheRefresh:qp},Gr=null,rs=0;function Pl(t){var a=rs;return rs+=1,Gr===null&&(Gr=[]),ap(Gr,t,a)}function is(t,a){a=a.props.ref,t.ref=a!==void 0?a:null}function Ul(t,a){throw a.$$typeof===y?Error(r(525)):(t=Object.prototype.toString.call(a),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":t)))}function Yp(t){var a=t._init;return a(t._payload)}function Fp(t){function a(C,R){if(t){var M=C.deletions;M===null?(C.deletions=[R],C.flags|=16):M.push(R)}}function l(C,R){if(!t)return null;for(;R!==null;)a(C,R),R=R.sibling;return null}function u(C){for(var R=new Map;C!==null;)C.key!==null?R.set(C.key,C):R.set(C.index,C),C=C.sibling;return R}function f(C,R){return C=Vn(C,R),C.index=0,C.sibling=null,C}function p(C,R,M){return C.index=M,t?(M=C.alternate,M!==null?(M=M.index,M<R?(C.flags|=67108866,R):M):(C.flags|=67108866,R)):(C.flags|=1048576,R)}function v(C){return t&&C.alternate===null&&(C.flags|=67108866),C}function w(C,R,M,V){return R===null||R.tag!==6?(R=Vu(M,C.mode,V),R.return=C,R):(R=f(R,M),R.return=C,R)}function T(C,R,M,V){var re=M.type;return re===x?B(C,R,M.props.children,V,M.key):R!==null&&(R.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===H&&Yp(re)===R.type)?(R=f(R,M.props),is(R,M),R.return=C,R):(R=wl(M.type,M.key,M.props,null,C.mode,V),is(R,M),R.return=C,R)}function L(C,R,M,V){return R===null||R.tag!==4||R.stateNode.containerInfo!==M.containerInfo||R.stateNode.implementation!==M.implementation?(R=Zu(M,C.mode,V),R.return=C,R):(R=f(R,M.children||[]),R.return=C,R)}function B(C,R,M,V,re){return R===null||R.tag!==7?(R=er(M,C.mode,V,re),R.return=C,R):(R=f(R,M),R.return=C,R)}function Y(C,R,M){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=Vu(""+R,C.mode,M),R.return=C,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case b:return M=wl(R.type,R.key,R.props,null,C.mode,M),is(M,R),M.return=C,M;case _:return R=Zu(R,C.mode,M),R.return=C,R;case H:var V=R._init;return R=V(R._payload),Y(C,R,M)}if(X(R)||qe(R))return R=er(R,C.mode,M,null),R.return=C,R;if(typeof R.then=="function")return Y(C,Pl(R),M);if(R.$$typeof===k)return Y(C,Ol(C,R),M);Ul(C,R)}return null}function $(C,R,M,V){var re=R!==null?R.key:null;if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return re!==null?null:w(C,R,""+M,V);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case b:return M.key===re?T(C,R,M,V):null;case _:return M.key===re?L(C,R,M,V):null;case H:return re=M._init,M=re(M._payload),$(C,R,M,V)}if(X(M)||qe(M))return re!==null?null:B(C,R,M,V,null);if(typeof M.then=="function")return $(C,R,Pl(M),V);if(M.$$typeof===k)return $(C,R,Ol(C,M),V);Ul(C,M)}return null}function P(C,R,M,V,re){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return C=C.get(M)||null,w(R,C,""+V,re);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case b:return C=C.get(V.key===null?M:V.key)||null,T(R,C,V,re);case _:return C=C.get(V.key===null?M:V.key)||null,L(R,C,V,re);case H:var Oe=V._init;return V=Oe(V._payload),P(C,R,M,V,re)}if(X(V)||qe(V))return C=C.get(M)||null,B(R,C,V,re,null);if(typeof V.then=="function")return P(C,R,M,Pl(V),re);if(V.$$typeof===k)return P(C,R,M,Ol(R,V),re);Ul(R,V)}return null}function ge(C,R,M,V){for(var re=null,Oe=null,de=R,pe=R=0,mt=null;de!==null&&pe<M.length;pe++){de.index>pe?(mt=de,de=null):mt=de.sibling;var Ce=$(C,de,M[pe],V);if(Ce===null){de===null&&(de=mt);break}t&&de&&Ce.alternate===null&&a(C,de),R=p(Ce,R,pe),Oe===null?re=Ce:Oe.sibling=Ce,Oe=Ce,de=mt}if(pe===M.length)return l(C,de),Le&&nr(C,pe),re;if(de===null){for(;pe<M.length;pe++)de=Y(C,M[pe],V),de!==null&&(R=p(de,R,pe),Oe===null?re=de:Oe.sibling=de,Oe=de);return Le&&nr(C,pe),re}for(de=u(de);pe<M.length;pe++)mt=P(de,C,pe,M[pe],V),mt!==null&&(t&&mt.alternate!==null&&de.delete(mt.key===null?pe:mt.key),R=p(mt,R,pe),Oe===null?re=mt:Oe.sibling=mt,Oe=mt);return t&&de.forEach(function(Da){return a(C,Da)}),Le&&nr(C,pe),re}function me(C,R,M,V){if(M==null)throw Error(r(151));for(var re=null,Oe=null,de=R,pe=R=0,mt=null,Ce=M.next();de!==null&&!Ce.done;pe++,Ce=M.next()){de.index>pe?(mt=de,de=null):mt=de.sibling;var Da=$(C,de,Ce.value,V);if(Da===null){de===null&&(de=mt);break}t&&de&&Da.alternate===null&&a(C,de),R=p(Da,R,pe),Oe===null?re=Da:Oe.sibling=Da,Oe=Da,de=mt}if(Ce.done)return l(C,de),Le&&nr(C,pe),re;if(de===null){for(;!Ce.done;pe++,Ce=M.next())Ce=Y(C,Ce.value,V),Ce!==null&&(R=p(Ce,R,pe),Oe===null?re=Ce:Oe.sibling=Ce,Oe=Ce);return Le&&nr(C,pe),re}for(de=u(de);!Ce.done;pe++,Ce=M.next())Ce=P(de,C,pe,Ce.value,V),Ce!==null&&(t&&Ce.alternate!==null&&de.delete(Ce.key===null?pe:Ce.key),R=p(Ce,R,pe),Oe===null?re=Ce:Oe.sibling=Ce,Oe=Ce);return t&&de.forEach(function(x1){return a(C,x1)}),Le&&nr(C,pe),re}function Ge(C,R,M,V){if(typeof M=="object"&&M!==null&&M.type===x&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case b:e:{for(var re=M.key;R!==null;){if(R.key===re){if(re=M.type,re===x){if(R.tag===7){l(C,R.sibling),V=f(R,M.props.children),V.return=C,C=V;break e}}else if(R.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===H&&Yp(re)===R.type){l(C,R.sibling),V=f(R,M.props),is(V,M),V.return=C,C=V;break e}l(C,R);break}else a(C,R);R=R.sibling}M.type===x?(V=er(M.props.children,C.mode,V,M.key),V.return=C,C=V):(V=wl(M.type,M.key,M.props,null,C.mode,V),is(V,M),V.return=C,C=V)}return v(C);case _:e:{for(re=M.key;R!==null;){if(R.key===re)if(R.tag===4&&R.stateNode.containerInfo===M.containerInfo&&R.stateNode.implementation===M.implementation){l(C,R.sibling),V=f(R,M.children||[]),V.return=C,C=V;break e}else{l(C,R);break}else a(C,R);R=R.sibling}V=Zu(M,C.mode,V),V.return=C,C=V}return v(C);case H:return re=M._init,M=re(M._payload),Ge(C,R,M,V)}if(X(M))return ge(C,R,M,V);if(qe(M)){if(re=qe(M),typeof re!="function")throw Error(r(150));return M=re.call(M),me(C,R,M,V)}if(typeof M.then=="function")return Ge(C,R,Pl(M),V);if(M.$$typeof===k)return Ge(C,R,Ol(C,M),V);Ul(C,M)}return typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint"?(M=""+M,R!==null&&R.tag===6?(l(C,R.sibling),V=f(R,M),V.return=C,C=V):(l(C,R),V=Vu(M,C.mode,V),V.return=C,C=V),v(C)):l(C,R)}return function(C,R,M,V){try{rs=0;var re=Ge(C,R,M,V);return Gr=null,re}catch(de){if(de===Xi||de===Al)throw de;var Oe=Vt(29,de,null,C.mode);return Oe.lanes=V,Oe.return=C,Oe}finally{}}}var Vr=Fp(!0),Xp=Fp(!1),un=U(null),Cn=null;function wa(t){var a=t.alternate;G(lt,lt.current&1),G(un,t),Cn===null&&(a===null||zr.current!==null||a.memoizedState!==null)&&(Cn=t)}function Qp(t){if(t.tag===22){if(G(lt,lt.current),G(un,t),Cn===null){var a=t.alternate;a!==null&&a.memoizedState!==null&&(Cn=t)}}else xa()}function xa(){G(lt,lt.current),G(un,un.current)}function Jn(t){Z(un),Cn===t&&(Cn=null),Z(lt)}var lt=U(0);function zl(t){for(var a=t;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||md(l)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function Oc(t,a,l,u){a=t.memoizedState,l=l(u,a),l=l==null?a:g({},a,l),t.memoizedState=l,t.lanes===0&&(t.updateQueue.baseState=l)}var Tc={enqueueSetState:function(t,a,l){t=t._reactInternals;var u=Xt(),f=ba(u);f.payload=a,l!=null&&(f.callback=l),a=va(t,f,u),a!==null&&(Qt(a,t,u),Ji(a,t,u))},enqueueReplaceState:function(t,a,l){t=t._reactInternals;var u=Xt(),f=ba(u);f.tag=1,f.payload=a,l!=null&&(f.callback=l),a=va(t,f,u),a!==null&&(Qt(a,t,u),Ji(a,t,u))},enqueueForceUpdate:function(t,a){t=t._reactInternals;var l=Xt(),u=ba(l);u.tag=2,a!=null&&(u.callback=a),a=va(t,u,l),a!==null&&(Qt(a,t,l),Ji(a,t,l))}};function Jp(t,a,l,u,f,p,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,p,v):a.prototype&&a.prototype.isPureReactComponent?!qi(l,u)||!qi(f,p):!0}function Kp(t,a,l,u){t=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,u),a.state!==t&&Tc.enqueueReplaceState(a,a.state,null)}function ur(t,a){var l=a;if("ref"in a){l={};for(var u in a)u!=="ref"&&(l[u]=a[u])}if(t=t.defaultProps){l===a&&(l=g({},l));for(var f in t)l[f]===void 0&&(l[f]=t[f])}return l}var ql=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Wp(t){ql(t)}function eg(t){console.error(t)}function tg(t){ql(t)}function Bl(t,a){try{var l=t.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function ng(t,a,l){try{var u=t.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Ac(t,a,l){return l=ba(l),l.tag=3,l.payload={element:null},l.callback=function(){Bl(t,a)},l}function ag(t){return t=ba(t),t.tag=3,t}function rg(t,a,l,u){var f=l.type.getDerivedStateFromError;if(typeof f=="function"){var p=u.value;t.payload=function(){return f(p)},t.callback=function(){ng(a,l,u)}}var v=l.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){ng(a,l,u),typeof f!="function"&&(Ra===null?Ra=new Set([this]):Ra.add(this));var w=u.stack;this.componentDidCatch(u.value,{componentStack:w!==null?w:""})})}function xx(t,a,l,u,f){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=l.alternate,a!==null&&Zi(a,l,f,!0),l=un.current,l!==null){switch(l.tag){case 13:return Cn===null?Jc():l.alternate===null&&Ke===0&&(Ke=3),l.flags&=-257,l.flags|=65536,l.lanes=f,u===nc?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([u]):a.add(u),Wc(t,u,f)),!1;case 22:return l.flags|=65536,u===nc?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([u]):l.add(u)),Wc(t,u,f)),!1}throw Error(r(435,l.tag))}return Wc(t,u,f),Jc(),!1}if(Le)return a=un.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=f,u!==Xu&&(t=Error(r(422),{cause:u}),Vi(rn(t,l)))):(u!==Xu&&(a=Error(r(423),{cause:u}),Vi(rn(a,l))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,u=rn(u,l),f=Ac(t.stateNode,u,f),ic(t,f),Ke!==4&&(Ke=2)),!1;var p=Error(r(520),{cause:u});if(p=rn(p,l),fs===null?fs=[p]:fs.push(p),Ke!==4&&(Ke=2),a===null)return!0;u=rn(u,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,t=f&-f,l.lanes|=t,t=Ac(l.stateNode,u,t),ic(l,t),!1;case 1:if(a=l.type,p=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Ra===null||!Ra.has(p))))return l.flags|=65536,f&=-f,l.lanes|=f,f=ag(f),rg(f,t,l,u),ic(l,f),!1}l=l.return}while(l!==null);return!1}var ig=Error(r(461)),ft=!1;function _t(t,a,l,u){a.child=t===null?Xp(a,null,l,u):Vr(a,t.child,l,u)}function sg(t,a,l,u,f){l=l.render;var p=a.ref;if("ref"in u){var v={};for(var w in u)w!=="ref"&&(v[w]=u[w])}else v=u;return sr(a),u=cc(t,a,l,v,p,f),w=dc(),t!==null&&!ft?(fc(t,a,f),Kn(t,a,f)):(Le&&w&&Yu(a),a.flags|=1,_t(t,a,u,f),a.child)}function lg(t,a,l,u,f){if(t===null){var p=l.type;return typeof p=="function"&&!Gu(p)&&p.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=p,og(t,a,p,u,f)):(t=wl(l.type,null,u,a,a.mode,f),t.ref=a.ref,t.return=a,a.child=t)}if(p=t.child,!$c(t,f)){var v=p.memoizedProps;if(l=l.compare,l=l!==null?l:qi,l(v,u)&&t.ref===a.ref)return Kn(t,a,f)}return a.flags|=1,t=Vn(p,u),t.ref=a.ref,t.return=a,a.child=t}function og(t,a,l,u,f){if(t!==null){var p=t.memoizedProps;if(qi(p,u)&&t.ref===a.ref)if(ft=!1,a.pendingProps=u=p,$c(t,f))(t.flags&131072)!==0&&(ft=!0);else return a.lanes=t.lanes,Kn(t,a,f)}return Rc(t,a,l,u,f)}function ug(t,a,l){var u=a.pendingProps,f=u.children,p=t!==null?t.memoizedState:null;if(u.mode==="hidden"){if((a.flags&128)!==0){if(u=p!==null?p.baseLanes|l:l,t!==null){for(f=a.child=t.child,p=0;f!==null;)p=p|f.lanes|f.childLanes,f=f.sibling;a.childLanes=p&~u}else a.childLanes=0,a.child=null;return cg(t,a,u,l)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},t!==null&&Tl(a,p!==null?p.cachePool:null),p!==null?op(a,p):lc(),Qp(a);else return a.lanes=a.childLanes=536870912,cg(t,a,p!==null?p.baseLanes|l:l,l)}else p!==null?(Tl(a,p.cachePool),op(a,p),xa(),a.memoizedState=null):(t!==null&&Tl(a,null),lc(),xa());return _t(t,a,f,l),a.child}function cg(t,a,l,u){var f=tc();return f=f===null?null:{parent:st._currentValue,pool:f},a.memoizedState={baseLanes:l,cachePool:f},t!==null&&Tl(a,null),lc(),Qp(a),t!==null&&Zi(t,a,u,!0),null}function Hl(t,a){var l=a.ref;if(l===null)t!==null&&t.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(t===null||t.ref!==l)&&(a.flags|=4194816)}}function Rc(t,a,l,u,f){return sr(a),l=cc(t,a,l,u,void 0,f),u=dc(),t!==null&&!ft?(fc(t,a,f),Kn(t,a,f)):(Le&&u&&Yu(a),a.flags|=1,_t(t,a,l,f),a.child)}function dg(t,a,l,u,f,p){return sr(a),a.updateQueue=null,l=cp(a,u,l,f),up(t),u=dc(),t!==null&&!ft?(fc(t,a,p),Kn(t,a,p)):(Le&&u&&Yu(a),a.flags|=1,_t(t,a,l,p),a.child)}function fg(t,a,l,u,f){if(sr(a),a.stateNode===null){var p=$r,v=l.contextType;typeof v=="object"&&v!==null&&(p=Ot(v)),p=new l(u,p),a.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Tc,a.stateNode=p,p._reactInternals=a,p=a.stateNode,p.props=u,p.state=a.memoizedState,p.refs={},ac(a),v=l.contextType,p.context=typeof v=="object"&&v!==null?Ot(v):$r,p.state=a.memoizedState,v=l.getDerivedStateFromProps,typeof v=="function"&&(Oc(a,l,v,u),p.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(v=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),v!==p.state&&Tc.enqueueReplaceState(p,p.state,null),Wi(a,u,p,f),Ki(),p.state=a.memoizedState),typeof p.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(t===null){p=a.stateNode;var w=a.memoizedProps,T=ur(l,w);p.props=T;var L=p.context,B=l.contextType;v=$r,typeof B=="object"&&B!==null&&(v=Ot(B));var Y=l.getDerivedStateFromProps;B=typeof Y=="function"||typeof p.getSnapshotBeforeUpdate=="function",w=a.pendingProps!==w,B||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(w||L!==v)&&Kp(a,p,u,v),ya=!1;var $=a.memoizedState;p.state=$,Wi(a,u,p,f),Ki(),L=a.memoizedState,w||$!==L||ya?(typeof Y=="function"&&(Oc(a,l,Y,u),L=a.memoizedState),(T=ya||Jp(a,l,T,u,$,L,v))?(B||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(a.flags|=4194308)):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=L),p.props=u,p.state=L,p.context=v,u=T):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{p=a.stateNode,rc(t,a),v=a.memoizedProps,B=ur(l,v),p.props=B,Y=a.pendingProps,$=p.context,L=l.contextType,T=$r,typeof L=="object"&&L!==null&&(T=Ot(L)),w=l.getDerivedStateFromProps,(L=typeof w=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(v!==Y||$!==T)&&Kp(a,p,u,T),ya=!1,$=a.memoizedState,p.state=$,Wi(a,u,p,f),Ki();var P=a.memoizedState;v!==Y||$!==P||ya||t!==null&&t.dependencies!==null&&El(t.dependencies)?(typeof w=="function"&&(Oc(a,l,w,u),P=a.memoizedState),(B=ya||Jp(a,l,B,u,$,P,T)||t!==null&&t.dependencies!==null&&El(t.dependencies))?(L||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,P,T),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,P,T)),typeof p.componentDidUpdate=="function"&&(a.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof p.componentDidUpdate!="function"||v===t.memoizedProps&&$===t.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&$===t.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=P),p.props=u,p.state=P,p.context=T,u=B):(typeof p.componentDidUpdate!="function"||v===t.memoizedProps&&$===t.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&$===t.memoizedState||(a.flags|=1024),u=!1)}return p=u,Hl(t,a),u=(a.flags&128)!==0,p||u?(p=a.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:p.render(),a.flags|=1,t!==null&&u?(a.child=Vr(a,t.child,null,f),a.child=Vr(a,null,l,f)):_t(t,a,l,f),a.memoizedState=p.state,t=a.child):t=Kn(t,a,f),t}function hg(t,a,l,u){return Gi(),a.flags|=256,_t(t,a,l,u),a.child}var Nc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jc(t){return{baseLanes:t,cachePool:ep()}}function kc(t,a,l){return t=t!==null?t.childLanes&~l:0,a&&(t|=cn),t}function mg(t,a,l){var u=a.pendingProps,f=!1,p=(a.flags&128)!==0,v;if((v=p)||(v=t!==null&&t.memoizedState===null?!1:(lt.current&2)!==0),v&&(f=!0,a.flags&=-129),v=(a.flags&32)!==0,a.flags&=-33,t===null){if(Le){if(f?wa(a):xa(),Le){var w=Je,T;if(T=w){e:{for(T=w,w=kn;T.nodeType!==8;){if(!w){w=null;break e}if(T=gn(T.nextSibling),T===null){w=null;break e}}w=T}w!==null?(a.memoizedState={dehydrated:w,treeContext:tr!==null?{id:Zn,overflow:Yn}:null,retryLane:536870912,hydrationErrors:null},T=Vt(18,null,null,0),T.stateNode=w,T.return=a,a.child=T,Nt=a,Je=null,T=!0):T=!1}T||rr(a)}if(w=a.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return md(w)?a.lanes=32:a.lanes=536870912,null;Jn(a)}return w=u.children,u=u.fallback,f?(xa(),f=a.mode,w=Gl({mode:"hidden",children:w},f),u=er(u,f,l,null),w.return=a,u.return=a,w.sibling=u,a.child=w,f=a.child,f.memoizedState=jc(l),f.childLanes=kc(t,v,l),a.memoizedState=Nc,u):(wa(a),Cc(a,w))}if(T=t.memoizedState,T!==null&&(w=T.dehydrated,w!==null)){if(p)a.flags&256?(wa(a),a.flags&=-257,a=Mc(t,a,l)):a.memoizedState!==null?(xa(),a.child=t.child,a.flags|=128,a=null):(xa(),f=u.fallback,w=a.mode,u=Gl({mode:"visible",children:u.children},w),f=er(f,w,l,null),f.flags|=2,u.return=a,f.return=a,u.sibling=f,a.child=u,Vr(a,t.child,null,l),u=a.child,u.memoizedState=jc(l),u.childLanes=kc(t,v,l),a.memoizedState=Nc,a=f);else if(wa(a),md(w)){if(v=w.nextSibling&&w.nextSibling.dataset,v)var L=v.dgst;v=L,u=Error(r(419)),u.stack="",u.digest=v,Vi({value:u,source:null,stack:null}),a=Mc(t,a,l)}else if(ft||Zi(t,a,l,!1),v=(l&t.childLanes)!==0,ft||v){if(v=Ze,v!==null&&(u=l&-l,u=(u&42)!==0?1:pu(u),u=(u&(v.suspendedLanes|l))!==0?0:u,u!==0&&u!==T.retryLane))throw T.retryLane=u,Lr(t,u),Qt(v,t,u),ig;w.data==="$?"||Jc(),a=Mc(t,a,l)}else w.data==="$?"?(a.flags|=192,a.child=t.child,a=null):(t=T.treeContext,Je=gn(w.nextSibling),Nt=a,Le=!0,ar=null,kn=!1,t!==null&&(ln[on++]=Zn,ln[on++]=Yn,ln[on++]=tr,Zn=t.id,Yn=t.overflow,tr=a),a=Cc(a,u.children),a.flags|=4096);return a}return f?(xa(),f=u.fallback,w=a.mode,T=t.child,L=T.sibling,u=Vn(T,{mode:"hidden",children:u.children}),u.subtreeFlags=T.subtreeFlags&65011712,L!==null?f=Vn(L,f):(f=er(f,w,l,null),f.flags|=2),f.return=a,u.return=a,u.sibling=f,a.child=u,u=f,f=a.child,w=t.child.memoizedState,w===null?w=jc(l):(T=w.cachePool,T!==null?(L=st._currentValue,T=T.parent!==L?{parent:L,pool:L}:T):T=ep(),w={baseLanes:w.baseLanes|l,cachePool:T}),f.memoizedState=w,f.childLanes=kc(t,v,l),a.memoizedState=Nc,u):(wa(a),l=t.child,t=l.sibling,l=Vn(l,{mode:"visible",children:u.children}),l.return=a,l.sibling=null,t!==null&&(v=a.deletions,v===null?(a.deletions=[t],a.flags|=16):v.push(t)),a.child=l,a.memoizedState=null,l)}function Cc(t,a){return a=Gl({mode:"visible",children:a},t.mode),a.return=t,t.child=a}function Gl(t,a){return t=Vt(22,t,null,a),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Mc(t,a,l){return Vr(a,t.child,null,l),t=Cc(a,a.pendingProps.children),t.flags|=2,a.memoizedState=null,t}function pg(t,a,l){t.lanes|=a;var u=t.alternate;u!==null&&(u.lanes|=a),Ju(t.return,a,l)}function Lc(t,a,l,u,f){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:f}:(p.isBackwards=a,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=l,p.tailMode=f)}function gg(t,a,l){var u=a.pendingProps,f=u.revealOrder,p=u.tail;if(_t(t,a,u.children,l),u=lt.current,(u&2)!==0)u=u&1|2,a.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=a.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&pg(t,l,a);else if(t.tag===19)pg(t,l,a);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===a)break e;for(;t.sibling===null;){if(t.return===null||t.return===a)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}switch(G(lt,u),f){case"forwards":for(l=a.child,f=null;l!==null;)t=l.alternate,t!==null&&zl(t)===null&&(f=l),l=l.sibling;l=f,l===null?(f=a.child,a.child=null):(f=l.sibling,l.sibling=null),Lc(a,!1,f,l,p);break;case"backwards":for(l=null,f=a.child,a.child=null;f!==null;){if(t=f.alternate,t!==null&&zl(t)===null){a.child=f;break}t=f.sibling,f.sibling=l,l=f,f=t}Lc(a,!0,l,null,p);break;case"together":Lc(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Kn(t,a,l){if(t!==null&&(a.dependencies=t.dependencies),Aa|=a.lanes,(l&a.childLanes)===0)if(t!==null){if(Zi(t,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(t!==null&&a.child!==t.child)throw Error(r(153));if(a.child!==null){for(t=a.child,l=Vn(t,t.pendingProps),a.child=l,l.return=a;t.sibling!==null;)t=t.sibling,l=l.sibling=Vn(t,t.pendingProps),l.return=a;l.sibling=null}return a.child}function $c(t,a){return(t.lanes&a)!==0?!0:(t=t.dependencies,!!(t!==null&&El(t)))}function Sx(t,a,l){switch(a.tag){case 3:$e(a,a.stateNode.containerInfo),ga(a,st,t.memoizedState.cache),Gi();break;case 27:case 5:tn(a);break;case 4:$e(a,a.stateNode.containerInfo);break;case 10:ga(a,a.type,a.memoizedProps.value);break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(wa(a),a.flags|=128,null):(l&a.child.childLanes)!==0?mg(t,a,l):(wa(a),t=Kn(t,a,l),t!==null?t.sibling:null);wa(a);break;case 19:var f=(t.flags&128)!==0;if(u=(l&a.childLanes)!==0,u||(Zi(t,a,l,!1),u=(l&a.childLanes)!==0),f){if(u)return gg(t,a,l);a.flags|=128}if(f=a.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),G(lt,lt.current),u)break;return null;case 22:case 23:return a.lanes=0,ug(t,a,l);case 24:ga(a,st,t.memoizedState.cache)}return Kn(t,a,l)}function yg(t,a,l){if(t!==null)if(t.memoizedProps!==a.pendingProps)ft=!0;else{if(!$c(t,l)&&(a.flags&128)===0)return ft=!1,Sx(t,a,l);ft=(t.flags&131072)!==0}else ft=!1,Le&&(a.flags&1048576)!==0&&Ym(a,Sl,a.index);switch(a.lanes=0,a.tag){case 16:e:{t=a.pendingProps;var u=a.elementType,f=u._init;if(u=f(u._payload),a.type=u,typeof u=="function")Gu(u)?(t=ur(u,t),a.tag=1,a=fg(null,a,u,t,l)):(a.tag=0,a=Rc(null,a,u,t,l));else{if(u!=null){if(f=u.$$typeof,f===F){a.tag=11,a=sg(null,a,u,t,l);break e}else if(f===ne){a.tag=14,a=lg(null,a,u,t,l);break e}}throw a=te(u)||u,Error(r(306,a,""))}}return a;case 0:return Rc(t,a,a.type,a.pendingProps,l);case 1:return u=a.type,f=ur(u,a.pendingProps),fg(t,a,u,f,l);case 3:e:{if($e(a,a.stateNode.containerInfo),t===null)throw Error(r(387));u=a.pendingProps;var p=a.memoizedState;f=p.element,rc(t,a),Wi(a,u,null,l);var v=a.memoizedState;if(u=v.cache,ga(a,st,u),u!==p.cache&&Ku(a,[st],l,!0),Ki(),u=v.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:v.cache},a.updateQueue.baseState=p,a.memoizedState=p,a.flags&256){a=hg(t,a,u,l);break e}else if(u!==f){f=rn(Error(r(424)),a),Vi(f),a=hg(t,a,u,l);break e}else{switch(t=a.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Je=gn(t.firstChild),Nt=a,Le=!0,ar=null,kn=!0,l=Xp(a,null,u,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Gi(),u===f){a=Kn(t,a,l);break e}_t(t,a,u,l)}a=a.child}return a;case 26:return Hl(t,a),t===null?(l=wy(a.type,null,a.pendingProps,null))?a.memoizedState=l:Le||(l=a.type,t=a.pendingProps,u=ro(he.current).createElement(l),u[Et]=a,u[$t]=t,xt(u,l,t),dt(u),a.stateNode=u):a.memoizedState=wy(a.type,t.memoizedProps,a.pendingProps,t.memoizedState),null;case 27:return tn(a),t===null&&Le&&(u=a.stateNode=by(a.type,a.pendingProps,he.current),Nt=a,kn=!0,f=Je,ka(a.type)?(pd=f,Je=gn(u.firstChild)):Je=f),_t(t,a,a.pendingProps.children,l),Hl(t,a),t===null&&(a.flags|=4194304),a.child;case 5:return t===null&&Le&&((f=u=Je)&&(u=Jx(u,a.type,a.pendingProps,kn),u!==null?(a.stateNode=u,Nt=a,Je=gn(u.firstChild),kn=!1,f=!0):f=!1),f||rr(a)),tn(a),f=a.type,p=a.pendingProps,v=t!==null?t.memoizedProps:null,u=p.children,dd(f,p)?u=null:v!==null&&dd(f,v)&&(a.flags|=32),a.memoizedState!==null&&(f=cc(t,a,px,null,null,l),ws._currentValue=f),Hl(t,a),_t(t,a,u,l),a.child;case 6:return t===null&&Le&&((t=l=Je)&&(l=Kx(l,a.pendingProps,kn),l!==null?(a.stateNode=l,Nt=a,Je=null,t=!0):t=!1),t||rr(a)),null;case 13:return mg(t,a,l);case 4:return $e(a,a.stateNode.containerInfo),u=a.pendingProps,t===null?a.child=Vr(a,null,u,l):_t(t,a,u,l),a.child;case 11:return sg(t,a,a.type,a.pendingProps,l);case 7:return _t(t,a,a.pendingProps,l),a.child;case 8:return _t(t,a,a.pendingProps.children,l),a.child;case 12:return _t(t,a,a.pendingProps.children,l),a.child;case 10:return u=a.pendingProps,ga(a,a.type,u.value),_t(t,a,u.children,l),a.child;case 9:return f=a.type._context,u=a.pendingProps.children,sr(a),f=Ot(f),u=u(f),a.flags|=1,_t(t,a,u,l),a.child;case 14:return lg(t,a,a.type,a.pendingProps,l);case 15:return og(t,a,a.type,a.pendingProps,l);case 19:return gg(t,a,l);case 31:return u=a.pendingProps,l=a.mode,u={mode:u.mode,children:u.children},t===null?(l=Gl(u,l),l.ref=a.ref,a.child=l,l.return=a,a=l):(l=Vn(t.child,u),l.ref=a.ref,a.child=l,l.return=a,a=l),a;case 22:return ug(t,a,l);case 24:return sr(a),u=Ot(st),t===null?(f=tc(),f===null&&(f=Ze,p=Wu(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=l),f=p),a.memoizedState={parent:u,cache:f},ac(a),ga(a,st,f)):((t.lanes&l)!==0&&(rc(t,a),Wi(a,null,null,l),Ki()),f=t.memoizedState,p=a.memoizedState,f.parent!==u?(f={parent:u,cache:u},a.memoizedState=f,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=f),ga(a,st,u)):(u=p.cache,ga(a,st,u),u!==f.cache&&Ku(a,[st],l,!0))),_t(t,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function Wn(t){t.flags|=4}function bg(t,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Ty(a)){if(a=un.current,a!==null&&((je&4194048)===je?Cn!==null:(je&62914560)!==je&&(je&536870912)===0||a!==Cn))throw Qi=nc,tp;t.flags|=8192}}function Vl(t,a){a!==null&&(t.flags|=4),t.flags&16384&&(a=t.tag!==22?Qh():536870912,t.lanes|=a,Xr|=a)}function ss(t,a){if(!Le)switch(t.tailMode){case"hidden":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?t.tail=null:l.sibling=null;break;case"collapsed":l=t.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?a||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function Qe(t){var a=t.alternate!==null&&t.alternate.child===t.child,l=0,u=0;if(a)for(var f=t.child;f!==null;)l|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)l|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=u,t.childLanes=l,a}function Ex(t,a,l){var u=a.pendingProps;switch(Fu(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qe(a),null;case 1:return Qe(a),null;case 3:return l=a.stateNode,u=null,t!==null&&(u=t.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),Xn(st),vt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(t===null||t.child===null)&&(Hi(a)?Wn(a):t===null||t.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Qm())),Qe(a),null;case 26:return l=a.memoizedState,t===null?(Wn(a),l!==null?(Qe(a),bg(a,l)):(Qe(a),a.flags&=-16777217)):l?l!==t.memoizedState?(Wn(a),Qe(a),bg(a,l)):(Qe(a),a.flags&=-16777217):(t.memoizedProps!==u&&Wn(a),Qe(a),a.flags&=-16777217),null;case 27:Nn(a),l=he.current;var f=a.type;if(t!==null&&a.stateNode!=null)t.memoizedProps!==u&&Wn(a);else{if(!u){if(a.stateNode===null)throw Error(r(166));return Qe(a),null}t=W.current,Hi(a)?Fm(a):(t=by(f,u,l),a.stateNode=t,Wn(a))}return Qe(a),null;case 5:if(Nn(a),l=a.type,t!==null&&a.stateNode!=null)t.memoizedProps!==u&&Wn(a);else{if(!u){if(a.stateNode===null)throw Error(r(166));return Qe(a),null}if(t=W.current,Hi(a))Fm(a);else{switch(f=ro(he.current),t){case 1:t=f.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:t=f.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":t=f.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":t=f.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":t=f.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?t.multiple=!0:u.size&&(t.size=u.size);break;default:t=typeof u.is=="string"?f.createElement(l,{is:u.is}):f.createElement(l)}}t[Et]=a,t[$t]=u;e:for(f=a.child;f!==null;){if(f.tag===5||f.tag===6)t.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===a)break e;for(;f.sibling===null;){if(f.return===null||f.return===a)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}a.stateNode=t;e:switch(xt(t,l,u),l){case"button":case"input":case"select":case"textarea":t=!!u.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Wn(a)}}return Qe(a),a.flags&=-16777217,null;case 6:if(t&&a.stateNode!=null)t.memoizedProps!==u&&Wn(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(r(166));if(t=he.current,Hi(a)){if(t=a.stateNode,l=a.memoizedProps,u=null,f=Nt,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}t[Et]=a,t=!!(t.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||dy(t.nodeValue,l)),t||rr(a)}else t=ro(t).createTextNode(u),t[Et]=a,a.stateNode=t}return Qe(a),null;case 13:if(u=a.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Hi(a),u!==null&&u.dehydrated!==null){if(t===null){if(!f)throw Error(r(318));if(f=a.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[Et]=a}else Gi(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Qe(a),f=!1}else f=Qm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return a.flags&256?(Jn(a),a):(Jn(a),null)}if(Jn(a),(a.flags&128)!==0)return a.lanes=l,a;if(l=u!==null,t=t!==null&&t.memoizedState!==null,l){u=a.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var p=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==f&&(u.flags|=2048)}return l!==t&&l&&(a.child.flags|=8192),Vl(a,a.updateQueue),Qe(a),null;case 4:return vt(),t===null&&sd(a.stateNode.containerInfo),Qe(a),null;case 10:return Xn(a.type),Qe(a),null;case 19:if(Z(lt),f=a.memoizedState,f===null)return Qe(a),null;if(u=(a.flags&128)!==0,p=f.rendering,p===null)if(u)ss(f,!1);else{if(Ke!==0||t!==null&&(t.flags&128)!==0)for(t=a.child;t!==null;){if(p=zl(t),p!==null){for(a.flags|=128,ss(f,!1),t=p.updateQueue,a.updateQueue=t,Vl(a,t),a.subtreeFlags=0,t=l,l=a.child;l!==null;)Zm(l,t),l=l.sibling;return G(lt,lt.current&1|2),a.child}t=t.sibling}f.tail!==null&&jn()>Fl&&(a.flags|=128,u=!0,ss(f,!1),a.lanes=4194304)}else{if(!u)if(t=zl(p),t!==null){if(a.flags|=128,u=!0,t=t.updateQueue,a.updateQueue=t,Vl(a,t),ss(f,!0),f.tail===null&&f.tailMode==="hidden"&&!p.alternate&&!Le)return Qe(a),null}else 2*jn()-f.renderingStartTime>Fl&&l!==536870912&&(a.flags|=128,u=!0,ss(f,!1),a.lanes=4194304);f.isBackwards?(p.sibling=a.child,a.child=p):(t=f.last,t!==null?t.sibling=p:a.child=p,f.last=p)}return f.tail!==null?(a=f.tail,f.rendering=a,f.tail=a.sibling,f.renderingStartTime=jn(),a.sibling=null,t=lt.current,G(lt,u?t&1|2:t&1),a):(Qe(a),null);case 22:case 23:return Jn(a),oc(),u=a.memoizedState!==null,t!==null?t.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(l&536870912)!==0&&(a.flags&128)===0&&(Qe(a),a.subtreeFlags&6&&(a.flags|=8192)):Qe(a),l=a.updateQueue,l!==null&&Vl(a,l.retryQueue),l=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==l&&(a.flags|=2048),t!==null&&Z(lr),null;case 24:return l=null,t!==null&&(l=t.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),Xn(st),Qe(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function Ox(t,a){switch(Fu(a),a.tag){case 1:return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 3:return Xn(st),vt(),t=a.flags,(t&65536)!==0&&(t&128)===0?(a.flags=t&-65537|128,a):null;case 26:case 27:case 5:return Nn(a),null;case 13:if(Jn(a),t=a.memoizedState,t!==null&&t.dehydrated!==null){if(a.alternate===null)throw Error(r(340));Gi()}return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 19:return Z(lt),null;case 4:return vt(),null;case 10:return Xn(a.type),null;case 22:case 23:return Jn(a),oc(),t!==null&&Z(lr),t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 24:return Xn(st),null;case 25:return null;default:return null}}function vg(t,a){switch(Fu(a),a.tag){case 3:Xn(st),vt();break;case 26:case 27:case 5:Nn(a);break;case 4:vt();break;case 13:Jn(a);break;case 19:Z(lt);break;case 10:Xn(a.type);break;case 22:case 23:Jn(a),oc(),t!==null&&Z(lr);break;case 24:Xn(st)}}function ls(t,a){try{var l=a.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var f=u.next;l=f;do{if((l.tag&t)===t){u=void 0;var p=l.create,v=l.inst;u=p(),v.destroy=u}l=l.next}while(l!==f)}}catch(w){Ve(a,a.return,w)}}function Sa(t,a,l){try{var u=a.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var p=f.next;u=p;do{if((u.tag&t)===t){var v=u.inst,w=v.destroy;if(w!==void 0){v.destroy=void 0,f=a;var T=l,L=w;try{L()}catch(B){Ve(f,T,B)}}}u=u.next}while(u!==p)}}catch(B){Ve(a,a.return,B)}}function _g(t){var a=t.updateQueue;if(a!==null){var l=t.stateNode;try{lp(a,l)}catch(u){Ve(t,t.return,u)}}}function wg(t,a,l){l.props=ur(t.type,t.memoizedProps),l.state=t.memoizedState;try{l.componentWillUnmount()}catch(u){Ve(t,a,u)}}function os(t,a){try{var l=t.ref;if(l!==null){switch(t.tag){case 26:case 27:case 5:var u=t.stateNode;break;case 30:u=t.stateNode;break;default:u=t.stateNode}typeof l=="function"?t.refCleanup=l(u):l.current=u}}catch(f){Ve(t,a,f)}}function Mn(t,a){var l=t.ref,u=t.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(f){Ve(t,a,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(f){Ve(t,a,f)}else l.current=null}function xg(t){var a=t.type,l=t.memoizedProps,u=t.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(f){Ve(t,t.return,f)}}function Dc(t,a,l){try{var u=t.stateNode;Zx(u,t.type,l,a),u[$t]=a}catch(f){Ve(t,t.return,f)}}function Sg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ka(t.type)||t.tag===4}function Ic(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Sg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ka(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Pc(t,a,l){var u=t.tag;if(u===5||u===6)t=t.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(t,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(t),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=ao));else if(u!==4&&(u===27&&ka(t.type)&&(l=t.stateNode,a=null),t=t.child,t!==null))for(Pc(t,a,l),t=t.sibling;t!==null;)Pc(t,a,l),t=t.sibling}function Zl(t,a,l){var u=t.tag;if(u===5||u===6)t=t.stateNode,a?l.insertBefore(t,a):l.appendChild(t);else if(u!==4&&(u===27&&ka(t.type)&&(l=t.stateNode),t=t.child,t!==null))for(Zl(t,a,l),t=t.sibling;t!==null;)Zl(t,a,l),t=t.sibling}function Eg(t){var a=t.stateNode,l=t.memoizedProps;try{for(var u=t.type,f=a.attributes;f.length;)a.removeAttributeNode(f[0]);xt(a,u,l),a[Et]=t,a[$t]=l}catch(p){Ve(t,t.return,p)}}var ea=!1,tt=!1,Uc=!1,Og=typeof WeakSet=="function"?WeakSet:Set,ht=null;function Tx(t,a){if(t=t.containerInfo,ud=co,t=Dm(t),Iu(t)){if("selectionStart"in t)var l={start:t.selectionStart,end:t.selectionEnd};else e:{l=(l=t.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var f=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{l.nodeType,p.nodeType}catch{l=null;break e}var v=0,w=-1,T=-1,L=0,B=0,Y=t,$=null;t:for(;;){for(var P;Y!==l||f!==0&&Y.nodeType!==3||(w=v+f),Y!==p||u!==0&&Y.nodeType!==3||(T=v+u),Y.nodeType===3&&(v+=Y.nodeValue.length),(P=Y.firstChild)!==null;)$=Y,Y=P;for(;;){if(Y===t)break t;if($===l&&++L===f&&(w=v),$===p&&++B===u&&(T=v),(P=Y.nextSibling)!==null)break;Y=$,$=Y.parentNode}Y=P}l=w===-1||T===-1?null:{start:w,end:T}}else l=null}l=l||{start:0,end:0}}else l=null;for(cd={focusedElem:t,selectionRange:l},co=!1,ht=a;ht!==null;)if(a=ht,t=a.child,(a.subtreeFlags&1024)!==0&&t!==null)t.return=a,ht=t;else for(;ht!==null;){switch(a=ht,p=a.alternate,t=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&p!==null){t=void 0,l=a,f=p.memoizedProps,p=p.memoizedState,u=l.stateNode;try{var ge=ur(l.type,f,l.elementType===l.type);t=u.getSnapshotBeforeUpdate(ge,p),u.__reactInternalSnapshotBeforeUpdate=t}catch(me){Ve(l,l.return,me)}}break;case 3:if((t&1024)!==0){if(t=a.stateNode.containerInfo,l=t.nodeType,l===9)hd(t);else if(l===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":hd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=a.sibling,t!==null){t.return=a.return,ht=t;break}ht=a.return}}function Tg(t,a,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:Ea(t,l),u&4&&ls(5,l);break;case 1:if(Ea(t,l),u&4)if(t=l.stateNode,a===null)try{t.componentDidMount()}catch(v){Ve(l,l.return,v)}else{var f=ur(l.type,a.memoizedProps);a=a.memoizedState;try{t.componentDidUpdate(f,a,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Ve(l,l.return,v)}}u&64&&_g(l),u&512&&os(l,l.return);break;case 3:if(Ea(t,l),u&64&&(t=l.updateQueue,t!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{lp(t,a)}catch(v){Ve(l,l.return,v)}}break;case 27:a===null&&u&4&&Eg(l);case 26:case 5:Ea(t,l),a===null&&u&4&&xg(l),u&512&&os(l,l.return);break;case 12:Ea(t,l);break;case 13:Ea(t,l),u&4&&Ng(t,l),u&64&&(t=l.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(l=$x.bind(null,l),Wx(t,l))));break;case 22:if(u=l.memoizedState!==null||ea,!u){a=a!==null&&a.memoizedState!==null||tt,f=ea;var p=tt;ea=u,(tt=a)&&!p?Oa(t,l,(l.subtreeFlags&8772)!==0):Ea(t,l),ea=f,tt=p}break;case 30:break;default:Ea(t,l)}}function Ag(t){var a=t.alternate;a!==null&&(t.alternate=null,Ag(a)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(a=t.stateNode,a!==null&&bu(a)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Xe=null,Pt=!1;function ta(t,a,l){for(l=l.child;l!==null;)Rg(t,a,l),l=l.sibling}function Rg(t,a,l){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(Ni,l)}catch{}switch(l.tag){case 26:tt||Mn(l,a),ta(t,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:tt||Mn(l,a);var u=Xe,f=Pt;ka(l.type)&&(Xe=l.stateNode,Pt=!1),ta(t,a,l),ys(l.stateNode),Xe=u,Pt=f;break;case 5:tt||Mn(l,a);case 6:if(u=Xe,f=Pt,Xe=null,ta(t,a,l),Xe=u,Pt=f,Xe!==null)if(Pt)try{(Xe.nodeType===9?Xe.body:Xe.nodeName==="HTML"?Xe.ownerDocument.body:Xe).removeChild(l.stateNode)}catch(p){Ve(l,a,p)}else try{Xe.removeChild(l.stateNode)}catch(p){Ve(l,a,p)}break;case 18:Xe!==null&&(Pt?(t=Xe,gy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,l.stateNode),Os(t)):gy(Xe,l.stateNode));break;case 4:u=Xe,f=Pt,Xe=l.stateNode.containerInfo,Pt=!0,ta(t,a,l),Xe=u,Pt=f;break;case 0:case 11:case 14:case 15:tt||Sa(2,l,a),tt||Sa(4,l,a),ta(t,a,l);break;case 1:tt||(Mn(l,a),u=l.stateNode,typeof u.componentWillUnmount=="function"&&wg(l,a,u)),ta(t,a,l);break;case 21:ta(t,a,l);break;case 22:tt=(u=tt)||l.memoizedState!==null,ta(t,a,l),tt=u;break;default:ta(t,a,l)}}function Ng(t,a){if(a.memoizedState===null&&(t=a.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Os(t)}catch(l){Ve(a,a.return,l)}}function Ax(t){switch(t.tag){case 13:case 19:var a=t.stateNode;return a===null&&(a=t.stateNode=new Og),a;case 22:return t=t.stateNode,a=t._retryCache,a===null&&(a=t._retryCache=new Og),a;default:throw Error(r(435,t.tag))}}function zc(t,a){var l=Ax(t);a.forEach(function(u){var f=Dx.bind(null,t,u);l.has(u)||(l.add(u),u.then(f,f))})}function Zt(t,a){var l=a.deletions;if(l!==null)for(var u=0;u<l.length;u++){var f=l[u],p=t,v=a,w=v;e:for(;w!==null;){switch(w.tag){case 27:if(ka(w.type)){Xe=w.stateNode,Pt=!1;break e}break;case 5:Xe=w.stateNode,Pt=!1;break e;case 3:case 4:Xe=w.stateNode.containerInfo,Pt=!0;break e}w=w.return}if(Xe===null)throw Error(r(160));Rg(p,v,f),Xe=null,Pt=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)jg(a,t),a=a.sibling}var pn=null;function jg(t,a){var l=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Zt(a,t),Yt(t),u&4&&(Sa(3,t,t.return),ls(3,t),Sa(5,t,t.return));break;case 1:Zt(a,t),Yt(t),u&512&&(tt||l===null||Mn(l,l.return)),u&64&&ea&&(t=t.updateQueue,t!==null&&(u=t.callbacks,u!==null&&(l=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var f=pn;if(Zt(a,t),Yt(t),u&512&&(tt||l===null||Mn(l,l.return)),u&4){var p=l!==null?l.memoizedState:null;if(u=t.memoizedState,l===null)if(u===null)if(t.stateNode===null){e:{u=t.type,l=t.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":p=f.getElementsByTagName("title")[0],(!p||p[Ci]||p[Et]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(u),f.head.insertBefore(p,f.querySelector("head > title"))),xt(p,u,l),p[Et]=t,dt(p),u=p;break e;case"link":var v=Ey("link","href",f).get(u+(l.href||""));if(v){for(var w=0;w<v.length;w++)if(p=v[w],p.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&p.getAttribute("rel")===(l.rel==null?null:l.rel)&&p.getAttribute("title")===(l.title==null?null:l.title)&&p.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){v.splice(w,1);break t}}p=f.createElement(u),xt(p,u,l),f.head.appendChild(p);break;case"meta":if(v=Ey("meta","content",f).get(u+(l.content||""))){for(w=0;w<v.length;w++)if(p=v[w],p.getAttribute("content")===(l.content==null?null:""+l.content)&&p.getAttribute("name")===(l.name==null?null:l.name)&&p.getAttribute("property")===(l.property==null?null:l.property)&&p.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&p.getAttribute("charset")===(l.charSet==null?null:l.charSet)){v.splice(w,1);break t}}p=f.createElement(u),xt(p,u,l),f.head.appendChild(p);break;default:throw Error(r(468,u))}p[Et]=t,dt(p),u=p}t.stateNode=u}else Oy(f,t.type,t.stateNode);else t.stateNode=Sy(f,u,t.memoizedProps);else p!==u?(p===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):p.count--,u===null?Oy(f,t.type,t.stateNode):Sy(f,u,t.memoizedProps)):u===null&&t.stateNode!==null&&Dc(t,t.memoizedProps,l.memoizedProps)}break;case 27:Zt(a,t),Yt(t),u&512&&(tt||l===null||Mn(l,l.return)),l!==null&&u&4&&Dc(t,t.memoizedProps,l.memoizedProps);break;case 5:if(Zt(a,t),Yt(t),u&512&&(tt||l===null||Mn(l,l.return)),t.flags&32){f=t.stateNode;try{Ar(f,"")}catch(P){Ve(t,t.return,P)}}u&4&&t.stateNode!=null&&(f=t.memoizedProps,Dc(t,f,l!==null?l.memoizedProps:f)),u&1024&&(Uc=!0);break;case 6:if(Zt(a,t),Yt(t),u&4){if(t.stateNode===null)throw Error(r(162));u=t.memoizedProps,l=t.stateNode;try{l.nodeValue=u}catch(P){Ve(t,t.return,P)}}break;case 3:if(lo=null,f=pn,pn=io(a.containerInfo),Zt(a,t),pn=f,Yt(t),u&4&&l!==null&&l.memoizedState.isDehydrated)try{Os(a.containerInfo)}catch(P){Ve(t,t.return,P)}Uc&&(Uc=!1,kg(t));break;case 4:u=pn,pn=io(t.stateNode.containerInfo),Zt(a,t),Yt(t),pn=u;break;case 12:Zt(a,t),Yt(t);break;case 13:Zt(a,t),Yt(t),t.child.flags&8192&&t.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Zc=jn()),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,zc(t,u)));break;case 22:f=t.memoizedState!==null;var T=l!==null&&l.memoizedState!==null,L=ea,B=tt;if(ea=L||f,tt=B||T,Zt(a,t),tt=B,ea=L,Yt(t),u&8192)e:for(a=t.stateNode,a._visibility=f?a._visibility&-2:a._visibility|1,f&&(l===null||T||ea||tt||cr(t)),l=null,a=t;;){if(a.tag===5||a.tag===26){if(l===null){T=l=a;try{if(p=T.stateNode,f)v=p.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{w=T.stateNode;var Y=T.memoizedProps.style,$=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;w.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(P){Ve(T,T.return,P)}}}else if(a.tag===6){if(l===null){T=a;try{T.stateNode.nodeValue=f?"":T.memoizedProps}catch(P){Ve(T,T.return,P)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===t)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;a.sibling===null;){if(a.return===null||a.return===t)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=t.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,zc(t,l))));break;case 19:Zt(a,t),Yt(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,zc(t,u)));break;case 30:break;case 21:break;default:Zt(a,t),Yt(t)}}function Yt(t){var a=t.flags;if(a&2){try{for(var l,u=t.return;u!==null;){if(Sg(u)){l=u;break}u=u.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var f=l.stateNode,p=Ic(t);Zl(t,p,f);break;case 5:var v=l.stateNode;l.flags&32&&(Ar(v,""),l.flags&=-33);var w=Ic(t);Zl(t,w,v);break;case 3:case 4:var T=l.stateNode.containerInfo,L=Ic(t);Pc(t,L,T);break;default:throw Error(r(161))}}catch(B){Ve(t,t.return,B)}t.flags&=-3}a&4096&&(t.flags&=-4097)}function kg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var a=t;kg(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),t=t.sibling}}function Ea(t,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Tg(t,a.alternate,a),a=a.sibling}function cr(t){for(t=t.child;t!==null;){var a=t;switch(a.tag){case 0:case 11:case 14:case 15:Sa(4,a,a.return),cr(a);break;case 1:Mn(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&wg(a,a.return,l),cr(a);break;case 27:ys(a.stateNode);case 26:case 5:Mn(a,a.return),cr(a);break;case 22:a.memoizedState===null&&cr(a);break;case 30:cr(a);break;default:cr(a)}t=t.sibling}}function Oa(t,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,f=t,p=a,v=p.flags;switch(p.tag){case 0:case 11:case 15:Oa(f,p,l),ls(4,p);break;case 1:if(Oa(f,p,l),u=p,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(L){Ve(u,u.return,L)}if(u=p,f=u.updateQueue,f!==null){var w=u.stateNode;try{var T=f.shared.hiddenCallbacks;if(T!==null)for(f.shared.hiddenCallbacks=null,f=0;f<T.length;f++)sp(T[f],w)}catch(L){Ve(u,u.return,L)}}l&&v&64&&_g(p),os(p,p.return);break;case 27:Eg(p);case 26:case 5:Oa(f,p,l),l&&u===null&&v&4&&xg(p),os(p,p.return);break;case 12:Oa(f,p,l);break;case 13:Oa(f,p,l),l&&v&4&&Ng(f,p);break;case 22:p.memoizedState===null&&Oa(f,p,l),os(p,p.return);break;case 30:break;default:Oa(f,p,l)}a=a.sibling}}function qc(t,a){var l=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),t=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(t=a.memoizedState.cachePool.pool),t!==l&&(t!=null&&t.refCount++,l!=null&&Yi(l))}function Bc(t,a){t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&Yi(t))}function Ln(t,a,l,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Cg(t,a,l,u),a=a.sibling}function Cg(t,a,l,u){var f=a.flags;switch(a.tag){case 0:case 11:case 15:Ln(t,a,l,u),f&2048&&ls(9,a);break;case 1:Ln(t,a,l,u);break;case 3:Ln(t,a,l,u),f&2048&&(t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&Yi(t)));break;case 12:if(f&2048){Ln(t,a,l,u),t=a.stateNode;try{var p=a.memoizedProps,v=p.id,w=p.onPostCommit;typeof w=="function"&&w(v,a.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(T){Ve(a,a.return,T)}}else Ln(t,a,l,u);break;case 13:Ln(t,a,l,u);break;case 23:break;case 22:p=a.stateNode,v=a.alternate,a.memoizedState!==null?p._visibility&2?Ln(t,a,l,u):us(t,a):p._visibility&2?Ln(t,a,l,u):(p._visibility|=2,Zr(t,a,l,u,(a.subtreeFlags&10256)!==0)),f&2048&&qc(v,a);break;case 24:Ln(t,a,l,u),f&2048&&Bc(a.alternate,a);break;default:Ln(t,a,l,u)}}function Zr(t,a,l,u,f){for(f=f&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var p=t,v=a,w=l,T=u,L=v.flags;switch(v.tag){case 0:case 11:case 15:Zr(p,v,w,T,f),ls(8,v);break;case 23:break;case 22:var B=v.stateNode;v.memoizedState!==null?B._visibility&2?Zr(p,v,w,T,f):us(p,v):(B._visibility|=2,Zr(p,v,w,T,f)),f&&L&2048&&qc(v.alternate,v);break;case 24:Zr(p,v,w,T,f),f&&L&2048&&Bc(v.alternate,v);break;default:Zr(p,v,w,T,f)}a=a.sibling}}function us(t,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=t,u=a,f=u.flags;switch(u.tag){case 22:us(l,u),f&2048&&qc(u.alternate,u);break;case 24:us(l,u),f&2048&&Bc(u.alternate,u);break;default:us(l,u)}a=a.sibling}}var cs=8192;function Yr(t){if(t.subtreeFlags&cs)for(t=t.child;t!==null;)Mg(t),t=t.sibling}function Mg(t){switch(t.tag){case 26:Yr(t),t.flags&cs&&t.memoizedState!==null&&f1(pn,t.memoizedState,t.memoizedProps);break;case 5:Yr(t);break;case 3:case 4:var a=pn;pn=io(t.stateNode.containerInfo),Yr(t),pn=a;break;case 22:t.memoizedState===null&&(a=t.alternate,a!==null&&a.memoizedState!==null?(a=cs,cs=16777216,Yr(t),cs=a):Yr(t));break;default:Yr(t)}}function Lg(t){var a=t.alternate;if(a!==null&&(t=a.child,t!==null)){a.child=null;do a=t.sibling,t.sibling=null,t=a;while(t!==null)}}function ds(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];ht=u,Dg(u,t)}Lg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)$g(t),t=t.sibling}function $g(t){switch(t.tag){case 0:case 11:case 15:ds(t),t.flags&2048&&Sa(9,t,t.return);break;case 3:ds(t);break;case 12:ds(t);break;case 22:var a=t.stateNode;t.memoizedState!==null&&a._visibility&2&&(t.return===null||t.return.tag!==13)?(a._visibility&=-3,Yl(t)):ds(t);break;default:ds(t)}}function Yl(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];ht=u,Dg(u,t)}Lg(t)}for(t=t.child;t!==null;){switch(a=t,a.tag){case 0:case 11:case 15:Sa(8,a,a.return),Yl(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,Yl(a));break;default:Yl(a)}t=t.sibling}}function Dg(t,a){for(;ht!==null;){var l=ht;switch(l.tag){case 0:case 11:case 15:Sa(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Yi(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,ht=u;else e:for(l=t;ht!==null;){u=ht;var f=u.sibling,p=u.return;if(Ag(u),u===l){ht=null;break e}if(f!==null){f.return=p,ht=f;break e}ht=p}}}var Rx={getCacheForType:function(t){var a=Ot(st),l=a.data.get(t);return l===void 0&&(l=t(),a.data.set(t,l)),l}},Nx=typeof WeakMap=="function"?WeakMap:Map,Pe=0,Ze=null,Ae=null,je=0,Ue=0,Ft=null,Ta=!1,Fr=!1,Hc=!1,na=0,Ke=0,Aa=0,dr=0,Gc=0,cn=0,Xr=0,fs=null,Ut=null,Vc=!1,Zc=0,Fl=1/0,Xl=null,Ra=null,wt=0,Na=null,Qr=null,Jr=0,Yc=0,Fc=null,Ig=null,hs=0,Xc=null;function Xt(){if((Pe&2)!==0&&je!==0)return je&-je;if(j.T!==null){var t=Pr;return t!==0?t:nd()}return Wh()}function Pg(){cn===0&&(cn=(je&536870912)===0||Le?Xh():536870912);var t=un.current;return t!==null&&(t.flags|=32),cn}function Qt(t,a,l){(t===Ze&&(Ue===2||Ue===9)||t.cancelPendingCommit!==null)&&(Kr(t,0),ja(t,je,cn,!1)),ki(t,l),((Pe&2)===0||t!==Ze)&&(t===Ze&&((Pe&2)===0&&(dr|=l),Ke===4&&ja(t,je,cn,!1)),$n(t))}function Ug(t,a,l){if((Pe&6)!==0)throw Error(r(327));var u=!l&&(a&124)===0&&(a&t.expiredLanes)===0||ji(t,a),f=u?Cx(t,a):Kc(t,a,!0),p=u;do{if(f===0){Fr&&!u&&ja(t,a,0,!1);break}else{if(l=t.current.alternate,p&&!jx(l)){f=Kc(t,a,!1),p=!1;continue}if(f===2){if(p=a,t.errorRecoveryDisabledLanes&p)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){a=v;e:{var w=t;f=fs;var T=w.current.memoizedState.isDehydrated;if(T&&(Kr(w,v).flags|=256),v=Kc(w,v,!1),v!==2){if(Hc&&!T){w.errorRecoveryDisabledLanes|=p,dr|=p,f=4;break e}p=Ut,Ut=f,p!==null&&(Ut===null?Ut=p:Ut.push.apply(Ut,p))}f=v}if(p=!1,f!==2)continue}}if(f===1){Kr(t,0),ja(t,a,0,!0);break}e:{switch(u=t,p=f,p){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:ja(u,a,cn,!Ta);break e;case 2:Ut=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(f=Zc+300-jn(),10<f)){if(ja(u,a,cn,!Ta),sl(u,0,!0)!==0)break e;u.timeoutHandle=my(zg.bind(null,u,l,Ut,Xl,Vc,a,cn,dr,Xr,Ta,p,2,-0,0),f);break e}zg(u,l,Ut,Xl,Vc,a,cn,dr,Xr,Ta,p,0,-0,0)}}break}while(!0);$n(t)}function zg(t,a,l,u,f,p,v,w,T,L,B,Y,$,P){if(t.timeoutHandle=-1,Y=a.subtreeFlags,(Y&8192||(Y&16785408)===16785408)&&(_s={stylesheets:null,count:0,unsuspend:d1},Mg(a),Y=h1(),Y!==null)){t.cancelPendingCommit=Y(Yg.bind(null,t,a,p,l,u,f,v,w,T,B,1,$,P)),ja(t,p,v,!L);return}Yg(t,a,p,l,u,f,v,w,T)}function jx(t){for(var a=t;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var f=l[u],p=f.getSnapshot;f=f.value;try{if(!Gt(p(),f))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ja(t,a,l,u){a&=~Gc,a&=~dr,t.suspendedLanes|=a,t.pingedLanes&=~a,u&&(t.warmLanes|=a),u=t.expirationTimes;for(var f=a;0<f;){var p=31-Ht(f),v=1<<p;u[p]=-1,f&=~v}l!==0&&Jh(t,l,a)}function Ql(){return(Pe&6)===0?(ms(0),!1):!0}function Qc(){if(Ae!==null){if(Ue===0)var t=Ae.return;else t=Ae,Fn=ir=null,hc(t),Gr=null,rs=0,t=Ae;for(;t!==null;)vg(t.alternate,t),t=t.return;Ae=null}}function Kr(t,a){var l=t.timeoutHandle;l!==-1&&(t.timeoutHandle=-1,Fx(l)),l=t.cancelPendingCommit,l!==null&&(t.cancelPendingCommit=null,l()),Qc(),Ze=t,Ae=l=Vn(t.current,null),je=a,Ue=0,Ft=null,Ta=!1,Fr=ji(t,a),Hc=!1,Xr=cn=Gc=dr=Aa=Ke=0,Ut=fs=null,Vc=!1,(a&8)!==0&&(a|=a&32);var u=t.entangledLanes;if(u!==0)for(t=t.entanglements,u&=a;0<u;){var f=31-Ht(u),p=1<<f;a|=t[f],u&=~p}return na=a,bl(),l}function qg(t,a){Se=null,j.H=Il,a===Xi||a===Al?(a=rp(),Ue=3):a===tp?(a=rp(),Ue=4):Ue=a===ig?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Ft=a,Ae===null&&(Ke=1,Bl(t,rn(a,t.current)))}function Bg(){var t=j.H;return j.H=Il,t===null?Il:t}function Hg(){var t=j.A;return j.A=Rx,t}function Jc(){Ke=4,Ta||(je&4194048)!==je&&un.current!==null||(Fr=!0),(Aa&134217727)===0&&(dr&134217727)===0||Ze===null||ja(Ze,je,cn,!1)}function Kc(t,a,l){var u=Pe;Pe|=2;var f=Bg(),p=Hg();(Ze!==t||je!==a)&&(Xl=null,Kr(t,a)),a=!1;var v=Ke;e:do try{if(Ue!==0&&Ae!==null){var w=Ae,T=Ft;switch(Ue){case 8:Qc(),v=6;break e;case 3:case 2:case 9:case 6:un.current===null&&(a=!0);var L=Ue;if(Ue=0,Ft=null,Wr(t,w,T,L),l&&Fr){v=0;break e}break;default:L=Ue,Ue=0,Ft=null,Wr(t,w,T,L)}}kx(),v=Ke;break}catch(B){qg(t,B)}while(!0);return a&&t.shellSuspendCounter++,Fn=ir=null,Pe=u,j.H=f,j.A=p,Ae===null&&(Ze=null,je=0,bl()),v}function kx(){for(;Ae!==null;)Gg(Ae)}function Cx(t,a){var l=Pe;Pe|=2;var u=Bg(),f=Hg();Ze!==t||je!==a?(Xl=null,Fl=jn()+500,Kr(t,a)):Fr=ji(t,a);e:do try{if(Ue!==0&&Ae!==null){a=Ae;var p=Ft;t:switch(Ue){case 1:Ue=0,Ft=null,Wr(t,a,p,1);break;case 2:case 9:if(np(p)){Ue=0,Ft=null,Vg(a);break}a=function(){Ue!==2&&Ue!==9||Ze!==t||(Ue=7),$n(t)},p.then(a,a);break e;case 3:Ue=7;break e;case 4:Ue=5;break e;case 7:np(p)?(Ue=0,Ft=null,Vg(a)):(Ue=0,Ft=null,Wr(t,a,p,7));break;case 5:var v=null;switch(Ae.tag){case 26:v=Ae.memoizedState;case 5:case 27:var w=Ae;if(!v||Ty(v)){Ue=0,Ft=null;var T=w.sibling;if(T!==null)Ae=T;else{var L=w.return;L!==null?(Ae=L,Jl(L)):Ae=null}break t}}Ue=0,Ft=null,Wr(t,a,p,5);break;case 6:Ue=0,Ft=null,Wr(t,a,p,6);break;case 8:Qc(),Ke=6;break e;default:throw Error(r(462))}}Mx();break}catch(B){qg(t,B)}while(!0);return Fn=ir=null,j.H=u,j.A=f,Pe=l,Ae!==null?0:(Ze=null,je=0,bl(),Ke)}function Mx(){for(;Ae!==null&&!tw();)Gg(Ae)}function Gg(t){var a=yg(t.alternate,t,na);t.memoizedProps=t.pendingProps,a===null?Jl(t):Ae=a}function Vg(t){var a=t,l=a.alternate;switch(a.tag){case 15:case 0:a=dg(l,a,a.pendingProps,a.type,void 0,je);break;case 11:a=dg(l,a,a.pendingProps,a.type.render,a.ref,je);break;case 5:hc(a);default:vg(l,a),a=Ae=Zm(a,na),a=yg(l,a,na)}t.memoizedProps=t.pendingProps,a===null?Jl(t):Ae=a}function Wr(t,a,l,u){Fn=ir=null,hc(a),Gr=null,rs=0;var f=a.return;try{if(xx(t,f,a,l,je)){Ke=1,Bl(t,rn(l,t.current)),Ae=null;return}}catch(p){if(f!==null)throw Ae=f,p;Ke=1,Bl(t,rn(l,t.current)),Ae=null;return}a.flags&32768?(Le||u===1?t=!0:Fr||(je&536870912)!==0?t=!1:(Ta=t=!0,(u===2||u===9||u===3||u===6)&&(u=un.current,u!==null&&u.tag===13&&(u.flags|=16384))),Zg(a,t)):Jl(a)}function Jl(t){var a=t;do{if((a.flags&32768)!==0){Zg(a,Ta);return}t=a.return;var l=Ex(a.alternate,a,na);if(l!==null){Ae=l;return}if(a=a.sibling,a!==null){Ae=a;return}Ae=a=t}while(a!==null);Ke===0&&(Ke=5)}function Zg(t,a){do{var l=Ox(t.alternate,t);if(l!==null){l.flags&=32767,Ae=l;return}if(l=t.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(t=t.sibling,t!==null)){Ae=t;return}Ae=t=l}while(t!==null);Ke=6,Ae=null}function Yg(t,a,l,u,f,p,v,w,T){t.cancelPendingCommit=null;do Kl();while(wt!==0);if((Pe&6)!==0)throw Error(r(327));if(a!==null){if(a===t.current)throw Error(r(177));if(p=a.lanes|a.childLanes,p|=Bu,dw(t,l,p,v,w,T),t===Ze&&(Ae=Ze=null,je=0),Qr=a,Na=t,Jr=l,Yc=p,Fc=f,Ig=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Ix(al,function(){return Kg(),null})):(t.callbackNode=null,t.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=j.T,j.T=null,f=z.p,z.p=2,v=Pe,Pe|=4;try{Tx(t,a,l)}finally{Pe=v,z.p=f,j.T=u}}wt=1,Fg(),Xg(),Qg()}}function Fg(){if(wt===1){wt=0;var t=Na,a=Qr,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=j.T,j.T=null;var u=z.p;z.p=2;var f=Pe;Pe|=4;try{jg(a,t);var p=cd,v=Dm(t.containerInfo),w=p.focusedElem,T=p.selectionRange;if(v!==w&&w&&w.ownerDocument&&$m(w.ownerDocument.documentElement,w)){if(T!==null&&Iu(w)){var L=T.start,B=T.end;if(B===void 0&&(B=L),"selectionStart"in w)w.selectionStart=L,w.selectionEnd=Math.min(B,w.value.length);else{var Y=w.ownerDocument||document,$=Y&&Y.defaultView||window;if($.getSelection){var P=$.getSelection(),ge=w.textContent.length,me=Math.min(T.start,ge),Ge=T.end===void 0?me:Math.min(T.end,ge);!P.extend&&me>Ge&&(v=Ge,Ge=me,me=v);var C=Lm(w,me),R=Lm(w,Ge);if(C&&R&&(P.rangeCount!==1||P.anchorNode!==C.node||P.anchorOffset!==C.offset||P.focusNode!==R.node||P.focusOffset!==R.offset)){var M=Y.createRange();M.setStart(C.node,C.offset),P.removeAllRanges(),me>Ge?(P.addRange(M),P.extend(R.node,R.offset)):(M.setEnd(R.node,R.offset),P.addRange(M))}}}}for(Y=[],P=w;P=P.parentNode;)P.nodeType===1&&Y.push({element:P,left:P.scrollLeft,top:P.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<Y.length;w++){var V=Y[w];V.element.scrollLeft=V.left,V.element.scrollTop=V.top}}co=!!ud,cd=ud=null}finally{Pe=f,z.p=u,j.T=l}}t.current=a,wt=2}}function Xg(){if(wt===2){wt=0;var t=Na,a=Qr,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=j.T,j.T=null;var u=z.p;z.p=2;var f=Pe;Pe|=4;try{Tg(t,a.alternate,a)}finally{Pe=f,z.p=u,j.T=l}}wt=3}}function Qg(){if(wt===4||wt===3){wt=0,nw();var t=Na,a=Qr,l=Jr,u=Ig;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?wt=5:(wt=0,Qr=Na=null,Jg(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Ra=null),gu(l),a=a.stateNode,Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(Ni,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=j.T,f=z.p,z.p=2,j.T=null;try{for(var p=t.onRecoverableError,v=0;v<u.length;v++){var w=u[v];p(w.value,{componentStack:w.stack})}}finally{j.T=a,z.p=f}}(Jr&3)!==0&&Kl(),$n(t),f=t.pendingLanes,(l&4194090)!==0&&(f&42)!==0?t===Xc?hs++:(hs=0,Xc=t):hs=0,ms(0)}}function Jg(t,a){(t.pooledCacheLanes&=a)===0&&(a=t.pooledCache,a!=null&&(t.pooledCache=null,Yi(a)))}function Kl(t){return Fg(),Xg(),Qg(),Kg()}function Kg(){if(wt!==5)return!1;var t=Na,a=Yc;Yc=0;var l=gu(Jr),u=j.T,f=z.p;try{z.p=32>l?32:l,j.T=null,l=Fc,Fc=null;var p=Na,v=Jr;if(wt=0,Qr=Na=null,Jr=0,(Pe&6)!==0)throw Error(r(331));var w=Pe;if(Pe|=4,$g(p.current),Cg(p,p.current,v,l),Pe=w,ms(0,!1),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(Ni,p)}catch{}return!0}finally{z.p=f,j.T=u,Jg(t,a)}}function Wg(t,a,l){a=rn(l,a),a=Ac(t.stateNode,a,2),t=va(t,a,2),t!==null&&(ki(t,2),$n(t))}function Ve(t,a,l){if(t.tag===3)Wg(t,t,l);else for(;a!==null;){if(a.tag===3){Wg(a,t,l);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Ra===null||!Ra.has(u))){t=rn(l,t),l=ag(2),u=va(a,l,2),u!==null&&(rg(l,u,a,t),ki(u,2),$n(u));break}}a=a.return}}function Wc(t,a,l){var u=t.pingCache;if(u===null){u=t.pingCache=new Nx;var f=new Set;u.set(a,f)}else f=u.get(a),f===void 0&&(f=new Set,u.set(a,f));f.has(l)||(Hc=!0,f.add(l),t=Lx.bind(null,t,a,l),a.then(t,t))}function Lx(t,a,l){var u=t.pingCache;u!==null&&u.delete(a),t.pingedLanes|=t.suspendedLanes&l,t.warmLanes&=~l,Ze===t&&(je&l)===l&&(Ke===4||Ke===3&&(je&62914560)===je&&300>jn()-Zc?(Pe&2)===0&&Kr(t,0):Gc|=l,Xr===je&&(Xr=0)),$n(t)}function ey(t,a){a===0&&(a=Qh()),t=Lr(t,a),t!==null&&(ki(t,a),$n(t))}function $x(t){var a=t.memoizedState,l=0;a!==null&&(l=a.retryLane),ey(t,l)}function Dx(t,a){var l=0;switch(t.tag){case 13:var u=t.stateNode,f=t.memoizedState;f!==null&&(l=f.retryLane);break;case 19:u=t.stateNode;break;case 22:u=t.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(a),ey(t,l)}function Ix(t,a){return fu(t,a)}var Wl=null,ei=null,ed=!1,eo=!1,td=!1,fr=0;function $n(t){t!==ei&&t.next===null&&(ei===null?Wl=ei=t:ei=ei.next=t),eo=!0,ed||(ed=!0,Ux())}function ms(t,a){if(!td&&eo){td=!0;do for(var l=!1,u=Wl;u!==null;){if(t!==0){var f=u.pendingLanes;if(f===0)var p=0;else{var v=u.suspendedLanes,w=u.pingedLanes;p=(1<<31-Ht(42|t)+1)-1,p&=f&~(v&~w),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(l=!0,ry(u,p))}else p=je,p=sl(u,u===Ze?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||ji(u,p)||(l=!0,ry(u,p));u=u.next}while(l);td=!1}}function Px(){ty()}function ty(){eo=ed=!1;var t=0;fr!==0&&(Yx()&&(t=fr),fr=0);for(var a=jn(),l=null,u=Wl;u!==null;){var f=u.next,p=ny(u,a);p===0?(u.next=null,l===null?Wl=f:l.next=f,f===null&&(ei=l)):(l=u,(t!==0||(p&3)!==0)&&(eo=!0)),u=f}ms(t)}function ny(t,a){for(var l=t.suspendedLanes,u=t.pingedLanes,f=t.expirationTimes,p=t.pendingLanes&-62914561;0<p;){var v=31-Ht(p),w=1<<v,T=f[v];T===-1?((w&l)===0||(w&u)!==0)&&(f[v]=cw(w,a)):T<=a&&(t.expiredLanes|=w),p&=~w}if(a=Ze,l=je,l=sl(t,t===a?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u=t.callbackNode,l===0||t===a&&(Ue===2||Ue===9)||t.cancelPendingCommit!==null)return u!==null&&u!==null&&hu(u),t.callbackNode=null,t.callbackPriority=0;if((l&3)===0||ji(t,l)){if(a=l&-l,a===t.callbackPriority)return a;switch(u!==null&&hu(u),gu(l)){case 2:case 8:l=Yh;break;case 32:l=al;break;case 268435456:l=Fh;break;default:l=al}return u=ay.bind(null,t),l=fu(l,u),t.callbackPriority=a,t.callbackNode=l,a}return u!==null&&u!==null&&hu(u),t.callbackPriority=2,t.callbackNode=null,2}function ay(t,a){if(wt!==0&&wt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var l=t.callbackNode;if(Kl()&&t.callbackNode!==l)return null;var u=je;return u=sl(t,t===Ze?u:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u===0?null:(Ug(t,u,a),ny(t,jn()),t.callbackNode!=null&&t.callbackNode===l?ay.bind(null,t):null)}function ry(t,a){if(Kl())return null;Ug(t,a,!0)}function Ux(){Xx(function(){(Pe&6)!==0?fu(Zh,Px):ty()})}function nd(){return fr===0&&(fr=Xh()),fr}function iy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:dl(""+t)}function sy(t,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,t.id&&l.setAttribute("form",t.id),a.parentNode.insertBefore(l,a),t=new FormData(t),l.parentNode.removeChild(l),t}function zx(t,a,l,u,f){if(a==="submit"&&l&&l.stateNode===f){var p=iy((f[$t]||null).action),v=u.submitter;v&&(a=(a=v[$t]||null)?iy(a.formAction):v.getAttribute("formAction"),a!==null&&(p=a,v=null));var w=new pl("action","action",null,u,f);t.push({event:w,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(fr!==0){var T=v?sy(f,v):new FormData(f);xc(l,{pending:!0,data:T,method:f.method,action:p},null,T)}}else typeof p=="function"&&(w.preventDefault(),T=v?sy(f,v):new FormData(f),xc(l,{pending:!0,data:T,method:f.method,action:p},p,T))},currentTarget:f}]})}}for(var ad=0;ad<qu.length;ad++){var rd=qu[ad],qx=rd.toLowerCase(),Bx=rd[0].toUpperCase()+rd.slice(1);mn(qx,"on"+Bx)}mn(Um,"onAnimationEnd"),mn(zm,"onAnimationIteration"),mn(qm,"onAnimationStart"),mn("dblclick","onDoubleClick"),mn("focusin","onFocus"),mn("focusout","onBlur"),mn(ix,"onTransitionRun"),mn(sx,"onTransitionStart"),mn(lx,"onTransitionCancel"),mn(Bm,"onTransitionEnd"),Er("onMouseEnter",["mouseout","mouseover"]),Er("onMouseLeave",["mouseout","mouseover"]),Er("onPointerEnter",["pointerout","pointerover"]),Er("onPointerLeave",["pointerout","pointerover"]),Qa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qa("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ps="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ps));function ly(t,a){a=(a&4)!==0;for(var l=0;l<t.length;l++){var u=t[l],f=u.event;u=u.listeners;e:{var p=void 0;if(a)for(var v=u.length-1;0<=v;v--){var w=u[v],T=w.instance,L=w.currentTarget;if(w=w.listener,T!==p&&f.isPropagationStopped())break e;p=w,f.currentTarget=L;try{p(f)}catch(B){ql(B)}f.currentTarget=null,p=T}else for(v=0;v<u.length;v++){if(w=u[v],T=w.instance,L=w.currentTarget,w=w.listener,T!==p&&f.isPropagationStopped())break e;p=w,f.currentTarget=L;try{p(f)}catch(B){ql(B)}f.currentTarget=null,p=T}}}}function Re(t,a){var l=a[yu];l===void 0&&(l=a[yu]=new Set);var u=t+"__bubble";l.has(u)||(oy(a,t,2,!1),l.add(u))}function id(t,a,l){var u=0;a&&(u|=4),oy(l,t,u,a)}var to="_reactListening"+Math.random().toString(36).slice(2);function sd(t){if(!t[to]){t[to]=!0,tm.forEach(function(l){l!=="selectionchange"&&(Hx.has(l)||id(l,!1,t),id(l,!0,t))});var a=t.nodeType===9?t:t.ownerDocument;a===null||a[to]||(a[to]=!0,id("selectionchange",!1,a))}}function oy(t,a,l,u){switch(Cy(a)){case 2:var f=g1;break;case 8:f=y1;break;default:f=_d}l=f.bind(null,a,l,t),f=void 0,!Ru||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(f=!0),u?f!==void 0?t.addEventListener(a,l,{capture:!0,passive:f}):t.addEventListener(a,l,!0):f!==void 0?t.addEventListener(a,l,{passive:f}):t.addEventListener(a,l,!1)}function ld(t,a,l,u,f){var p=u;if((a&1)===0&&(a&2)===0&&u!==null)e:for(;;){if(u===null)return;var v=u.tag;if(v===3||v===4){var w=u.stateNode.containerInfo;if(w===f)break;if(v===4)for(v=u.return;v!==null;){var T=v.tag;if((T===3||T===4)&&v.stateNode.containerInfo===f)return;v=v.return}for(;w!==null;){if(v=wr(w),v===null)return;if(T=v.tag,T===5||T===6||T===26||T===27){u=p=v;continue e}w=w.parentNode}}u=u.return}pm(function(){var L=p,B=Tu(l),Y=[];e:{var $=Hm.get(t);if($!==void 0){var P=pl,ge=t;switch(t){case"keypress":if(hl(l)===0)break e;case"keydown":case"keyup":P=Iw;break;case"focusin":ge="focus",P=Cu;break;case"focusout":ge="blur",P=Cu;break;case"beforeblur":case"afterblur":P=Cu;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":P=bm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":P=Ow;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":P=zw;break;case Um:case zm:case qm:P=Rw;break;case Bm:P=Bw;break;case"scroll":case"scrollend":P=Sw;break;case"wheel":P=Gw;break;case"copy":case"cut":case"paste":P=jw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":P=_m;break;case"toggle":case"beforetoggle":P=Zw}var me=(a&4)!==0,Ge=!me&&(t==="scroll"||t==="scrollend"),C=me?$!==null?$+"Capture":null:$;me=[];for(var R=L,M;R!==null;){var V=R;if(M=V.stateNode,V=V.tag,V!==5&&V!==26&&V!==27||M===null||C===null||(V=Li(R,C),V!=null&&me.push(gs(R,V,M))),Ge)break;R=R.return}0<me.length&&($=new P($,ge,null,l,B),Y.push({event:$,listeners:me}))}}if((a&7)===0){e:{if($=t==="mouseover"||t==="pointerover",P=t==="mouseout"||t==="pointerout",$&&l!==Ou&&(ge=l.relatedTarget||l.fromElement)&&(wr(ge)||ge[_r]))break e;if((P||$)&&($=B.window===B?B:($=B.ownerDocument)?$.defaultView||$.parentWindow:window,P?(ge=l.relatedTarget||l.toElement,P=L,ge=ge?wr(ge):null,ge!==null&&(Ge=o(ge),me=ge.tag,ge!==Ge||me!==5&&me!==27&&me!==6)&&(ge=null)):(P=null,ge=L),P!==ge)){if(me=bm,V="onMouseLeave",C="onMouseEnter",R="mouse",(t==="pointerout"||t==="pointerover")&&(me=_m,V="onPointerLeave",C="onPointerEnter",R="pointer"),Ge=P==null?$:Mi(P),M=ge==null?$:Mi(ge),$=new me(V,R+"leave",P,l,B),$.target=Ge,$.relatedTarget=M,V=null,wr(B)===L&&(me=new me(C,R+"enter",ge,l,B),me.target=M,me.relatedTarget=Ge,V=me),Ge=V,P&&ge)t:{for(me=P,C=ge,R=0,M=me;M;M=ti(M))R++;for(M=0,V=C;V;V=ti(V))M++;for(;0<R-M;)me=ti(me),R--;for(;0<M-R;)C=ti(C),M--;for(;R--;){if(me===C||C!==null&&me===C.alternate)break t;me=ti(me),C=ti(C)}me=null}else me=null;P!==null&&uy(Y,$,P,me,!1),ge!==null&&Ge!==null&&uy(Y,Ge,ge,me,!0)}}e:{if($=L?Mi(L):window,P=$.nodeName&&$.nodeName.toLowerCase(),P==="select"||P==="input"&&$.type==="file")var re=Rm;else if(Tm($))if(Nm)re=nx;else{re=ex;var Oe=Ww}else P=$.nodeName,!P||P.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?L&&Eu(L.elementType)&&(re=Rm):re=tx;if(re&&(re=re(t,L))){Am(Y,re,l,B);break e}Oe&&Oe(t,$,L),t==="focusout"&&L&&$.type==="number"&&L.memoizedProps.value!=null&&Su($,"number",$.value)}switch(Oe=L?Mi(L):window,t){case"focusin":(Tm(Oe)||Oe.contentEditable==="true")&&(kr=Oe,Pu=L,Bi=null);break;case"focusout":Bi=Pu=kr=null;break;case"mousedown":Uu=!0;break;case"contextmenu":case"mouseup":case"dragend":Uu=!1,Im(Y,l,B);break;case"selectionchange":if(rx)break;case"keydown":case"keyup":Im(Y,l,B)}var de;if(Lu)e:{switch(t){case"compositionstart":var pe="onCompositionStart";break e;case"compositionend":pe="onCompositionEnd";break e;case"compositionupdate":pe="onCompositionUpdate";break e}pe=void 0}else jr?Em(t,l)&&(pe="onCompositionEnd"):t==="keydown"&&l.keyCode===229&&(pe="onCompositionStart");pe&&(wm&&l.locale!=="ko"&&(jr||pe!=="onCompositionStart"?pe==="onCompositionEnd"&&jr&&(de=gm()):(pa=B,Nu="value"in pa?pa.value:pa.textContent,jr=!0)),Oe=no(L,pe),0<Oe.length&&(pe=new vm(pe,t,null,l,B),Y.push({event:pe,listeners:Oe}),de?pe.data=de:(de=Om(l),de!==null&&(pe.data=de)))),(de=Fw?Xw(t,l):Qw(t,l))&&(pe=no(L,"onBeforeInput"),0<pe.length&&(Oe=new vm("onBeforeInput","beforeinput",null,l,B),Y.push({event:Oe,listeners:pe}),Oe.data=de)),zx(Y,t,L,l,B)}ly(Y,a)})}function gs(t,a,l){return{instance:t,listener:a,currentTarget:l}}function no(t,a){for(var l=a+"Capture",u=[];t!==null;){var f=t,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=Li(t,l),f!=null&&u.unshift(gs(t,f,p)),f=Li(t,a),f!=null&&u.push(gs(t,f,p))),t.tag===3)return u;t=t.return}return[]}function ti(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function uy(t,a,l,u,f){for(var p=a._reactName,v=[];l!==null&&l!==u;){var w=l,T=w.alternate,L=w.stateNode;if(w=w.tag,T!==null&&T===u)break;w!==5&&w!==26&&w!==27||L===null||(T=L,f?(L=Li(l,p),L!=null&&v.unshift(gs(l,L,T))):f||(L=Li(l,p),L!=null&&v.push(gs(l,L,T)))),l=l.return}v.length!==0&&t.push({event:a,listeners:v})}var Gx=/\r\n?/g,Vx=/\u0000|\uFFFD/g;function cy(t){return(typeof t=="string"?t:""+t).replace(Gx,`
`).replace(Vx,"")}function dy(t,a){return a=cy(a),cy(t)===a}function ao(){}function He(t,a,l,u,f,p){switch(l){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||Ar(t,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&Ar(t,""+u);break;case"className":ol(t,"class",u);break;case"tabIndex":ol(t,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":ol(t,l,u);break;case"style":hm(t,u,p);break;case"data":if(a!=="object"){ol(t,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||l!=="href")){t.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(l);break}u=dl(""+u),t.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){t.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(l==="formAction"?(a!=="input"&&He(t,a,"name",f.name,f,null),He(t,a,"formEncType",f.formEncType,f,null),He(t,a,"formMethod",f.formMethod,f,null),He(t,a,"formTarget",f.formTarget,f,null)):(He(t,a,"encType",f.encType,f,null),He(t,a,"method",f.method,f,null),He(t,a,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(l);break}u=dl(""+u),t.setAttribute(l,u);break;case"onClick":u!=null&&(t.onclick=ao);break;case"onScroll":u!=null&&Re("scroll",t);break;case"onScrollEnd":u!=null&&Re("scrollend",t);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(f.children!=null)throw Error(r(60));t.innerHTML=l}}break;case"multiple":t.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":t.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){t.removeAttribute("xlink:href");break}l=dl(""+u),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(l,""+u):t.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(l,""):t.removeAttribute(l);break;case"capture":case"download":u===!0?t.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(l,u):t.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?t.setAttribute(l,u):t.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?t.removeAttribute(l):t.setAttribute(l,u);break;case"popover":Re("beforetoggle",t),Re("toggle",t),ll(t,"popover",u);break;case"xlinkActuate":Hn(t,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Hn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Hn(t,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Hn(t,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Hn(t,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Hn(t,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Hn(t,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Hn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Hn(t,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":ll(t,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=ww.get(l)||l,ll(t,l,u))}}function od(t,a,l,u,f,p){switch(l){case"style":hm(t,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(f.children!=null)throw Error(r(60));t.innerHTML=l}}break;case"children":typeof u=="string"?Ar(t,u):(typeof u=="number"||typeof u=="bigint")&&Ar(t,""+u);break;case"onScroll":u!=null&&Re("scroll",t);break;case"onScrollEnd":u!=null&&Re("scrollend",t);break;case"onClick":u!=null&&(t.onclick=ao);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!nm.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(f=l.endsWith("Capture"),a=l.slice(2,f?l.length-7:void 0),p=t[$t]||null,p=p!=null?p[l]:null,typeof p=="function"&&t.removeEventListener(a,p,f),typeof u=="function")){typeof p!="function"&&p!==null&&(l in t?t[l]=null:t.hasAttribute(l)&&t.removeAttribute(l)),t.addEventListener(a,u,f);break e}l in t?t[l]=u:u===!0?t.setAttribute(l,""):ll(t,l,u)}}}function xt(t,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Re("error",t),Re("load",t);var u=!1,f=!1,p;for(p in l)if(l.hasOwnProperty(p)){var v=l[p];if(v!=null)switch(p){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:He(t,a,p,v,l,null)}}f&&He(t,a,"srcSet",l.srcSet,l,null),u&&He(t,a,"src",l.src,l,null);return;case"input":Re("invalid",t);var w=p=v=f=null,T=null,L=null;for(u in l)if(l.hasOwnProperty(u)){var B=l[u];if(B!=null)switch(u){case"name":f=B;break;case"type":v=B;break;case"checked":T=B;break;case"defaultChecked":L=B;break;case"value":p=B;break;case"defaultValue":w=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,a));break;default:He(t,a,u,B,l,null)}}um(t,p,w,T,L,v,f,!1),ul(t);return;case"select":Re("invalid",t),u=v=p=null;for(f in l)if(l.hasOwnProperty(f)&&(w=l[f],w!=null))switch(f){case"value":p=w;break;case"defaultValue":v=w;break;case"multiple":u=w;default:He(t,a,f,w,l,null)}a=p,l=v,t.multiple=!!u,a!=null?Tr(t,!!u,a,!1):l!=null&&Tr(t,!!u,l,!0);return;case"textarea":Re("invalid",t),p=f=u=null;for(v in l)if(l.hasOwnProperty(v)&&(w=l[v],w!=null))switch(v){case"value":u=w;break;case"defaultValue":f=w;break;case"children":p=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(r(91));break;default:He(t,a,v,w,l,null)}dm(t,u,f,p),ul(t);return;case"option":for(T in l)if(l.hasOwnProperty(T)&&(u=l[T],u!=null))switch(T){case"selected":t.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:He(t,a,T,u,l,null)}return;case"dialog":Re("beforetoggle",t),Re("toggle",t),Re("cancel",t),Re("close",t);break;case"iframe":case"object":Re("load",t);break;case"video":case"audio":for(u=0;u<ps.length;u++)Re(ps[u],t);break;case"image":Re("error",t),Re("load",t);break;case"details":Re("toggle",t);break;case"embed":case"source":case"link":Re("error",t),Re("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in l)if(l.hasOwnProperty(L)&&(u=l[L],u!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:He(t,a,L,u,l,null)}return;default:if(Eu(a)){for(B in l)l.hasOwnProperty(B)&&(u=l[B],u!==void 0&&od(t,a,B,u,l,void 0));return}}for(w in l)l.hasOwnProperty(w)&&(u=l[w],u!=null&&He(t,a,w,u,l,null))}function Zx(t,a,l,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,v=null,w=null,T=null,L=null,B=null;for(P in l){var Y=l[P];if(l.hasOwnProperty(P)&&Y!=null)switch(P){case"checked":break;case"value":break;case"defaultValue":T=Y;default:u.hasOwnProperty(P)||He(t,a,P,null,u,Y)}}for(var $ in u){var P=u[$];if(Y=l[$],u.hasOwnProperty($)&&(P!=null||Y!=null))switch($){case"type":p=P;break;case"name":f=P;break;case"checked":L=P;break;case"defaultChecked":B=P;break;case"value":v=P;break;case"defaultValue":w=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(r(137,a));break;default:P!==Y&&He(t,a,$,P,u,Y)}}xu(t,v,w,T,L,B,p,f);return;case"select":P=v=w=$=null;for(p in l)if(T=l[p],l.hasOwnProperty(p)&&T!=null)switch(p){case"value":break;case"multiple":P=T;default:u.hasOwnProperty(p)||He(t,a,p,null,u,T)}for(f in u)if(p=u[f],T=l[f],u.hasOwnProperty(f)&&(p!=null||T!=null))switch(f){case"value":$=p;break;case"defaultValue":w=p;break;case"multiple":v=p;default:p!==T&&He(t,a,f,p,u,T)}a=w,l=v,u=P,$!=null?Tr(t,!!l,$,!1):!!u!=!!l&&(a!=null?Tr(t,!!l,a,!0):Tr(t,!!l,l?[]:"",!1));return;case"textarea":P=$=null;for(w in l)if(f=l[w],l.hasOwnProperty(w)&&f!=null&&!u.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:He(t,a,w,null,u,f)}for(v in u)if(f=u[v],p=l[v],u.hasOwnProperty(v)&&(f!=null||p!=null))switch(v){case"value":$=f;break;case"defaultValue":P=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==p&&He(t,a,v,f,u,p)}cm(t,$,P);return;case"option":for(var ge in l)if($=l[ge],l.hasOwnProperty(ge)&&$!=null&&!u.hasOwnProperty(ge))switch(ge){case"selected":t.selected=!1;break;default:He(t,a,ge,null,u,$)}for(T in u)if($=u[T],P=l[T],u.hasOwnProperty(T)&&$!==P&&($!=null||P!=null))switch(T){case"selected":t.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:He(t,a,T,$,u,P)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var me in l)$=l[me],l.hasOwnProperty(me)&&$!=null&&!u.hasOwnProperty(me)&&He(t,a,me,null,u,$);for(L in u)if($=u[L],P=l[L],u.hasOwnProperty(L)&&$!==P&&($!=null||P!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(r(137,a));break;default:He(t,a,L,$,u,P)}return;default:if(Eu(a)){for(var Ge in l)$=l[Ge],l.hasOwnProperty(Ge)&&$!==void 0&&!u.hasOwnProperty(Ge)&&od(t,a,Ge,void 0,u,$);for(B in u)$=u[B],P=l[B],!u.hasOwnProperty(B)||$===P||$===void 0&&P===void 0||od(t,a,B,$,u,P);return}}for(var C in l)$=l[C],l.hasOwnProperty(C)&&$!=null&&!u.hasOwnProperty(C)&&He(t,a,C,null,u,$);for(Y in u)$=u[Y],P=l[Y],!u.hasOwnProperty(Y)||$===P||$==null&&P==null||He(t,a,Y,$,u,P)}var ud=null,cd=null;function ro(t){return t.nodeType===9?t:t.ownerDocument}function fy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function hy(t,a){if(t===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&a==="foreignObject"?0:t}function dd(t,a){return t==="textarea"||t==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var fd=null;function Yx(){var t=window.event;return t&&t.type==="popstate"?t===fd?!1:(fd=t,!0):(fd=null,!1)}var my=typeof setTimeout=="function"?setTimeout:void 0,Fx=typeof clearTimeout=="function"?clearTimeout:void 0,py=typeof Promise=="function"?Promise:void 0,Xx=typeof queueMicrotask=="function"?queueMicrotask:typeof py<"u"?function(t){return py.resolve(null).then(t).catch(Qx)}:my;function Qx(t){setTimeout(function(){throw t})}function ka(t){return t==="head"}function gy(t,a){var l=a,u=0,f=0;do{var p=l.nextSibling;if(t.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(0<u&&8>u){l=u;var v=t.ownerDocument;if(l&1&&ys(v.documentElement),l&2&&ys(v.body),l&4)for(l=v.head,ys(l),v=l.firstChild;v;){var w=v.nextSibling,T=v.nodeName;v[Ci]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&v.rel.toLowerCase()==="stylesheet"||l.removeChild(v),v=w}}if(f===0){t.removeChild(p),Os(a);return}f--}else l==="$"||l==="$?"||l==="$!"?f++:u=l.charCodeAt(0)-48;else u=0;l=p}while(l);Os(a)}function hd(t){var a=t.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":hd(l),bu(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}t.removeChild(l)}}function Jx(t,a,l,u){for(;t.nodeType===1;){var f=l;if(t.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(u){if(!t[Ci])switch(a){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(p=t.getAttribute("rel"),p==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(p!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(p=t.getAttribute("src"),(p!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(a==="input"&&t.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===p)return t}else return t;if(t=gn(t.nextSibling),t===null)break}return null}function Kx(t,a,l){if(a==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!l||(t=gn(t.nextSibling),t===null))return null;return t}function md(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function Wx(t,a){var l=t.ownerDocument;if(t.data!=="$?"||l.readyState==="complete")a();else{var u=function(){a(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),t._reactRetry=u}}function gn(t){for(;t!=null;t=t.nextSibling){var a=t.nodeType;if(a===1||a===3)break;if(a===8){if(a=t.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return t}var pd=null;function yy(t){t=t.previousSibling;for(var a=0;t;){if(t.nodeType===8){var l=t.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return t;a--}else l==="/$"&&a++}t=t.previousSibling}return null}function by(t,a,l){switch(a=ro(l),t){case"html":if(t=a.documentElement,!t)throw Error(r(452));return t;case"head":if(t=a.head,!t)throw Error(r(453));return t;case"body":if(t=a.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function ys(t){for(var a=t.attributes;a.length;)t.removeAttributeNode(a[0]);bu(t)}var dn=new Map,vy=new Set;function io(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var aa=z.d;z.d={f:e1,r:t1,D:n1,C:a1,L:r1,m:i1,X:l1,S:s1,M:o1};function e1(){var t=aa.f(),a=Ql();return t||a}function t1(t){var a=xr(t);a!==null&&a.tag===5&&a.type==="form"?Up(a):aa.r(t)}var ni=typeof document>"u"?null:document;function _y(t,a,l){var u=ni;if(u&&typeof a=="string"&&a){var f=an(a);f='link[rel="'+t+'"][href="'+f+'"]',typeof l=="string"&&(f+='[crossorigin="'+l+'"]'),vy.has(f)||(vy.add(f),t={rel:t,crossOrigin:l,href:a},u.querySelector(f)===null&&(a=u.createElement("link"),xt(a,"link",t),dt(a),u.head.appendChild(a)))}}function n1(t){aa.D(t),_y("dns-prefetch",t,null)}function a1(t,a){aa.C(t,a),_y("preconnect",t,a)}function r1(t,a,l){aa.L(t,a,l);var u=ni;if(u&&t&&a){var f='link[rel="preload"][as="'+an(a)+'"]';a==="image"&&l&&l.imageSrcSet?(f+='[imagesrcset="'+an(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(f+='[imagesizes="'+an(l.imageSizes)+'"]')):f+='[href="'+an(t)+'"]';var p=f;switch(a){case"style":p=ai(t);break;case"script":p=ri(t)}dn.has(p)||(t=g({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:t,as:a},l),dn.set(p,t),u.querySelector(f)!==null||a==="style"&&u.querySelector(bs(p))||a==="script"&&u.querySelector(vs(p))||(a=u.createElement("link"),xt(a,"link",t),dt(a),u.head.appendChild(a)))}}function i1(t,a){aa.m(t,a);var l=ni;if(l&&t){var u=a&&typeof a.as=="string"?a.as:"script",f='link[rel="modulepreload"][as="'+an(u)+'"][href="'+an(t)+'"]',p=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=ri(t)}if(!dn.has(p)&&(t=g({rel:"modulepreload",href:t},a),dn.set(p,t),l.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(vs(p)))return}u=l.createElement("link"),xt(u,"link",t),dt(u),l.head.appendChild(u)}}}function s1(t,a,l){aa.S(t,a,l);var u=ni;if(u&&t){var f=Sr(u).hoistableStyles,p=ai(t);a=a||"default";var v=f.get(p);if(!v){var w={loading:0,preload:null};if(v=u.querySelector(bs(p)))w.loading=5;else{t=g({rel:"stylesheet",href:t,"data-precedence":a},l),(l=dn.get(p))&&gd(t,l);var T=v=u.createElement("link");dt(T),xt(T,"link",t),T._p=new Promise(function(L,B){T.onload=L,T.onerror=B}),T.addEventListener("load",function(){w.loading|=1}),T.addEventListener("error",function(){w.loading|=2}),w.loading|=4,so(v,a,u)}v={type:"stylesheet",instance:v,count:1,state:w},f.set(p,v)}}}function l1(t,a){aa.X(t,a);var l=ni;if(l&&t){var u=Sr(l).hoistableScripts,f=ri(t),p=u.get(f);p||(p=l.querySelector(vs(f)),p||(t=g({src:t,async:!0},a),(a=dn.get(f))&&yd(t,a),p=l.createElement("script"),dt(p),xt(p,"link",t),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(f,p))}}function o1(t,a){aa.M(t,a);var l=ni;if(l&&t){var u=Sr(l).hoistableScripts,f=ri(t),p=u.get(f);p||(p=l.querySelector(vs(f)),p||(t=g({src:t,async:!0,type:"module"},a),(a=dn.get(f))&&yd(t,a),p=l.createElement("script"),dt(p),xt(p,"link",t),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(f,p))}}function wy(t,a,l,u){var f=(f=he.current)?io(f):null;if(!f)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=ai(l.href),l=Sr(f).hoistableStyles,u=l.get(a),u||(u={type:"style",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){t=ai(l.href);var p=Sr(f).hoistableStyles,v=p.get(t);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(t,v),(p=f.querySelector(bs(t)))&&!p._p&&(v.instance=p,v.state.loading=5),dn.has(t)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},dn.set(t,l),p||u1(f,t,l,v.state))),a&&u===null)throw Error(r(528,""));return v}if(a&&u!==null)throw Error(r(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=ri(l),l=Sr(f).hoistableScripts,u=l.get(a),u||(u={type:"script",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function ai(t){return'href="'+an(t)+'"'}function bs(t){return'link[rel="stylesheet"]['+t+"]"}function xy(t){return g({},t,{"data-precedence":t.precedence,precedence:null})}function u1(t,a,l,u){t.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=t.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),xt(a,"link",l),dt(a),t.head.appendChild(a))}function ri(t){return'[src="'+an(t)+'"]'}function vs(t){return"script[async]"+t}function Sy(t,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var u=t.querySelector('style[data-href~="'+an(l.href)+'"]');if(u)return a.instance=u,dt(u),u;var f=g({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(t.ownerDocument||t).createElement("style"),dt(u),xt(u,"style",f),so(u,l.precedence,t),a.instance=u;case"stylesheet":f=ai(l.href);var p=t.querySelector(bs(f));if(p)return a.state.loading|=4,a.instance=p,dt(p),p;u=xy(l),(f=dn.get(f))&&gd(u,f),p=(t.ownerDocument||t).createElement("link"),dt(p);var v=p;return v._p=new Promise(function(w,T){v.onload=w,v.onerror=T}),xt(p,"link",u),a.state.loading|=4,so(p,l.precedence,t),a.instance=p;case"script":return p=ri(l.src),(f=t.querySelector(vs(p)))?(a.instance=f,dt(f),f):(u=l,(f=dn.get(p))&&(u=g({},l),yd(u,f)),t=t.ownerDocument||t,f=t.createElement("script"),dt(f),xt(f,"link",u),t.head.appendChild(f),a.instance=f);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,so(u,l.precedence,t));return a.instance}function so(t,a,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,p=f,v=0;v<u.length;v++){var w=u[v];if(w.dataset.precedence===a)p=w;else if(p!==f)break}p?p.parentNode.insertBefore(t,p.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(t,a.firstChild))}function gd(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.title==null&&(t.title=a.title)}function yd(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.integrity==null&&(t.integrity=a.integrity)}var lo=null;function Ey(t,a,l){if(lo===null){var u=new Map,f=lo=new Map;f.set(l,u)}else f=lo,u=f.get(l),u||(u=new Map,f.set(l,u));if(u.has(t))return u;for(u.set(t,null),l=l.getElementsByTagName(t),f=0;f<l.length;f++){var p=l[f];if(!(p[Ci]||p[Et]||t==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var v=p.getAttribute(a)||"";v=t+v;var w=u.get(v);w?w.push(p):u.set(v,[p])}}return u}function Oy(t,a,l){t=t.ownerDocument||t,t.head.insertBefore(l,a==="title"?t.querySelector("head > title"):null)}function c1(t,a,l){if(l===1||a.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return t=a.disabled,typeof a.precedence=="string"&&t==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Ty(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var _s=null;function d1(){}function f1(t,a,l){if(_s===null)throw Error(r(475));var u=_s;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=ai(l.href),p=t.querySelector(bs(f));if(p){t=p._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(u.count++,u=oo.bind(u),t.then(u,u)),a.state.loading|=4,a.instance=p,dt(p);return}p=t.ownerDocument||t,l=xy(l),(f=dn.get(f))&&gd(l,f),p=p.createElement("link"),dt(p);var v=p;v._p=new Promise(function(w,T){v.onload=w,v.onerror=T}),xt(p,"link",l),a.instance=p}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(u.count++,a=oo.bind(u),t.addEventListener("load",a),t.addEventListener("error",a))}}function h1(){if(_s===null)throw Error(r(475));var t=_s;return t.stylesheets&&t.count===0&&bd(t,t.stylesheets),0<t.count?function(a){var l=setTimeout(function(){if(t.stylesheets&&bd(t,t.stylesheets),t.unsuspend){var u=t.unsuspend;t.unsuspend=null,u()}},6e4);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l)}}:null}function oo(){if(this.count--,this.count===0){if(this.stylesheets)bd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var uo=null;function bd(t,a){t.stylesheets=null,t.unsuspend!==null&&(t.count++,uo=new Map,a.forEach(m1,t),uo=null,oo.call(t))}function m1(t,a){if(!(a.state.loading&4)){var l=uo.get(t);if(l)var u=l.get(null);else{l=new Map,uo.set(t,l);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var v=f[p];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(l.set(v.dataset.precedence,v),u=v)}u&&l.set(null,u)}f=a.instance,v=f.getAttribute("data-precedence"),p=l.get(v)||u,p===u&&l.set(null,f),l.set(v,f),this.count++,u=oo.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),p?p.parentNode.insertBefore(f,p.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),a.state.loading|=4}}var ws={$$typeof:k,Provider:null,Consumer:null,_currentValue:I,_currentValue2:I,_threadCount:0};function p1(t,a,l,u,f,p,v,w){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mu(0),this.hiddenUpdates=mu(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function Ay(t,a,l,u,f,p,v,w,T,L,B,Y){return t=new p1(t,a,l,v,w,T,L,Y),a=1,p===!0&&(a|=24),p=Vt(3,null,null,a),t.current=p,p.stateNode=t,a=Wu(),a.refCount++,t.pooledCache=a,a.refCount++,p.memoizedState={element:u,isDehydrated:l,cache:a},ac(p),t}function Ry(t){return t?(t=$r,t):$r}function Ny(t,a,l,u,f,p){f=Ry(f),u.context===null?u.context=f:u.pendingContext=f,u=ba(a),u.payload={element:l},p=p===void 0?null:p,p!==null&&(u.callback=p),l=va(t,u,a),l!==null&&(Qt(l,t,a),Ji(l,t,a))}function jy(t,a){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var l=t.retryLane;t.retryLane=l!==0&&l<a?l:a}}function vd(t,a){jy(t,a),(t=t.alternate)&&jy(t,a)}function ky(t){if(t.tag===13){var a=Lr(t,67108864);a!==null&&Qt(a,t,67108864),vd(t,67108864)}}var co=!0;function g1(t,a,l,u){var f=j.T;j.T=null;var p=z.p;try{z.p=2,_d(t,a,l,u)}finally{z.p=p,j.T=f}}function y1(t,a,l,u){var f=j.T;j.T=null;var p=z.p;try{z.p=8,_d(t,a,l,u)}finally{z.p=p,j.T=f}}function _d(t,a,l,u){if(co){var f=wd(u);if(f===null)ld(t,a,u,fo,l),My(t,u);else if(v1(f,t,a,l,u))u.stopPropagation();else if(My(t,u),a&4&&-1<b1.indexOf(t)){for(;f!==null;){var p=xr(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var v=Xa(p.pendingLanes);if(v!==0){var w=p;for(w.pendingLanes|=2,w.entangledLanes|=2;v;){var T=1<<31-Ht(v);w.entanglements[1]|=T,v&=~T}$n(p),(Pe&6)===0&&(Fl=jn()+500,ms(0))}}break;case 13:w=Lr(p,2),w!==null&&Qt(w,p,2),Ql(),vd(p,2)}if(p=wd(u),p===null&&ld(t,a,u,fo,l),p===f)break;f=p}f!==null&&u.stopPropagation()}else ld(t,a,u,null,l)}}function wd(t){return t=Tu(t),xd(t)}var fo=null;function xd(t){if(fo=null,t=wr(t),t!==null){var a=o(t);if(a===null)t=null;else{var l=a.tag;if(l===13){if(t=c(a),t!==null)return t;t=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;t=null}else a!==t&&(t=null)}}return fo=t,null}function Cy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(aw()){case Zh:return 2;case Yh:return 8;case al:case rw:return 32;case Fh:return 268435456;default:return 32}default:return 32}}var Sd=!1,Ca=null,Ma=null,La=null,xs=new Map,Ss=new Map,$a=[],b1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function My(t,a){switch(t){case"focusin":case"focusout":Ca=null;break;case"dragenter":case"dragleave":Ma=null;break;case"mouseover":case"mouseout":La=null;break;case"pointerover":case"pointerout":xs.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ss.delete(a.pointerId)}}function Es(t,a,l,u,f,p){return t===null||t.nativeEvent!==p?(t={blockedOn:a,domEventName:l,eventSystemFlags:u,nativeEvent:p,targetContainers:[f]},a!==null&&(a=xr(a),a!==null&&ky(a)),t):(t.eventSystemFlags|=u,a=t.targetContainers,f!==null&&a.indexOf(f)===-1&&a.push(f),t)}function v1(t,a,l,u,f){switch(a){case"focusin":return Ca=Es(Ca,t,a,l,u,f),!0;case"dragenter":return Ma=Es(Ma,t,a,l,u,f),!0;case"mouseover":return La=Es(La,t,a,l,u,f),!0;case"pointerover":var p=f.pointerId;return xs.set(p,Es(xs.get(p)||null,t,a,l,u,f)),!0;case"gotpointercapture":return p=f.pointerId,Ss.set(p,Es(Ss.get(p)||null,t,a,l,u,f)),!0}return!1}function Ly(t){var a=wr(t.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=c(l),a!==null){t.blockedOn=a,fw(t.priority,function(){if(l.tag===13){var u=Xt();u=pu(u);var f=Lr(l,u);f!==null&&Qt(f,l,u),vd(l,u)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){t.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ho(t){if(t.blockedOn!==null)return!1;for(var a=t.targetContainers;0<a.length;){var l=wd(t.nativeEvent);if(l===null){l=t.nativeEvent;var u=new l.constructor(l.type,l);Ou=u,l.target.dispatchEvent(u),Ou=null}else return a=xr(l),a!==null&&ky(a),t.blockedOn=l,!1;a.shift()}return!0}function $y(t,a,l){ho(t)&&l.delete(a)}function _1(){Sd=!1,Ca!==null&&ho(Ca)&&(Ca=null),Ma!==null&&ho(Ma)&&(Ma=null),La!==null&&ho(La)&&(La=null),xs.forEach($y),Ss.forEach($y)}function mo(t,a){t.blockedOn===a&&(t.blockedOn=null,Sd||(Sd=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,_1)))}var po=null;function Dy(t){po!==t&&(po=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){po===t&&(po=null);for(var a=0;a<t.length;a+=3){var l=t[a],u=t[a+1],f=t[a+2];if(typeof u!="function"){if(xd(u||l)===null)continue;break}var p=xr(l);p!==null&&(t.splice(a,3),a-=3,xc(p,{pending:!0,data:f,method:l.method,action:u},u,f))}}))}function Os(t){function a(T){return mo(T,t)}Ca!==null&&mo(Ca,t),Ma!==null&&mo(Ma,t),La!==null&&mo(La,t),xs.forEach(a),Ss.forEach(a);for(var l=0;l<$a.length;l++){var u=$a[l];u.blockedOn===t&&(u.blockedOn=null)}for(;0<$a.length&&(l=$a[0],l.blockedOn===null);)Ly(l),l.blockedOn===null&&$a.shift();if(l=(t.ownerDocument||t).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var f=l[u],p=l[u+1],v=f[$t]||null;if(typeof p=="function")v||Dy(l);else if(v){var w=null;if(p&&p.hasAttribute("formAction")){if(f=p,v=p[$t]||null)w=v.formAction;else if(xd(f)!==null)continue}else w=v.action;typeof w=="function"?l[u+1]=w:(l.splice(u,3),u-=3),Dy(l)}}}function Ed(t){this._internalRoot=t}go.prototype.render=Ed.prototype.render=function(t){var a=this._internalRoot;if(a===null)throw Error(r(409));var l=a.current,u=Xt();Ny(l,u,t,a,null,null)},go.prototype.unmount=Ed.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var a=t.containerInfo;Ny(t.current,2,null,t,null,null),Ql(),a[_r]=null}};function go(t){this._internalRoot=t}go.prototype.unstable_scheduleHydration=function(t){if(t){var a=Wh();t={blockedOn:null,target:t,priority:a};for(var l=0;l<$a.length&&a!==0&&a<$a[l].priority;l++);$a.splice(l,0,t),l===0&&Ly(t)}};var Iy=e.version;if(Iy!=="19.1.0")throw Error(r(527,Iy,"19.1.0"));z.findDOMNode=function(t){var a=t._reactInternals;if(a===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=h(a),t=t!==null?m(t):null,t=t===null?null:t.stateNode,t};var w1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yo.isDisabled&&yo.supportsFiber)try{Ni=yo.inject(w1),Bt=yo}catch{}}return As.createRoot=function(t,a){if(!s(t))throw Error(r(299));var l=!1,u="",f=Wp,p=eg,v=tg,w=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(v=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(w=a.unstable_transitionCallbacks)),a=Ay(t,1,!1,null,null,l,u,f,p,v,w,null),t[_r]=a.current,sd(t),new Ed(a)},As.hydrateRoot=function(t,a,l){if(!s(t))throw Error(r(299));var u=!1,f="",p=Wp,v=eg,w=tg,T=null,L=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(f=l.identifierPrefix),l.onUncaughtError!==void 0&&(p=l.onUncaughtError),l.onCaughtError!==void 0&&(v=l.onCaughtError),l.onRecoverableError!==void 0&&(w=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(T=l.unstable_transitionCallbacks),l.formState!==void 0&&(L=l.formState)),a=Ay(t,1,!0,a,l??null,u,f,p,v,w,T,L),a.context=Ry(null),l=a.current,u=Xt(),u=pu(u),f=ba(u),f.callback=null,va(l,f,u),l=u,a.current.lanes=l,ki(a,l),$n(a),t[_r]=a.current,sd(t),new go(a)},As.version="19.1.0",As}var Yy;function C1(){if(Yy)return Ad.exports;Yy=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Ad.exports=k1(),Ad.exports}var M1=C1();function Fy(i,e){if(typeof i=="function")return i(e);i!=null&&(i.current=e)}function L1(...i){return e=>{let n=!1;const r=i.map(s=>{const o=Fy(s,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():Fy(i[s],null)}}}}function p_(i){const e=D1(i),n=ue.forwardRef((r,s)=>{const{children:o,...c}=r,d=ue.Children.toArray(o),h=d.find(P1);if(h){const m=h.props.children,g=d.map(y=>y===h?ue.Children.count(m)>1?ue.Children.only(null):ue.isValidElement(m)?m.props.children:null:y);return S.jsx(e,{...c,ref:s,children:ue.isValidElement(m)?ue.cloneElement(m,void 0,g):null})}return S.jsx(e,{...c,ref:s,children:o})});return n.displayName=`${i}.Slot`,n}var $1=p_("Slot");function D1(i){const e=ue.forwardRef((n,r)=>{const{children:s,...o}=n;if(ue.isValidElement(s)){const c=z1(s),d=U1(o,s.props);return s.type!==ue.Fragment&&(d.ref=r?L1(r,c):c),ue.cloneElement(s,d)}return ue.Children.count(s)>1?ue.Children.only(null):null});return e.displayName=`${i}.SlotClone`,e}var I1=Symbol("radix.slottable");function P1(i){return ue.isValidElement(i)&&typeof i.type=="function"&&"__radixId"in i.type&&i.type.__radixId===I1}function U1(i,e){const n={...e};for(const r in e){const s=i[r],o=e[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...d)=>{const h=o(...d);return s(...d),h}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...i,...n}}function z1(i){var r,s;let e=(r=Object.getOwnPropertyDescriptor(i.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?i.ref:(e=(s=Object.getOwnPropertyDescriptor(i,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?i.props.ref:i.props.ref||i.ref)}function g_(i){var e,n,r="";if(typeof i=="string"||typeof i=="number")r+=i;else if(typeof i=="object")if(Array.isArray(i)){var s=i.length;for(e=0;e<s;e++)i[e]&&(n=g_(i[e]))&&(r&&(r+=" "),r+=n)}else for(n in i)i[n]&&(r&&(r+=" "),r+=n);return r}function y_(){for(var i,e,n=0,r="",s=arguments.length;n<s;n++)(i=arguments[n])&&(e=g_(i))&&(r&&(r+=" "),r+=e);return r}const Xy=i=>typeof i=="boolean"?`${i}`:i===0?"0":i,Qy=y_,b_=(i,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Qy(i,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:o}=e,c=Object.keys(s).map(m=>{const g=n==null?void 0:n[m],y=o==null?void 0:o[m];if(g===null)return null;const b=Xy(g)||Xy(y);return s[m][b]}),d=n&&Object.entries(n).reduce((m,g)=>{let[y,b]=g;return b===void 0||(m[y]=b),m},{}),h=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((m,g)=>{let{class:y,className:b,..._}=g;return Object.entries(_).every(x=>{let[E,A]=x;return Array.isArray(A)?A.includes({...o,...d}[E]):{...o,...d}[E]===A})?[...m,y,b]:m},[]);return Qy(i,c,h,n==null?void 0:n.class,n==null?void 0:n.className)},Sh="-",q1=i=>{const e=H1(i),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=i;return{getClassGroupId:c=>{const d=c.split(Sh);return d[0]===""&&d.length!==1&&d.shift(),v_(d,e)||B1(c)},getConflictingClassGroupIds:(c,d)=>{const h=n[c]||[];return d&&r[c]?[...h,...r[c]]:h}}},v_=(i,e)=>{var c;if(i.length===0)return e.classGroupId;const n=i[0],r=e.nextPart.get(n),s=r?v_(i.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const o=i.join(Sh);return(c=e.validators.find(({validator:d})=>d(o)))==null?void 0:c.classGroupId},Jy=/^\[(.+)\]$/,B1=i=>{if(Jy.test(i)){const e=Jy.exec(i)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},H1=i=>{const{theme:e,classGroups:n}=i,r={nextPart:new Map,validators:[]};for(const s in n)Qf(n[s],r,s,e);return r},Qf=(i,e,n,r)=>{i.forEach(s=>{if(typeof s=="string"){const o=s===""?e:Ky(e,s);o.classGroupId=n;return}if(typeof s=="function"){if(G1(s)){Qf(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([o,c])=>{Qf(c,Ky(e,o),n,r)})})},Ky=(i,e)=>{let n=i;return e.split(Sh).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},G1=i=>i.isThemeGetter,V1=i=>{if(i<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(o,c)=>{n.set(o,c),e++,e>i&&(e=0,r=n,n=new Map)};return{get(o){let c=n.get(o);if(c!==void 0)return c;if((c=r.get(o))!==void 0)return s(o,c),c},set(o,c){n.has(o)?n.set(o,c):s(o,c)}}},Jf="!",Kf=":",Z1=Kf.length,Y1=i=>{const{prefix:e,experimentalParseClassName:n}=i;let r=s=>{const o=[];let c=0,d=0,h=0,m;for(let x=0;x<s.length;x++){let E=s[x];if(c===0&&d===0){if(E===Kf){o.push(s.slice(h,x)),h=x+Z1;continue}if(E==="/"){m=x;continue}}E==="["?c++:E==="]"?c--:E==="("?d++:E===")"&&d--}const g=o.length===0?s:s.substring(h),y=F1(g),b=y!==g,_=m&&m>h?m-h:void 0;return{modifiers:o,hasImportantModifier:b,baseClassName:y,maybePostfixModifierPosition:_}};if(e){const s=e+Kf,o=r;r=c=>c.startsWith(s)?o(c.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:c,maybePostfixModifierPosition:void 0}}if(n){const s=r;r=o=>n({className:o,parseClassName:s})}return r},F1=i=>i.endsWith(Jf)?i.substring(0,i.length-1):i.startsWith(Jf)?i.substring(1):i,X1=i=>{const e=Object.fromEntries(i.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const s=[];let o=[];return r.forEach(c=>{c[0]==="["||e[c]?(s.push(...o.sort(),c),o=[]):o.push(c)}),s.push(...o.sort()),s}},Q1=i=>({cache:V1(i.cacheSize),parseClassName:Y1(i),sortModifiers:X1(i),...q1(i)}),J1=/\s+/,K1=(i,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:o}=e,c=[],d=i.trim().split(J1);let h="";for(let m=d.length-1;m>=0;m-=1){const g=d[m],{isExternal:y,modifiers:b,hasImportantModifier:_,baseClassName:x,maybePostfixModifierPosition:E}=n(g);if(y){h=g+(h.length>0?" "+h:h);continue}let A=!!E,N=r(A?x.substring(0,E):x);if(!N){if(!A){h=g+(h.length>0?" "+h:h);continue}if(N=r(x),!N){h=g+(h.length>0?" "+h:h);continue}A=!1}const D=o(b).join(":"),k=_?D+Jf:D,F=k+N;if(c.includes(F))continue;c.push(F);const q=s(N,A);for(let ee=0;ee<q.length;++ee){const ne=q[ee];c.push(k+ne)}h=g+(h.length>0?" "+h:h)}return h};function W1(){let i=0,e,n,r="";for(;i<arguments.length;)(e=arguments[i++])&&(n=__(e))&&(r&&(r+=" "),r+=n);return r}const __=i=>{if(typeof i=="string")return i;let e,n="";for(let r=0;r<i.length;r++)i[r]&&(e=__(i[r]))&&(n&&(n+=" "),n+=e);return n};function eS(i,...e){let n,r,s,o=c;function c(h){const m=e.reduce((g,y)=>y(g),i());return n=Q1(m),r=n.cache.get,s=n.cache.set,o=d,d(h)}function d(h){const m=r(h);if(m)return m;const g=K1(h,n);return s(h,g),g}return function(){return o(W1.apply(null,arguments))}}const ot=i=>{const e=n=>n[i]||[];return e.isThemeGetter=!0,e},w_=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,x_=/^\((?:(\w[\w-]*):)?(.+)\)$/i,tS=/^\d+\/\d+$/,nS=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,aS=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,rS=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,iS=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,sS=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ii=i=>tS.test(i),Ee=i=>!!i&&!Number.isNaN(Number(i)),Pa=i=>!!i&&Number.isInteger(Number(i)),kd=i=>i.endsWith("%")&&Ee(i.slice(0,-1)),ra=i=>nS.test(i),lS=()=>!0,oS=i=>aS.test(i)&&!rS.test(i),S_=()=>!1,uS=i=>iS.test(i),cS=i=>sS.test(i),dS=i=>!ie(i)&&!se(i),fS=i=>wi(i,T_,S_),ie=i=>w_.test(i),hr=i=>wi(i,A_,oS),Cd=i=>wi(i,yS,Ee),Wy=i=>wi(i,E_,S_),hS=i=>wi(i,O_,cS),bo=i=>wi(i,R_,uS),se=i=>x_.test(i),Rs=i=>xi(i,A_),mS=i=>xi(i,bS),eb=i=>xi(i,E_),pS=i=>xi(i,T_),gS=i=>xi(i,O_),vo=i=>xi(i,R_,!0),wi=(i,e,n)=>{const r=w_.exec(i);return r?r[1]?e(r[1]):n(r[2]):!1},xi=(i,e,n=!1)=>{const r=x_.exec(i);return r?r[1]?e(r[1]):n:!1},E_=i=>i==="position"||i==="percentage",O_=i=>i==="image"||i==="url",T_=i=>i==="length"||i==="size"||i==="bg-size",A_=i=>i==="length",yS=i=>i==="number",bS=i=>i==="family-name",R_=i=>i==="shadow",vS=()=>{const i=ot("color"),e=ot("font"),n=ot("text"),r=ot("font-weight"),s=ot("tracking"),o=ot("leading"),c=ot("breakpoint"),d=ot("container"),h=ot("spacing"),m=ot("radius"),g=ot("shadow"),y=ot("inset-shadow"),b=ot("text-shadow"),_=ot("drop-shadow"),x=ot("blur"),E=ot("perspective"),A=ot("aspect"),N=ot("ease"),D=ot("animate"),k=()=>["auto","avoid","all","avoid-page","page","left","right","column"],F=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],q=()=>[...F(),se,ie],ee=()=>["auto","hidden","clip","visible","scroll"],ne=()=>["auto","contain","none"],H=()=>[se,ie,h],Ne=()=>[ii,"full","auto",...H()],ct=()=>[Pa,"none","subgrid",se,ie],We=()=>["auto",{span:["full",Pa,se,ie]},Pa,se,ie],qe=()=>[Pa,"auto",se,ie],bt=()=>["auto","min","max","fr",se,ie],te=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],X=()=>["start","end","center","stretch","center-safe","end-safe"],j=()=>["auto",...H()],z=()=>[ii,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...H()],I=()=>[i,se,ie],Q=()=>[...F(),eb,Wy,{position:[se,ie]}],O=()=>["no-repeat",{repeat:["","x","y","space","round"]}],U=()=>["auto","cover","contain",pS,fS,{size:[se,ie]}],Z=()=>[kd,Rs,hr],G=()=>["","none","full",m,se,ie],W=()=>["",Ee,Rs,hr],oe=()=>["solid","dashed","dotted","double"],he=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],xe=()=>[Ee,kd,eb,Wy],$e=()=>["","none",x,se,ie],vt=()=>["none",Ee,se,ie],tn=()=>["none",Ee,se,ie],Nn=()=>[Ee,se,ie],fa=()=>[ii,"full",...H()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ra],breakpoint:[ra],color:[lS],container:[ra],"drop-shadow":[ra],ease:["in","out","in-out"],font:[dS],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ra],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ra],shadow:[ra],spacing:["px",Ee],text:[ra],"text-shadow":[ra],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ii,ie,se,A]}],container:["container"],columns:[{columns:[Ee,ie,se,d]}],"break-after":[{"break-after":k()}],"break-before":[{"break-before":k()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:q()}],overflow:[{overflow:ee()}],"overflow-x":[{"overflow-x":ee()}],"overflow-y":[{"overflow-y":ee()}],overscroll:[{overscroll:ne()}],"overscroll-x":[{"overscroll-x":ne()}],"overscroll-y":[{"overscroll-y":ne()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:Ne()}],"inset-x":[{"inset-x":Ne()}],"inset-y":[{"inset-y":Ne()}],start:[{start:Ne()}],end:[{end:Ne()}],top:[{top:Ne()}],right:[{right:Ne()}],bottom:[{bottom:Ne()}],left:[{left:Ne()}],visibility:["visible","invisible","collapse"],z:[{z:[Pa,"auto",se,ie]}],basis:[{basis:[ii,"full","auto",d,...H()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ee,ii,"auto","initial","none",ie]}],grow:[{grow:["",Ee,se,ie]}],shrink:[{shrink:["",Ee,se,ie]}],order:[{order:[Pa,"first","last","none",se,ie]}],"grid-cols":[{"grid-cols":ct()}],"col-start-end":[{col:We()}],"col-start":[{"col-start":qe()}],"col-end":[{"col-end":qe()}],"grid-rows":[{"grid-rows":ct()}],"row-start-end":[{row:We()}],"row-start":[{"row-start":qe()}],"row-end":[{"row-end":qe()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":bt()}],"auto-rows":[{"auto-rows":bt()}],gap:[{gap:H()}],"gap-x":[{"gap-x":H()}],"gap-y":[{"gap-y":H()}],"justify-content":[{justify:[...te(),"normal"]}],"justify-items":[{"justify-items":[...X(),"normal"]}],"justify-self":[{"justify-self":["auto",...X()]}],"align-content":[{content:["normal",...te()]}],"align-items":[{items:[...X(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...X(),{baseline:["","last"]}]}],"place-content":[{"place-content":te()}],"place-items":[{"place-items":[...X(),"baseline"]}],"place-self":[{"place-self":["auto",...X()]}],p:[{p:H()}],px:[{px:H()}],py:[{py:H()}],ps:[{ps:H()}],pe:[{pe:H()}],pt:[{pt:H()}],pr:[{pr:H()}],pb:[{pb:H()}],pl:[{pl:H()}],m:[{m:j()}],mx:[{mx:j()}],my:[{my:j()}],ms:[{ms:j()}],me:[{me:j()}],mt:[{mt:j()}],mr:[{mr:j()}],mb:[{mb:j()}],ml:[{ml:j()}],"space-x":[{"space-x":H()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":H()}],"space-y-reverse":["space-y-reverse"],size:[{size:z()}],w:[{w:[d,"screen",...z()]}],"min-w":[{"min-w":[d,"screen","none",...z()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[c]},...z()]}],h:[{h:["screen","lh",...z()]}],"min-h":[{"min-h":["screen","lh","none",...z()]}],"max-h":[{"max-h":["screen","lh",...z()]}],"font-size":[{text:["base",n,Rs,hr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,se,Cd]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",kd,ie]}],"font-family":[{font:[mS,ie,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,se,ie]}],"line-clamp":[{"line-clamp":[Ee,"none",se,Cd]}],leading:[{leading:[o,...H()]}],"list-image":[{"list-image":["none",se,ie]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",se,ie]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:I()}],"text-color":[{text:I()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...oe(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ee,"from-font","auto",se,hr]}],"text-decoration-color":[{decoration:I()}],"underline-offset":[{"underline-offset":[Ee,"auto",se,ie]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:H()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",se,ie]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",se,ie]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Q()}],"bg-repeat":[{bg:O()}],"bg-size":[{bg:U()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Pa,se,ie],radial:["",se,ie],conic:[Pa,se,ie]},gS,hS]}],"bg-color":[{bg:I()}],"gradient-from-pos":[{from:Z()}],"gradient-via-pos":[{via:Z()}],"gradient-to-pos":[{to:Z()}],"gradient-from":[{from:I()}],"gradient-via":[{via:I()}],"gradient-to":[{to:I()}],rounded:[{rounded:G()}],"rounded-s":[{"rounded-s":G()}],"rounded-e":[{"rounded-e":G()}],"rounded-t":[{"rounded-t":G()}],"rounded-r":[{"rounded-r":G()}],"rounded-b":[{"rounded-b":G()}],"rounded-l":[{"rounded-l":G()}],"rounded-ss":[{"rounded-ss":G()}],"rounded-se":[{"rounded-se":G()}],"rounded-ee":[{"rounded-ee":G()}],"rounded-es":[{"rounded-es":G()}],"rounded-tl":[{"rounded-tl":G()}],"rounded-tr":[{"rounded-tr":G()}],"rounded-br":[{"rounded-br":G()}],"rounded-bl":[{"rounded-bl":G()}],"border-w":[{border:W()}],"border-w-x":[{"border-x":W()}],"border-w-y":[{"border-y":W()}],"border-w-s":[{"border-s":W()}],"border-w-e":[{"border-e":W()}],"border-w-t":[{"border-t":W()}],"border-w-r":[{"border-r":W()}],"border-w-b":[{"border-b":W()}],"border-w-l":[{"border-l":W()}],"divide-x":[{"divide-x":W()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":W()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...oe(),"hidden","none"]}],"divide-style":[{divide:[...oe(),"hidden","none"]}],"border-color":[{border:I()}],"border-color-x":[{"border-x":I()}],"border-color-y":[{"border-y":I()}],"border-color-s":[{"border-s":I()}],"border-color-e":[{"border-e":I()}],"border-color-t":[{"border-t":I()}],"border-color-r":[{"border-r":I()}],"border-color-b":[{"border-b":I()}],"border-color-l":[{"border-l":I()}],"divide-color":[{divide:I()}],"outline-style":[{outline:[...oe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ee,se,ie]}],"outline-w":[{outline:["",Ee,Rs,hr]}],"outline-color":[{outline:I()}],shadow:[{shadow:["","none",g,vo,bo]}],"shadow-color":[{shadow:I()}],"inset-shadow":[{"inset-shadow":["none",y,vo,bo]}],"inset-shadow-color":[{"inset-shadow":I()}],"ring-w":[{ring:W()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:I()}],"ring-offset-w":[{"ring-offset":[Ee,hr]}],"ring-offset-color":[{"ring-offset":I()}],"inset-ring-w":[{"inset-ring":W()}],"inset-ring-color":[{"inset-ring":I()}],"text-shadow":[{"text-shadow":["none",b,vo,bo]}],"text-shadow-color":[{"text-shadow":I()}],opacity:[{opacity:[Ee,se,ie]}],"mix-blend":[{"mix-blend":[...he(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":he()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ee]}],"mask-image-linear-from-pos":[{"mask-linear-from":xe()}],"mask-image-linear-to-pos":[{"mask-linear-to":xe()}],"mask-image-linear-from-color":[{"mask-linear-from":I()}],"mask-image-linear-to-color":[{"mask-linear-to":I()}],"mask-image-t-from-pos":[{"mask-t-from":xe()}],"mask-image-t-to-pos":[{"mask-t-to":xe()}],"mask-image-t-from-color":[{"mask-t-from":I()}],"mask-image-t-to-color":[{"mask-t-to":I()}],"mask-image-r-from-pos":[{"mask-r-from":xe()}],"mask-image-r-to-pos":[{"mask-r-to":xe()}],"mask-image-r-from-color":[{"mask-r-from":I()}],"mask-image-r-to-color":[{"mask-r-to":I()}],"mask-image-b-from-pos":[{"mask-b-from":xe()}],"mask-image-b-to-pos":[{"mask-b-to":xe()}],"mask-image-b-from-color":[{"mask-b-from":I()}],"mask-image-b-to-color":[{"mask-b-to":I()}],"mask-image-l-from-pos":[{"mask-l-from":xe()}],"mask-image-l-to-pos":[{"mask-l-to":xe()}],"mask-image-l-from-color":[{"mask-l-from":I()}],"mask-image-l-to-color":[{"mask-l-to":I()}],"mask-image-x-from-pos":[{"mask-x-from":xe()}],"mask-image-x-to-pos":[{"mask-x-to":xe()}],"mask-image-x-from-color":[{"mask-x-from":I()}],"mask-image-x-to-color":[{"mask-x-to":I()}],"mask-image-y-from-pos":[{"mask-y-from":xe()}],"mask-image-y-to-pos":[{"mask-y-to":xe()}],"mask-image-y-from-color":[{"mask-y-from":I()}],"mask-image-y-to-color":[{"mask-y-to":I()}],"mask-image-radial":[{"mask-radial":[se,ie]}],"mask-image-radial-from-pos":[{"mask-radial-from":xe()}],"mask-image-radial-to-pos":[{"mask-radial-to":xe()}],"mask-image-radial-from-color":[{"mask-radial-from":I()}],"mask-image-radial-to-color":[{"mask-radial-to":I()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":F()}],"mask-image-conic-pos":[{"mask-conic":[Ee]}],"mask-image-conic-from-pos":[{"mask-conic-from":xe()}],"mask-image-conic-to-pos":[{"mask-conic-to":xe()}],"mask-image-conic-from-color":[{"mask-conic-from":I()}],"mask-image-conic-to-color":[{"mask-conic-to":I()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Q()}],"mask-repeat":[{mask:O()}],"mask-size":[{mask:U()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",se,ie]}],filter:[{filter:["","none",se,ie]}],blur:[{blur:$e()}],brightness:[{brightness:[Ee,se,ie]}],contrast:[{contrast:[Ee,se,ie]}],"drop-shadow":[{"drop-shadow":["","none",_,vo,bo]}],"drop-shadow-color":[{"drop-shadow":I()}],grayscale:[{grayscale:["",Ee,se,ie]}],"hue-rotate":[{"hue-rotate":[Ee,se,ie]}],invert:[{invert:["",Ee,se,ie]}],saturate:[{saturate:[Ee,se,ie]}],sepia:[{sepia:["",Ee,se,ie]}],"backdrop-filter":[{"backdrop-filter":["","none",se,ie]}],"backdrop-blur":[{"backdrop-blur":$e()}],"backdrop-brightness":[{"backdrop-brightness":[Ee,se,ie]}],"backdrop-contrast":[{"backdrop-contrast":[Ee,se,ie]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ee,se,ie]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ee,se,ie]}],"backdrop-invert":[{"backdrop-invert":["",Ee,se,ie]}],"backdrop-opacity":[{"backdrop-opacity":[Ee,se,ie]}],"backdrop-saturate":[{"backdrop-saturate":[Ee,se,ie]}],"backdrop-sepia":[{"backdrop-sepia":["",Ee,se,ie]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":H()}],"border-spacing-x":[{"border-spacing-x":H()}],"border-spacing-y":[{"border-spacing-y":H()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",se,ie]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ee,"initial",se,ie]}],ease:[{ease:["linear","initial",N,se,ie]}],delay:[{delay:[Ee,se,ie]}],animate:[{animate:["none",D,se,ie]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[E,se,ie]}],"perspective-origin":[{"perspective-origin":q()}],rotate:[{rotate:vt()}],"rotate-x":[{"rotate-x":vt()}],"rotate-y":[{"rotate-y":vt()}],"rotate-z":[{"rotate-z":vt()}],scale:[{scale:tn()}],"scale-x":[{"scale-x":tn()}],"scale-y":[{"scale-y":tn()}],"scale-z":[{"scale-z":tn()}],"scale-3d":["scale-3d"],skew:[{skew:Nn()}],"skew-x":[{"skew-x":Nn()}],"skew-y":[{"skew-y":Nn()}],transform:[{transform:[se,ie,"","none","gpu","cpu"]}],"transform-origin":[{origin:q()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:fa()}],"translate-x":[{"translate-x":fa()}],"translate-y":[{"translate-y":fa()}],"translate-z":[{"translate-z":fa()}],"translate-none":["translate-none"],accent:[{accent:I()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:I()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",se,ie]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":H()}],"scroll-mx":[{"scroll-mx":H()}],"scroll-my":[{"scroll-my":H()}],"scroll-ms":[{"scroll-ms":H()}],"scroll-me":[{"scroll-me":H()}],"scroll-mt":[{"scroll-mt":H()}],"scroll-mr":[{"scroll-mr":H()}],"scroll-mb":[{"scroll-mb":H()}],"scroll-ml":[{"scroll-ml":H()}],"scroll-p":[{"scroll-p":H()}],"scroll-px":[{"scroll-px":H()}],"scroll-py":[{"scroll-py":H()}],"scroll-ps":[{"scroll-ps":H()}],"scroll-pe":[{"scroll-pe":H()}],"scroll-pt":[{"scroll-pt":H()}],"scroll-pr":[{"scroll-pr":H()}],"scroll-pb":[{"scroll-pb":H()}],"scroll-pl":[{"scroll-pl":H()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",se,ie]}],fill:[{fill:["none",...I()]}],"stroke-w":[{stroke:[Ee,Rs,hr,Cd]}],stroke:[{stroke:["none",...I()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},_S=eS(vS);function On(...i){return _S(y_(i))}const wS=b_("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),_n=ue.forwardRef(({className:i,variant:e,size:n,asChild:r=!1,...s},o)=>{const c=r?$1:"button";return S.jsx(c,{className:On(wS({variant:e,size:n,className:i})),ref:o,...s})});_n.displayName="Button";/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),SS=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),tb=i=>{const e=SS(i);return e.charAt(0).toUpperCase()+e.slice(1)},N_=(...i)=>i.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),ES=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var OS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TS=ue.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:c,...d},h)=>ue.createElement("svg",{ref:h,...OS,width:e,height:e,stroke:i,strokeWidth:r?Number(n)*24/Number(e):n,className:N_("lucide",s),...!o&&!ES(d)&&{"aria-hidden":"true"},...d},[...c.map(([m,g])=>ue.createElement(m,g)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=(i,e)=>{const n=ue.forwardRef(({className:r,...s},o)=>ue.createElement(TS,{ref:o,iconNode:e,className:N_(`lucide-${xS(tb(i))}`,`lucide-${i}`,r),...s}));return n.displayName=tb(i),n};/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],RS=Fe("arrow-right",AS);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NS=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],jS=Fe("award",NS);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kS=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],CS=Fe("bot",kS);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MS=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],LS=Fe("building-2",MS);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $S=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],DS=Fe("building",$S);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IS=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],PS=Fe("calendar",IS);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const US=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],zS=Fe("circle-alert",US);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qS=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],BS=Fe("circle-check-big",qS);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],GS=Fe("clock",HS);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VS=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],ZS=Fe("code",VS);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YS=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],FS=Fe("database",YS);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XS=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],QS=Fe("external-link",XS);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JS=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],Eh=Fe("github",JS);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],WS=Fe("globe",KS);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eE=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],tE=Fe("heart",eE);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nE=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],aE=Fe("linkedin",nE);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rE=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],j_=Fe("mail",rE);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iE=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],sE=Fe("map-pin",iE);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lE=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],oE=Fe("moon",lE);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uE=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Wf=Fe("send",uE);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cE=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],dE=Fe("server",cE);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fE=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],hE=Fe("sun",fE);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mE=[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]],pE=Fe("test-tube",mE);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gE=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],yE=Fe("user",gE);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bE=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]],vE=Fe("wrench",bE),_E=()=>{const[i,e]=ue.useState(!1);ue.useEffect(()=>{const r=document.documentElement,s=localStorage.getItem("theme"),o=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,c=s?s==="dark":o;e(c),c?r.classList.add("dark"):r.classList.remove("dark")},[]);const n=()=>{const r=document.documentElement,s=!i;e(s),s?(r.classList.add("dark"),localStorage.setItem("theme","dark")):(r.classList.remove("dark"),localStorage.setItem("theme","light"))};return S.jsx("header",{className:"sticky top-0 z-50 w-full border-b border-border bg-card/95 backdrop-blur supports-[backdrop-filter]:bg-card/80",children:S.jsxs("div",{className:"container mx-auto px-4 flex h-20 items-center justify-between text-foreground",children:[S.jsxs("div",{className:"flex items-center space-x-4",children:[S.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-primary text-primary-foreground",children:S.jsx("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",children:S.jsx("path",{d:"M4 4H17.3334V17.3334H30.6666V30.6666H44V44H4V4Z",fill:"currentColor"})})}),S.jsx("h2",{className:"text-2xl md:text-3xl font-bold tracking-tight",children:"Ch Varun"})]}),S.jsxs("nav",{className:"hidden md:flex items-center space-x-8",children:[S.jsx("a",{href:"#home",className:"text-base md:text-lg font-semibold text-foreground/80 transition-colors hover:text-primary",children:"Home"}),S.jsx("a",{href:"#skills",className:"text-base md:text-lg font-semibold text-foreground/80 transition-colors hover:text-primary",children:"Skills"}),S.jsx("a",{href:"#experience",className:"text-base md:text-lg font-semibold text-foreground/80 transition-colors hover:text-primary",children:"Experience"}),S.jsx("a",{href:"#projects",className:"text-base md:text-lg font-semibold text-foreground/80 transition-colors hover:text-primary",children:"Projects"}),S.jsx("a",{href:"#contact",className:"text-base md:text-lg font-semibold text-foreground/80 transition-colors hover:text-primary",children:"Contact"})]}),S.jsxs("div",{className:"flex items-center space-x-3",children:[S.jsx(_n,{variant:"ghost",size:"icon",onClick:n,"aria-label":"Toggle theme",children:i?S.jsx(hE,{className:"h-5 w-5"}):S.jsx(oE,{className:"h-5 w-5"})}),S.jsx(_n,{variant:"ghost",size:"icon",asChild:!0,children:S.jsx("a",{href:"https://github.com/TheCoder30ec4",target:"_blank",rel:"noopener noreferrer","aria-label":"GitHub",children:S.jsx(Eh,{className:"h-5 w-5"})})}),S.jsx(_n,{size:"lg",asChild:!0,children:S.jsxs("a",{href:"#contact",children:[S.jsx(j_,{className:"mr-2 h-5 w-5"}),"Let's Talk"]})})]})]})})},wE=Symbol("Let zodToJsonSchema decide on which parser to use"),xE={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},SE=i=>({...xE,...i}),EE=i=>{const e=SE(i),n=e.name!==void 0?[...e.basePath,e.definitionPath,e.name]:e.basePath;return{...e,currentPath:n,propertyPath:void 0,seen:new Map(Object.entries(e.definitions).map(([r,s])=>[s._def,{def:s._def,path:[...e.basePath,e.definitionPath,r],jsonSchema:void 0}]))}};function k_(i,e,n,r){r!=null&&r.errorMessages&&n&&(i.errorMessage={...i.errorMessage,[e]:n})}function ze(i,e,n,r,s){i[e]=n,k_(i,e,r,s)}var Me;(function(i){i.assertEqual=s=>{};function e(s){}i.assertIs=e;function n(s){throw new Error}i.assertNever=n,i.arrayToEnum=s=>{const o={};for(const c of s)o[c]=c;return o},i.getValidEnumValues=s=>{const o=i.objectKeys(s).filter(d=>typeof s[s[d]]!="number"),c={};for(const d of o)c[d]=s[d];return i.objectValues(c)},i.objectValues=s=>i.objectKeys(s).map(function(o){return s[o]}),i.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const o=[];for(const c in s)Object.prototype.hasOwnProperty.call(s,c)&&o.push(c);return o},i.find=(s,o)=>{for(const c of s)if(o(c))return c},i.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function r(s,o=" | "){return s.map(c=>typeof c=="string"?`'${c}'`:c).join(o)}i.joinValues=r,i.jsonStringifyReplacer=(s,o)=>typeof o=="bigint"?o.toString():o})(Me||(Me={}));var nb;(function(i){i.mergeShapes=(e,n)=>({...e,...n})})(nb||(nb={}));const le=Me.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),qa=i=>{switch(typeof i){case"undefined":return le.undefined;case"string":return le.string;case"number":return Number.isNaN(i)?le.nan:le.number;case"boolean":return le.boolean;case"function":return le.function;case"bigint":return le.bigint;case"symbol":return le.symbol;case"object":return Array.isArray(i)?le.array:i===null?le.null:i.then&&typeof i.then=="function"&&i.catch&&typeof i.catch=="function"?le.promise:typeof Map<"u"&&i instanceof Map?le.map:typeof Set<"u"&&i instanceof Set?le.set:typeof Date<"u"&&i instanceof Date?le.date:le.object;default:return le.unknown}},J=Me.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class da extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(o){return o.message},r={_errors:[]},s=o=>{for(const c of o.issues)if(c.code==="invalid_union")c.unionErrors.map(s);else if(c.code==="invalid_return_type")s(c.returnTypeError);else if(c.code==="invalid_arguments")s(c.argumentsError);else if(c.path.length===0)r._errors.push(n(c));else{let d=r,h=0;for(;h<c.path.length;){const m=c.path[h];h===c.path.length-1?(d[m]=d[m]||{_errors:[]},d[m]._errors.push(n(c))):d[m]=d[m]||{_errors:[]},d=d[m],h++}}};return s(this),r}static assert(e){if(!(e instanceof da))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Me.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}da.create=i=>new da(i);const eh=(i,e)=>{let n;switch(i.code){case J.invalid_type:i.received===le.undefined?n="Required":n=`Expected ${i.expected}, received ${i.received}`;break;case J.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(i.expected,Me.jsonStringifyReplacer)}`;break;case J.unrecognized_keys:n=`Unrecognized key(s) in object: ${Me.joinValues(i.keys,", ")}`;break;case J.invalid_union:n="Invalid input";break;case J.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Me.joinValues(i.options)}`;break;case J.invalid_enum_value:n=`Invalid enum value. Expected ${Me.joinValues(i.options)}, received '${i.received}'`;break;case J.invalid_arguments:n="Invalid function arguments";break;case J.invalid_return_type:n="Invalid function return type";break;case J.invalid_date:n="Invalid date";break;case J.invalid_string:typeof i.validation=="object"?"includes"in i.validation?(n=`Invalid input: must include "${i.validation.includes}"`,typeof i.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${i.validation.position}`)):"startsWith"in i.validation?n=`Invalid input: must start with "${i.validation.startsWith}"`:"endsWith"in i.validation?n=`Invalid input: must end with "${i.validation.endsWith}"`:Me.assertNever(i.validation):i.validation!=="regex"?n=`Invalid ${i.validation}`:n="Invalid";break;case J.too_small:i.type==="array"?n=`Array must contain ${i.exact?"exactly":i.inclusive?"at least":"more than"} ${i.minimum} element(s)`:i.type==="string"?n=`String must contain ${i.exact?"exactly":i.inclusive?"at least":"over"} ${i.minimum} character(s)`:i.type==="number"?n=`Number must be ${i.exact?"exactly equal to ":i.inclusive?"greater than or equal to ":"greater than "}${i.minimum}`:i.type==="date"?n=`Date must be ${i.exact?"exactly equal to ":i.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(i.minimum))}`:n="Invalid input";break;case J.too_big:i.type==="array"?n=`Array must contain ${i.exact?"exactly":i.inclusive?"at most":"less than"} ${i.maximum} element(s)`:i.type==="string"?n=`String must contain ${i.exact?"exactly":i.inclusive?"at most":"under"} ${i.maximum} character(s)`:i.type==="number"?n=`Number must be ${i.exact?"exactly":i.inclusive?"less than or equal to":"less than"} ${i.maximum}`:i.type==="bigint"?n=`BigInt must be ${i.exact?"exactly":i.inclusive?"less than or equal to":"less than"} ${i.maximum}`:i.type==="date"?n=`Date must be ${i.exact?"exactly":i.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(i.maximum))}`:n="Invalid input";break;case J.custom:n="Invalid input";break;case J.invalid_intersection_types:n="Intersection results could not be merged";break;case J.not_multiple_of:n=`Number must be a multiple of ${i.multipleOf}`;break;case J.not_finite:n="Number must be finite";break;default:n=e.defaultError,Me.assertNever(i)}return{message:n}};let OE=eh;function TE(){return OE}const AE=i=>{const{data:e,path:n,errorMaps:r,issueData:s}=i,o=[...n,...s.path||[]],c={...s,path:o};if(s.message!==void 0)return{...s,path:o,message:s.message};let d="";const h=r.filter(m=>!!m).slice().reverse();for(const m of h)d=m(c,{data:e,defaultError:d}).message;return{...s,path:o,message:d}};function ae(i,e){const n=TE(),r=AE({issueData:e,data:i.data,path:i.path,errorMaps:[i.common.contextualErrorMap,i.schemaErrorMap,n,n===eh?void 0:eh].filter(s=>!!s)});i.common.issues.push(r)}class Wt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return ye;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n){const o=await s.key,c=await s.value;r.push({key:o,value:c})}return Wt.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:o,value:c}=s;if(o.status==="aborted"||c.status==="aborted")return ye;o.status==="dirty"&&e.dirty(),c.status==="dirty"&&e.dirty(),o.value!=="__proto__"&&(typeof c.value<"u"||s.alwaysSet)&&(r[o.value]=c.value)}return{status:e.value,value:r}}}const ye=Object.freeze({status:"aborted"}),Ms=i=>({status:"dirty",value:i}),hn=i=>({status:"valid",value:i}),ab=i=>i.status==="aborted",rb=i=>i.status==="dirty",mi=i=>i.status==="valid",Co=i=>typeof Promise<"u"&&i instanceof Promise;var ce;(function(i){i.errToObj=e=>typeof e=="string"?{message:e}:e||{},i.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ce||(ce={}));class Va{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const ib=(i,e)=>{if(mi(e))return{success:!0,data:e.value};if(!i.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new da(i.common.issues);return this._error=n,this._error}}};function Te(i){if(!i)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=i;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(c,d)=>{const{message:h}=i;return c.code==="invalid_enum_value"?{message:h??d.defaultError}:typeof d.data>"u"?{message:h??r??d.defaultError}:c.code!=="invalid_type"?{message:d.defaultError}:{message:h??n??d.defaultError}},description:s}}class ke{get description(){return this._def.description}_getType(e){return qa(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:qa(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Wt,ctx:{common:e.parent.common,data:e.data,parsedType:qa(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Co(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:qa(e)},s=this._parseSync({data:e,path:r.path,parent:r});return ib(r,s)}"~validate"(e){var r,s;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:qa(e)};if(!this["~standard"].async)try{const o=this._parseSync({data:e,path:[],parent:n});return mi(o)?{value:o.value}:{issues:n.common.issues}}catch(o){(s=(r=o==null?void 0:o.message)==null?void 0:r.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(o=>mi(o)?{value:o.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:qa(e)},s=this._parse({data:e,path:r.path,parent:r}),o=await(Co(s)?s:Promise.resolve(s));return ib(r,o)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,o)=>{const c=e(s),d=()=>o.addIssue({code:J.custom,...r(s)});return typeof Promise<"u"&&c instanceof Promise?c.then(h=>h?!0:(d(),!1)):c?!0:(d(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new gi({schema:this,typeName:K.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return oa.create(this,this._def)}nullable(){return yi.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Pn.create(this)}promise(){return Do.create(this,this._def)}or(e){return Lo.create([this,e],this._def)}and(e){return $o.create(this,e,this._def)}transform(e){return new gi({...Te(this._def),schema:this,typeName:K.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new ah({...Te(this._def),innerType:this,defaultValue:n,typeName:K.ZodDefault})}brand(){return new QE({typeName:K.ZodBranded,type:this,...Te(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new rh({...Te(this._def),innerType:this,catchValue:n,typeName:K.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Oh.create(this,e)}readonly(){return ih.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const RE=/^c[^\s-]{8,}$/i,NE=/^[0-9a-z]+$/,jE=/^[0-9A-HJKMNP-TV-Z]{26}$/i,kE=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,CE=/^[a-z0-9_-]{21}$/i,ME=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,LE=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,$E=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,DE="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Md;const IE=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,PE=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,UE=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,zE=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,qE=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,BE=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,C_="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",HE=new RegExp(`^${C_}$`);function M_(i){let e="[0-5]\\d";i.precision?e=`${e}\\.\\d{${i.precision}}`:i.precision==null&&(e=`${e}(\\.\\d+)?`);const n=i.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function GE(i){return new RegExp(`^${M_(i)}$`)}function VE(i){let e=`${C_}T${M_(i)}`;const n=[];return n.push(i.local?"Z?":"Z"),i.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function ZE(i,e){return!!((e==="v4"||!e)&&IE.test(i)||(e==="v6"||!e)&&UE.test(i))}function YE(i,e){if(!ME.test(i))return!1;try{const[n]=i.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||e&&s.alg!==e)}catch{return!1}}function FE(i,e){return!!((e==="v4"||!e)&&PE.test(i)||(e==="v6"||!e)&&zE.test(i))}class sa extends ke{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==le.string){const o=this._getOrReturnCtx(e);return ae(o,{code:J.invalid_type,expected:le.string,received:o.parsedType}),ye}const r=new Wt;let s;for(const o of this._def.checks)if(o.kind==="min")e.data.length<o.value&&(s=this._getOrReturnCtx(e,s),ae(s,{code:J.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="max")e.data.length>o.value&&(s=this._getOrReturnCtx(e,s),ae(s,{code:J.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="length"){const c=e.data.length>o.value,d=e.data.length<o.value;(c||d)&&(s=this._getOrReturnCtx(e,s),c?ae(s,{code:J.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):d&&ae(s,{code:J.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),r.dirty())}else if(o.kind==="email")$E.test(e.data)||(s=this._getOrReturnCtx(e,s),ae(s,{validation:"email",code:J.invalid_string,message:o.message}),r.dirty());else if(o.kind==="emoji")Md||(Md=new RegExp(DE,"u")),Md.test(e.data)||(s=this._getOrReturnCtx(e,s),ae(s,{validation:"emoji",code:J.invalid_string,message:o.message}),r.dirty());else if(o.kind==="uuid")kE.test(e.data)||(s=this._getOrReturnCtx(e,s),ae(s,{validation:"uuid",code:J.invalid_string,message:o.message}),r.dirty());else if(o.kind==="nanoid")CE.test(e.data)||(s=this._getOrReturnCtx(e,s),ae(s,{validation:"nanoid",code:J.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid")RE.test(e.data)||(s=this._getOrReturnCtx(e,s),ae(s,{validation:"cuid",code:J.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid2")NE.test(e.data)||(s=this._getOrReturnCtx(e,s),ae(s,{validation:"cuid2",code:J.invalid_string,message:o.message}),r.dirty());else if(o.kind==="ulid")jE.test(e.data)||(s=this._getOrReturnCtx(e,s),ae(s,{validation:"ulid",code:J.invalid_string,message:o.message}),r.dirty());else if(o.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),ae(s,{validation:"url",code:J.invalid_string,message:o.message}),r.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),ae(s,{validation:"regex",code:J.invalid_string,message:o.message}),r.dirty())):o.kind==="trim"?e.data=e.data.trim():o.kind==="includes"?e.data.includes(o.value,o.position)||(s=this._getOrReturnCtx(e,s),ae(s,{code:J.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),r.dirty()):o.kind==="toLowerCase"?e.data=e.data.toLowerCase():o.kind==="toUpperCase"?e.data=e.data.toUpperCase():o.kind==="startsWith"?e.data.startsWith(o.value)||(s=this._getOrReturnCtx(e,s),ae(s,{code:J.invalid_string,validation:{startsWith:o.value},message:o.message}),r.dirty()):o.kind==="endsWith"?e.data.endsWith(o.value)||(s=this._getOrReturnCtx(e,s),ae(s,{code:J.invalid_string,validation:{endsWith:o.value},message:o.message}),r.dirty()):o.kind==="datetime"?VE(o).test(e.data)||(s=this._getOrReturnCtx(e,s),ae(s,{code:J.invalid_string,validation:"datetime",message:o.message}),r.dirty()):o.kind==="date"?HE.test(e.data)||(s=this._getOrReturnCtx(e,s),ae(s,{code:J.invalid_string,validation:"date",message:o.message}),r.dirty()):o.kind==="time"?GE(o).test(e.data)||(s=this._getOrReturnCtx(e,s),ae(s,{code:J.invalid_string,validation:"time",message:o.message}),r.dirty()):o.kind==="duration"?LE.test(e.data)||(s=this._getOrReturnCtx(e,s),ae(s,{validation:"duration",code:J.invalid_string,message:o.message}),r.dirty()):o.kind==="ip"?ZE(e.data,o.version)||(s=this._getOrReturnCtx(e,s),ae(s,{validation:"ip",code:J.invalid_string,message:o.message}),r.dirty()):o.kind==="jwt"?YE(e.data,o.alg)||(s=this._getOrReturnCtx(e,s),ae(s,{validation:"jwt",code:J.invalid_string,message:o.message}),r.dirty()):o.kind==="cidr"?FE(e.data,o.version)||(s=this._getOrReturnCtx(e,s),ae(s,{validation:"cidr",code:J.invalid_string,message:o.message}),r.dirty()):o.kind==="base64"?qE.test(e.data)||(s=this._getOrReturnCtx(e,s),ae(s,{validation:"base64",code:J.invalid_string,message:o.message}),r.dirty()):o.kind==="base64url"?BE.test(e.data)||(s=this._getOrReturnCtx(e,s),ae(s,{validation:"base64url",code:J.invalid_string,message:o.message}),r.dirty()):Me.assertNever(o);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:J.invalid_string,...ce.errToObj(r)})}_addCheck(e){return new sa({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ce.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ce.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ce.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ce.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ce.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ce.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ce.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ce.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ce.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...ce.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...ce.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ce.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...ce.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...ce.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...ce.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...ce.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...ce.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...ce.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...ce.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...ce.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...ce.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...ce.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...ce.errToObj(n)})}nonempty(e){return this.min(1,ce.errToObj(e))}trim(){return new sa({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new sa({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new sa({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}sa.create=i=>new sa({checks:[],typeName:K.ZodString,coerce:(i==null?void 0:i.coerce)??!1,...Te(i)});function XE(i,e){const n=(i.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,o=Number.parseInt(i.toFixed(s).replace(".","")),c=Number.parseInt(e.toFixed(s).replace(".",""));return o%c/10**s}class qs extends ke{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==le.number){const o=this._getOrReturnCtx(e);return ae(o,{code:J.invalid_type,expected:le.number,received:o.parsedType}),ye}let r;const s=new Wt;for(const o of this._def.checks)o.kind==="int"?Me.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),ae(r,{code:J.invalid_type,expected:"integer",received:"float",message:o.message}),s.dirty()):o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(r=this._getOrReturnCtx(e,r),ae(r,{code:J.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),s.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(r=this._getOrReturnCtx(e,r),ae(r,{code:J.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),s.dirty()):o.kind==="multipleOf"?XE(e.data,o.value)!==0&&(r=this._getOrReturnCtx(e,r),ae(r,{code:J.not_multiple_of,multipleOf:o.value,message:o.message}),s.dirty()):o.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),ae(r,{code:J.not_finite,message:o.message}),s.dirty()):Me.assertNever(o);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,ce.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ce.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ce.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ce.toString(n))}setLimit(e,n,r,s){return new qs({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:ce.toString(s)}]})}_addCheck(e){return new qs({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ce.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ce.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ce.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ce.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ce.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ce.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:ce.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ce.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ce.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Me.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}qs.create=i=>new qs({checks:[],typeName:K.ZodNumber,coerce:(i==null?void 0:i.coerce)||!1,...Te(i)});class Bs extends ke{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==le.bigint)return this._getInvalidInput(e);let r;const s=new Wt;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(r=this._getOrReturnCtx(e,r),ae(r,{code:J.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),s.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(r=this._getOrReturnCtx(e,r),ae(r,{code:J.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),s.dirty()):o.kind==="multipleOf"?e.data%o.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),ae(r,{code:J.not_multiple_of,multipleOf:o.value,message:o.message}),s.dirty()):Me.assertNever(o);return{status:s.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return ae(n,{code:J.invalid_type,expected:le.bigint,received:n.parsedType}),ye}gte(e,n){return this.setLimit("min",e,!0,ce.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ce.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ce.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ce.toString(n))}setLimit(e,n,r,s){return new Bs({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:ce.toString(s)}]})}_addCheck(e){return new Bs({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ce.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ce.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ce.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ce.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ce.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Bs.create=i=>new Bs({checks:[],typeName:K.ZodBigInt,coerce:(i==null?void 0:i.coerce)??!1,...Te(i)});class sb extends ke{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==le.boolean){const r=this._getOrReturnCtx(e);return ae(r,{code:J.invalid_type,expected:le.boolean,received:r.parsedType}),ye}return hn(e.data)}}sb.create=i=>new sb({typeName:K.ZodBoolean,coerce:(i==null?void 0:i.coerce)||!1,...Te(i)});class Mo extends ke{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==le.date){const o=this._getOrReturnCtx(e);return ae(o,{code:J.invalid_type,expected:le.date,received:o.parsedType}),ye}if(Number.isNaN(e.data.getTime())){const o=this._getOrReturnCtx(e);return ae(o,{code:J.invalid_date}),ye}const r=new Wt;let s;for(const o of this._def.checks)o.kind==="min"?e.data.getTime()<o.value&&(s=this._getOrReturnCtx(e,s),ae(s,{code:J.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),r.dirty()):o.kind==="max"?e.data.getTime()>o.value&&(s=this._getOrReturnCtx(e,s),ae(s,{code:J.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),r.dirty()):Me.assertNever(o);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Mo({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:ce.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:ce.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Mo.create=i=>new Mo({checks:[],coerce:(i==null?void 0:i.coerce)||!1,typeName:K.ZodDate,...Te(i)});class lb extends ke{_parse(e){if(this._getType(e)!==le.symbol){const r=this._getOrReturnCtx(e);return ae(r,{code:J.invalid_type,expected:le.symbol,received:r.parsedType}),ye}return hn(e.data)}}lb.create=i=>new lb({typeName:K.ZodSymbol,...Te(i)});class ob extends ke{_parse(e){if(this._getType(e)!==le.undefined){const r=this._getOrReturnCtx(e);return ae(r,{code:J.invalid_type,expected:le.undefined,received:r.parsedType}),ye}return hn(e.data)}}ob.create=i=>new ob({typeName:K.ZodUndefined,...Te(i)});class ub extends ke{_parse(e){if(this._getType(e)!==le.null){const r=this._getOrReturnCtx(e);return ae(r,{code:J.invalid_type,expected:le.null,received:r.parsedType}),ye}return hn(e.data)}}ub.create=i=>new ub({typeName:K.ZodNull,...Te(i)});class th extends ke{constructor(){super(...arguments),this._any=!0}_parse(e){return hn(e.data)}}th.create=i=>new th({typeName:K.ZodAny,...Te(i)});class cb extends ke{constructor(){super(...arguments),this._unknown=!0}_parse(e){return hn(e.data)}}cb.create=i=>new cb({typeName:K.ZodUnknown,...Te(i)});class Za extends ke{_parse(e){const n=this._getOrReturnCtx(e);return ae(n,{code:J.invalid_type,expected:le.never,received:n.parsedType}),ye}}Za.create=i=>new Za({typeName:K.ZodNever,...Te(i)});class db extends ke{_parse(e){if(this._getType(e)!==le.undefined){const r=this._getOrReturnCtx(e);return ae(r,{code:J.invalid_type,expected:le.void,received:r.parsedType}),ye}return hn(e.data)}}db.create=i=>new db({typeName:K.ZodVoid,...Te(i)});class Pn extends ke{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==le.array)return ae(n,{code:J.invalid_type,expected:le.array,received:n.parsedType}),ye;if(s.exactLength!==null){const c=n.data.length>s.exactLength.value,d=n.data.length<s.exactLength.value;(c||d)&&(ae(n,{code:c?J.too_big:J.too_small,minimum:d?s.exactLength.value:void 0,maximum:c?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(ae(n,{code:J.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(ae(n,{code:J.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((c,d)=>s.type._parseAsync(new Va(n,c,n.path,d)))).then(c=>Wt.mergeArray(r,c));const o=[...n.data].map((c,d)=>s.type._parseSync(new Va(n,c,n.path,d)));return Wt.mergeArray(r,o)}get element(){return this._def.type}min(e,n){return new Pn({...this._def,minLength:{value:e,message:ce.toString(n)}})}max(e,n){return new Pn({...this._def,maxLength:{value:e,message:ce.toString(n)}})}length(e,n){return new Pn({...this._def,exactLength:{value:e,message:ce.toString(n)}})}nonempty(e){return this.min(1,e)}}Pn.create=(i,e)=>new Pn({type:i,minLength:null,maxLength:null,exactLength:null,typeName:K.ZodArray,...Te(e)});function li(i){if(i instanceof rt){const e={};for(const n in i.shape){const r=i.shape[n];e[n]=oa.create(li(r))}return new rt({...i._def,shape:()=>e})}else return i instanceof Pn?new Pn({...i._def,type:li(i.element)}):i instanceof oa?oa.create(li(i.unwrap())):i instanceof yi?yi.create(li(i.unwrap())):i instanceof gr?gr.create(i.items.map(e=>li(e))):i}class rt extends ke{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Me.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==le.object){const m=this._getOrReturnCtx(e);return ae(m,{code:J.invalid_type,expected:le.object,received:m.parsedType}),ye}const{status:r,ctx:s}=this._processInputParams(e),{shape:o,keys:c}=this._getCached(),d=[];if(!(this._def.catchall instanceof Za&&this._def.unknownKeys==="strip"))for(const m in s.data)c.includes(m)||d.push(m);const h=[];for(const m of c){const g=o[m],y=s.data[m];h.push({key:{status:"valid",value:m},value:g._parse(new Va(s,y,s.path,m)),alwaysSet:m in s.data})}if(this._def.catchall instanceof Za){const m=this._def.unknownKeys;if(m==="passthrough")for(const g of d)h.push({key:{status:"valid",value:g},value:{status:"valid",value:s.data[g]}});else if(m==="strict")d.length>0&&(ae(s,{code:J.unrecognized_keys,keys:d}),r.dirty());else if(m!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const m=this._def.catchall;for(const g of d){const y=s.data[g];h.push({key:{status:"valid",value:g},value:m._parse(new Va(s,y,s.path,g)),alwaysSet:g in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const m=[];for(const g of h){const y=await g.key,b=await g.value;m.push({key:y,value:b,alwaysSet:g.alwaysSet})}return m}).then(m=>Wt.mergeObjectSync(r,m)):Wt.mergeObjectSync(r,h)}get shape(){return this._def.shape()}strict(e){return ce.errToObj,new rt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var o,c;const s=((c=(o=this._def).errorMap)==null?void 0:c.call(o,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:ce.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new rt({...this._def,unknownKeys:"strip"})}passthrough(){return new rt({...this._def,unknownKeys:"passthrough"})}extend(e){return new rt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new rt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:K.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new rt({...this._def,catchall:e})}pick(e){const n={};for(const r of Me.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new rt({...this._def,shape:()=>n})}omit(e){const n={};for(const r of Me.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new rt({...this._def,shape:()=>n})}deepPartial(){return li(this)}partial(e){const n={};for(const r of Me.objectKeys(this.shape)){const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}return new rt({...this._def,shape:()=>n})}required(e){const n={};for(const r of Me.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let o=this.shape[r];for(;o instanceof oa;)o=o._def.innerType;n[r]=o}return new rt({...this._def,shape:()=>n})}keyof(){return L_(Me.objectKeys(this.shape))}}rt.create=(i,e)=>new rt({shape:()=>i,unknownKeys:"strip",catchall:Za.create(),typeName:K.ZodObject,...Te(e)});rt.strictCreate=(i,e)=>new rt({shape:()=>i,unknownKeys:"strict",catchall:Za.create(),typeName:K.ZodObject,...Te(e)});rt.lazycreate=(i,e)=>new rt({shape:i,unknownKeys:"strip",catchall:Za.create(),typeName:K.ZodObject,...Te(e)});class Lo extends ke{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(o){for(const d of o)if(d.result.status==="valid")return d.result;for(const d of o)if(d.result.status==="dirty")return n.common.issues.push(...d.ctx.common.issues),d.result;const c=o.map(d=>new da(d.ctx.common.issues));return ae(n,{code:J.invalid_union,unionErrors:c}),ye}if(n.common.async)return Promise.all(r.map(async o=>{const c={...n,common:{...n.common,issues:[]},parent:null};return{result:await o._parseAsync({data:n.data,path:n.path,parent:c}),ctx:c}})).then(s);{let o;const c=[];for(const h of r){const m={...n,common:{...n.common,issues:[]},parent:null},g=h._parseSync({data:n.data,path:n.path,parent:m});if(g.status==="valid")return g;g.status==="dirty"&&!o&&(o={result:g,ctx:m}),m.common.issues.length&&c.push(m.common.issues)}if(o)return n.common.issues.push(...o.ctx.common.issues),o.result;const d=c.map(h=>new da(h));return ae(n,{code:J.invalid_union,unionErrors:d}),ye}}get options(){return this._def.options}}Lo.create=(i,e)=>new Lo({options:i,typeName:K.ZodUnion,...Te(e)});function nh(i,e){const n=qa(i),r=qa(e);if(i===e)return{valid:!0,data:i};if(n===le.object&&r===le.object){const s=Me.objectKeys(e),o=Me.objectKeys(i).filter(d=>s.indexOf(d)!==-1),c={...i,...e};for(const d of o){const h=nh(i[d],e[d]);if(!h.valid)return{valid:!1};c[d]=h.data}return{valid:!0,data:c}}else if(n===le.array&&r===le.array){if(i.length!==e.length)return{valid:!1};const s=[];for(let o=0;o<i.length;o++){const c=i[o],d=e[o],h=nh(c,d);if(!h.valid)return{valid:!1};s.push(h.data)}return{valid:!0,data:s}}else return n===le.date&&r===le.date&&+i==+e?{valid:!0,data:i}:{valid:!1}}class $o extends ke{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(o,c)=>{if(ab(o)||ab(c))return ye;const d=nh(o.value,c.value);return d.valid?((rb(o)||rb(c))&&n.dirty(),{status:n.value,value:d.data}):(ae(r,{code:J.invalid_intersection_types}),ye)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([o,c])=>s(o,c)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}$o.create=(i,e,n)=>new $o({left:i,right:e,typeName:K.ZodIntersection,...Te(n)});class gr extends ke{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==le.array)return ae(r,{code:J.invalid_type,expected:le.array,received:r.parsedType}),ye;if(r.data.length<this._def.items.length)return ae(r,{code:J.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ye;!this._def.rest&&r.data.length>this._def.items.length&&(ae(r,{code:J.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const o=[...r.data].map((c,d)=>{const h=this._def.items[d]||this._def.rest;return h?h._parse(new Va(r,c,r.path,d)):null}).filter(c=>!!c);return r.common.async?Promise.all(o).then(c=>Wt.mergeArray(n,c)):Wt.mergeArray(n,o)}get items(){return this._def.items}rest(e){return new gr({...this._def,rest:e})}}gr.create=(i,e)=>{if(!Array.isArray(i))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new gr({items:i,typeName:K.ZodTuple,rest:null,...Te(e)})};class fb extends ke{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==le.map)return ae(r,{code:J.invalid_type,expected:le.map,received:r.parsedType}),ye;const s=this._def.keyType,o=this._def.valueType,c=[...r.data.entries()].map(([d,h],m)=>({key:s._parse(new Va(r,d,r.path,[m,"key"])),value:o._parse(new Va(r,h,r.path,[m,"value"]))}));if(r.common.async){const d=new Map;return Promise.resolve().then(async()=>{for(const h of c){const m=await h.key,g=await h.value;if(m.status==="aborted"||g.status==="aborted")return ye;(m.status==="dirty"||g.status==="dirty")&&n.dirty(),d.set(m.value,g.value)}return{status:n.value,value:d}})}else{const d=new Map;for(const h of c){const m=h.key,g=h.value;if(m.status==="aborted"||g.status==="aborted")return ye;(m.status==="dirty"||g.status==="dirty")&&n.dirty(),d.set(m.value,g.value)}return{status:n.value,value:d}}}}fb.create=(i,e,n)=>new fb({valueType:e,keyType:i,typeName:K.ZodMap,...Te(n)});class Hs extends ke{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==le.set)return ae(r,{code:J.invalid_type,expected:le.set,received:r.parsedType}),ye;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(ae(r,{code:J.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(ae(r,{code:J.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const o=this._def.valueType;function c(h){const m=new Set;for(const g of h){if(g.status==="aborted")return ye;g.status==="dirty"&&n.dirty(),m.add(g.value)}return{status:n.value,value:m}}const d=[...r.data.values()].map((h,m)=>o._parse(new Va(r,h,r.path,m)));return r.common.async?Promise.all(d).then(h=>c(h)):c(d)}min(e,n){return new Hs({...this._def,minSize:{value:e,message:ce.toString(n)}})}max(e,n){return new Hs({...this._def,maxSize:{value:e,message:ce.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Hs.create=(i,e)=>new Hs({valueType:i,minSize:null,maxSize:null,typeName:K.ZodSet,...Te(e)});class hb extends ke{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}hb.create=(i,e)=>new hb({getter:i,typeName:K.ZodLazy,...Te(e)});class mb extends ke{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return ae(n,{received:n.data,code:J.invalid_literal,expected:this._def.value}),ye}return{status:"valid",value:e.data}}get value(){return this._def.value}}mb.create=(i,e)=>new mb({value:i,typeName:K.ZodLiteral,...Te(e)});function L_(i,e){return new pi({values:i,typeName:K.ZodEnum,...Te(e)})}class pi extends ke{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return ae(n,{expected:Me.joinValues(r),received:n.parsedType,code:J.invalid_type}),ye}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return ae(n,{received:n.data,code:J.invalid_enum_value,options:r}),ye}return hn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return pi.create(e,{...this._def,...n})}exclude(e,n=this._def){return pi.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}pi.create=L_;class pb extends ke{_parse(e){const n=Me.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==le.string&&r.parsedType!==le.number){const s=Me.objectValues(n);return ae(r,{expected:Me.joinValues(s),received:r.parsedType,code:J.invalid_type}),ye}if(this._cache||(this._cache=new Set(Me.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const s=Me.objectValues(n);return ae(r,{received:r.data,code:J.invalid_enum_value,options:s}),ye}return hn(e.data)}get enum(){return this._def.values}}pb.create=(i,e)=>new pb({values:i,typeName:K.ZodNativeEnum,...Te(e)});class Do extends ke{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==le.promise&&n.common.async===!1)return ae(n,{code:J.invalid_type,expected:le.promise,received:n.parsedType}),ye;const r=n.parsedType===le.promise?n.data:Promise.resolve(n.data);return hn(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Do.create=(i,e)=>new Do({type:i,typeName:K.ZodPromise,...Te(e)});class gi extends ke{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===K.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,o={addIssue:c=>{ae(r,c),c.fatal?n.abort():n.dirty()},get path(){return r.path}};if(o.addIssue=o.addIssue.bind(o),s.type==="preprocess"){const c=s.transform(r.data,o);if(r.common.async)return Promise.resolve(c).then(async d=>{if(n.value==="aborted")return ye;const h=await this._def.schema._parseAsync({data:d,path:r.path,parent:r});return h.status==="aborted"?ye:h.status==="dirty"||n.value==="dirty"?Ms(h.value):h});{if(n.value==="aborted")return ye;const d=this._def.schema._parseSync({data:c,path:r.path,parent:r});return d.status==="aborted"?ye:d.status==="dirty"||n.value==="dirty"?Ms(d.value):d}}if(s.type==="refinement"){const c=d=>{const h=s.refinement(d,o);if(r.common.async)return Promise.resolve(h);if(h instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return d};if(r.common.async===!1){const d=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return d.status==="aborted"?ye:(d.status==="dirty"&&n.dirty(),c(d.value),{status:n.value,value:d.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(d=>d.status==="aborted"?ye:(d.status==="dirty"&&n.dirty(),c(d.value).then(()=>({status:n.value,value:d.value}))))}if(s.type==="transform")if(r.common.async===!1){const c=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!mi(c))return ye;const d=s.transform(c.value,o);if(d instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:d}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(c=>mi(c)?Promise.resolve(s.transform(c.value,o)).then(d=>({status:n.value,value:d})):ye);Me.assertNever(s)}}gi.create=(i,e,n)=>new gi({schema:i,typeName:K.ZodEffects,effect:e,...Te(n)});gi.createWithPreprocess=(i,e,n)=>new gi({schema:e,effect:{type:"preprocess",transform:i},typeName:K.ZodEffects,...Te(n)});class oa extends ke{_parse(e){return this._getType(e)===le.undefined?hn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}oa.create=(i,e)=>new oa({innerType:i,typeName:K.ZodOptional,...Te(e)});class yi extends ke{_parse(e){return this._getType(e)===le.null?hn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}yi.create=(i,e)=>new yi({innerType:i,typeName:K.ZodNullable,...Te(e)});class ah extends ke{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===le.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}ah.create=(i,e)=>new ah({innerType:i,typeName:K.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Te(e)});class rh extends ke{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Co(s)?s.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new da(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new da(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}rh.create=(i,e)=>new rh({innerType:i,typeName:K.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Te(e)});class gb extends ke{_parse(e){if(this._getType(e)!==le.nan){const r=this._getOrReturnCtx(e);return ae(r,{code:J.invalid_type,expected:le.nan,received:r.parsedType}),ye}return{status:"valid",value:e.data}}}gb.create=i=>new gb({typeName:K.ZodNaN,...Te(i)});class QE extends ke{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Oh extends ke{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?ye:o.status==="dirty"?(n.dirty(),Ms(o.value)):this._def.out._parseAsync({data:o.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?ye:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new Oh({in:e,out:n,typeName:K.ZodPipeline})}}class ih extends ke{_parse(e){const n=this._def.innerType._parse(e),r=s=>(mi(s)&&(s.value=Object.freeze(s.value)),s);return Co(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}ih.create=(i,e)=>new ih({innerType:i,typeName:K.ZodReadonly,...Te(e)});var K;(function(i){i.ZodString="ZodString",i.ZodNumber="ZodNumber",i.ZodNaN="ZodNaN",i.ZodBigInt="ZodBigInt",i.ZodBoolean="ZodBoolean",i.ZodDate="ZodDate",i.ZodSymbol="ZodSymbol",i.ZodUndefined="ZodUndefined",i.ZodNull="ZodNull",i.ZodAny="ZodAny",i.ZodUnknown="ZodUnknown",i.ZodNever="ZodNever",i.ZodVoid="ZodVoid",i.ZodArray="ZodArray",i.ZodObject="ZodObject",i.ZodUnion="ZodUnion",i.ZodDiscriminatedUnion="ZodDiscriminatedUnion",i.ZodIntersection="ZodIntersection",i.ZodTuple="ZodTuple",i.ZodRecord="ZodRecord",i.ZodMap="ZodMap",i.ZodSet="ZodSet",i.ZodFunction="ZodFunction",i.ZodLazy="ZodLazy",i.ZodLiteral="ZodLiteral",i.ZodEnum="ZodEnum",i.ZodEffects="ZodEffects",i.ZodNativeEnum="ZodNativeEnum",i.ZodOptional="ZodOptional",i.ZodNullable="ZodNullable",i.ZodDefault="ZodDefault",i.ZodCatch="ZodCatch",i.ZodPromise="ZodPromise",i.ZodBranded="ZodBranded",i.ZodPipeline="ZodPipeline",i.ZodReadonly="ZodReadonly"})(K||(K={}));const $_=sa.create,yb=th.create;Za.create;Pn.create;const D_=rt.create;Lo.create;$o.create;gr.create;pi.create;Do.create;oa.create;yi.create;function JE(){return{}}function KE(i,e){var r,s,o;const n={type:"array"};return(r=i.type)!=null&&r._def&&((o=(s=i.type)==null?void 0:s._def)==null?void 0:o.typeName)!==K.ZodAny&&(n.items=Ie(i.type._def,{...e,currentPath:[...e.currentPath,"items"]})),i.minLength&&ze(n,"minItems",i.minLength.value,i.minLength.message,e),i.maxLength&&ze(n,"maxItems",i.maxLength.value,i.maxLength.message,e),i.exactLength&&(ze(n,"minItems",i.exactLength.value,i.exactLength.message,e),ze(n,"maxItems",i.exactLength.value,i.exactLength.message,e)),n}function WE(i,e){const n={type:"integer",format:"int64"};if(!i.checks)return n;for(const r of i.checks)switch(r.kind){case"min":e.target==="jsonSchema7"?r.inclusive?ze(n,"minimum",r.value,r.message,e):ze(n,"exclusiveMinimum",r.value,r.message,e):(r.inclusive||(n.exclusiveMinimum=!0),ze(n,"minimum",r.value,r.message,e));break;case"max":e.target==="jsonSchema7"?r.inclusive?ze(n,"maximum",r.value,r.message,e):ze(n,"exclusiveMaximum",r.value,r.message,e):(r.inclusive||(n.exclusiveMaximum=!0),ze(n,"maximum",r.value,r.message,e));break;case"multipleOf":ze(n,"multipleOf",r.value,r.message,e);break}return n}function eO(){return{type:"boolean"}}function I_(i,e){return Ie(i.type._def,e)}const tO=(i,e)=>Ie(i.innerType._def,e);function P_(i,e,n){const r=n??e.dateStrategy;if(Array.isArray(r))return{anyOf:r.map((s,o)=>P_(i,e,s))};switch(r){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return nO(i,e)}}const nO=(i,e)=>{const n={type:"integer",format:"unix-time"};if(e.target==="openApi3")return n;for(const r of i.checks)switch(r.kind){case"min":ze(n,"minimum",r.value,r.message,e);break;case"max":ze(n,"maximum",r.value,r.message,e);break}return n};function aO(i,e){return{...Ie(i.innerType._def,e),default:i.defaultValue()}}function rO(i,e){return e.effectStrategy==="input"?Ie(i.schema._def,e):{}}function iO(i){return{type:"string",enum:Array.from(i.values)}}const sO=i=>"type"in i&&i.type==="string"?!1:"allOf"in i;function lO(i,e){const n=[Ie(i.left._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),Ie(i.right._def,{...e,currentPath:[...e.currentPath,"allOf","1"]})].filter(o=>!!o);let r=e.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0;const s=[];return n.forEach(o=>{if(sO(o))s.push(...o.allOf),o.unevaluatedProperties===void 0&&(r=void 0);else{let c=o;if("additionalProperties"in o&&o.additionalProperties===!1){const{additionalProperties:d,...h}=o;c=h}else r=void 0;s.push(c)}}),s.length?{allOf:s,...r}:void 0}function oO(i,e){const n=typeof i.value;return n!=="bigint"&&n!=="number"&&n!=="boolean"&&n!=="string"?{type:Array.isArray(i.value)?"array":"object"}:e.target==="openApi3"?{type:n==="bigint"?"integer":n,enum:[i.value]}:{type:n==="bigint"?"integer":n,const:i.value}}let Ld;const yn={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(Ld===void 0&&(Ld=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),Ld),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function U_(i,e){const n={type:"string"};if(i.checks)for(const r of i.checks)switch(r.kind){case"min":ze(n,"minLength",typeof n.minLength=="number"?Math.max(n.minLength,r.value):r.value,r.message,e);break;case"max":ze(n,"maxLength",typeof n.maxLength=="number"?Math.min(n.maxLength,r.value):r.value,r.message,e);break;case"email":switch(e.emailStrategy){case"format:email":bn(n,"email",r.message,e);break;case"format:idn-email":bn(n,"idn-email",r.message,e);break;case"pattern:zod":jt(n,yn.email,r.message,e);break}break;case"url":bn(n,"uri",r.message,e);break;case"uuid":bn(n,"uuid",r.message,e);break;case"regex":jt(n,r.regex,r.message,e);break;case"cuid":jt(n,yn.cuid,r.message,e);break;case"cuid2":jt(n,yn.cuid2,r.message,e);break;case"startsWith":jt(n,RegExp(`^${$d(r.value,e)}`),r.message,e);break;case"endsWith":jt(n,RegExp(`${$d(r.value,e)}$`),r.message,e);break;case"datetime":bn(n,"date-time",r.message,e);break;case"date":bn(n,"date",r.message,e);break;case"time":bn(n,"time",r.message,e);break;case"duration":bn(n,"duration",r.message,e);break;case"length":ze(n,"minLength",typeof n.minLength=="number"?Math.max(n.minLength,r.value):r.value,r.message,e),ze(n,"maxLength",typeof n.maxLength=="number"?Math.min(n.maxLength,r.value):r.value,r.message,e);break;case"includes":{jt(n,RegExp($d(r.value,e)),r.message,e);break}case"ip":{r.version!=="v6"&&bn(n,"ipv4",r.message,e),r.version!=="v4"&&bn(n,"ipv6",r.message,e);break}case"base64url":jt(n,yn.base64url,r.message,e);break;case"jwt":jt(n,yn.jwt,r.message,e);break;case"cidr":{r.version!=="v6"&&jt(n,yn.ipv4Cidr,r.message,e),r.version!=="v4"&&jt(n,yn.ipv6Cidr,r.message,e);break}case"emoji":jt(n,yn.emoji(),r.message,e);break;case"ulid":{jt(n,yn.ulid,r.message,e);break}case"base64":{switch(e.base64Strategy){case"format:binary":{bn(n,"binary",r.message,e);break}case"contentEncoding:base64":{ze(n,"contentEncoding","base64",r.message,e);break}case"pattern:zod":{jt(n,yn.base64,r.message,e);break}}break}case"nanoid":jt(n,yn.nanoid,r.message,e)}return n}function $d(i,e){return e.patternStrategy==="escape"?cO(i):i}const uO=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function cO(i){let e="";for(let n=0;n<i.length;n++)uO.has(i[n])||(e+="\\"),e+=i[n];return e}function bn(i,e,n,r){var s;i.format||(s=i.anyOf)!=null&&s.some(o=>o.format)?(i.anyOf||(i.anyOf=[]),i.format&&(i.anyOf.push({format:i.format,...i.errorMessage&&r.errorMessages&&{errorMessage:{format:i.errorMessage.format}}}),delete i.format,i.errorMessage&&(delete i.errorMessage.format,Object.keys(i.errorMessage).length===0&&delete i.errorMessage)),i.anyOf.push({format:e,...n&&r.errorMessages&&{errorMessage:{format:n}}})):ze(i,"format",e,n,r)}function jt(i,e,n,r){var s;i.pattern||(s=i.allOf)!=null&&s.some(o=>o.pattern)?(i.allOf||(i.allOf=[]),i.pattern&&(i.allOf.push({pattern:i.pattern,...i.errorMessage&&r.errorMessages&&{errorMessage:{pattern:i.errorMessage.pattern}}}),delete i.pattern,i.errorMessage&&(delete i.errorMessage.pattern,Object.keys(i.errorMessage).length===0&&delete i.errorMessage)),i.allOf.push({pattern:bb(e,r),...n&&r.errorMessages&&{errorMessage:{pattern:n}}})):ze(i,"pattern",bb(e,r),n,r)}function bb(i,e){var h;if(!e.applyRegexFlags||!i.flags)return i.source;const n={i:i.flags.includes("i"),m:i.flags.includes("m"),s:i.flags.includes("s")},r=n.i?i.source.toLowerCase():i.source;let s="",o=!1,c=!1,d=!1;for(let m=0;m<r.length;m++){if(o){s+=r[m],o=!1;continue}if(n.i){if(c){if(r[m].match(/[a-z]/)){d?(s+=r[m],s+=`${r[m-2]}-${r[m]}`.toUpperCase(),d=!1):r[m+1]==="-"&&((h=r[m+2])!=null&&h.match(/[a-z]/))?(s+=r[m],d=!0):s+=`${r[m]}${r[m].toUpperCase()}`;continue}}else if(r[m].match(/[a-z]/)){s+=`[${r[m]}${r[m].toUpperCase()}]`;continue}}if(n.m){if(r[m]==="^"){s+=`(^|(?<=[\r
]))`;continue}else if(r[m]==="$"){s+=`($|(?=[\r
]))`;continue}}if(n.s&&r[m]==="."){s+=c?`${r[m]}\r
`:`[${r[m]}\r
]`;continue}s+=r[m],r[m]==="\\"?o=!0:c&&r[m]==="]"?c=!1:!c&&r[m]==="["&&(c=!0)}try{new RegExp(s)}catch{return console.warn(`Could not convert regex pattern at ${e.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),i.source}return s}function z_(i,e){var r,s,o,c,d,h;if(e.target==="openAi"&&console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),e.target==="openApi3"&&((r=i.keyType)==null?void 0:r._def.typeName)===K.ZodEnum)return{type:"object",required:i.keyType._def.values,properties:i.keyType._def.values.reduce((m,g)=>({...m,[g]:Ie(i.valueType._def,{...e,currentPath:[...e.currentPath,"properties",g]})??{}}),{}),additionalProperties:e.rejectedAdditionalProperties};const n={type:"object",additionalProperties:Ie(i.valueType._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]})??e.allowedAdditionalProperties};if(e.target==="openApi3")return n;if(((s=i.keyType)==null?void 0:s._def.typeName)===K.ZodString&&((o=i.keyType._def.checks)!=null&&o.length)){const{type:m,...g}=U_(i.keyType._def,e);return{...n,propertyNames:g}}else{if(((c=i.keyType)==null?void 0:c._def.typeName)===K.ZodEnum)return{...n,propertyNames:{enum:i.keyType._def.values}};if(((d=i.keyType)==null?void 0:d._def.typeName)===K.ZodBranded&&i.keyType._def.type._def.typeName===K.ZodString&&((h=i.keyType._def.type._def.checks)!=null&&h.length)){const{type:m,...g}=I_(i.keyType._def,e);return{...n,propertyNames:g}}}return n}function dO(i,e){if(e.mapStrategy==="record")return z_(i,e);const n=Ie(i.keyType._def,{...e,currentPath:[...e.currentPath,"items","items","0"]})||{},r=Ie(i.valueType._def,{...e,currentPath:[...e.currentPath,"items","items","1"]})||{};return{type:"array",maxItems:125,items:{type:"array",items:[n,r],minItems:2,maxItems:2}}}function fO(i){const e=i.values,r=Object.keys(i.values).filter(o=>typeof e[e[o]]!="number").map(o=>e[o]),s=Array.from(new Set(r.map(o=>typeof o)));return{type:s.length===1?s[0]==="string"?"string":"number":["string","number"],enum:r}}function hO(){return{not:{}}}function mO(i){return i.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}const Io={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function pO(i,e){if(e.target==="openApi3")return vb(i,e);const n=i.options instanceof Map?Array.from(i.options.values()):i.options;if(n.every(r=>r._def.typeName in Io&&(!r._def.checks||!r._def.checks.length))){const r=n.reduce((s,o)=>{const c=Io[o._def.typeName];return c&&!s.includes(c)?[...s,c]:s},[]);return{type:r.length>1?r:r[0]}}else if(n.every(r=>r._def.typeName==="ZodLiteral"&&!r.description)){const r=n.reduce((s,o)=>{const c=typeof o._def.value;switch(c){case"string":case"number":case"boolean":return[...s,c];case"bigint":return[...s,"integer"];case"object":if(o._def.value===null)return[...s,"null"];case"symbol":case"undefined":case"function":default:return s}},[]);if(r.length===n.length){const s=r.filter((o,c,d)=>d.indexOf(o)===c);return{type:s.length>1?s:s[0],enum:n.reduce((o,c)=>o.includes(c._def.value)?o:[...o,c._def.value],[])}}}else if(n.every(r=>r._def.typeName==="ZodEnum"))return{type:"string",enum:n.reduce((r,s)=>[...r,...s._def.values.filter(o=>!r.includes(o))],[])};return vb(i,e)}const vb=(i,e)=>{const n=(i.options instanceof Map?Array.from(i.options.values()):i.options).map((r,s)=>Ie(r._def,{...e,currentPath:[...e.currentPath,"anyOf",`${s}`]})).filter(r=>!!r&&(!e.strictUnions||typeof r=="object"&&Object.keys(r).length>0));return n.length?{anyOf:n}:void 0};function gO(i,e){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(i.innerType._def.typeName)&&(!i.innerType._def.checks||!i.innerType._def.checks.length))return e.target==="openApi3"?{type:Io[i.innerType._def.typeName],nullable:!0}:{type:[Io[i.innerType._def.typeName],"null"]};if(e.target==="openApi3"){const r=Ie(i.innerType._def,{...e,currentPath:[...e.currentPath]});return r&&"$ref"in r?{allOf:[r],nullable:!0}:r&&{...r,nullable:!0}}const n=Ie(i.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","0"]});return n&&{anyOf:[n,{type:"null"}]}}function yO(i,e){const n={type:"number"};if(!i.checks)return n;for(const r of i.checks)switch(r.kind){case"int":n.type="integer",k_(n,"type",r.message,e);break;case"min":e.target==="jsonSchema7"?r.inclusive?ze(n,"minimum",r.value,r.message,e):ze(n,"exclusiveMinimum",r.value,r.message,e):(r.inclusive||(n.exclusiveMinimum=!0),ze(n,"minimum",r.value,r.message,e));break;case"max":e.target==="jsonSchema7"?r.inclusive?ze(n,"maximum",r.value,r.message,e):ze(n,"exclusiveMaximum",r.value,r.message,e):(r.inclusive||(n.exclusiveMaximum=!0),ze(n,"maximum",r.value,r.message,e));break;case"multipleOf":ze(n,"multipleOf",r.value,r.message,e);break}return n}function bO(i,e){const n=e.target==="openAi",r={type:"object",properties:{}},s=[],o=i.shape();for(const d in o){let h=o[d];if(h===void 0||h._def===void 0)continue;let m=_O(h);m&&n&&(h instanceof oa&&(h=h._def.innerType),h.isNullable()||(h=h.nullable()),m=!1);const g=Ie(h._def,{...e,currentPath:[...e.currentPath,"properties",d],propertyPath:[...e.currentPath,"properties",d]});g!==void 0&&(r.properties[d]=g,m||s.push(d))}s.length&&(r.required=s);const c=vO(i,e);return c!==void 0&&(r.additionalProperties=c),r}function vO(i,e){if(i.catchall._def.typeName!=="ZodNever")return Ie(i.catchall._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]});switch(i.unknownKeys){case"passthrough":return e.allowedAdditionalProperties;case"strict":return e.rejectedAdditionalProperties;case"strip":return e.removeAdditionalStrategy==="strict"?e.allowedAdditionalProperties:e.rejectedAdditionalProperties}}function _O(i){try{return i.isOptional()}catch{return!0}}const wO=(i,e)=>{var r;if(e.currentPath.toString()===((r=e.propertyPath)==null?void 0:r.toString()))return Ie(i.innerType._def,e);const n=Ie(i.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","1"]});return n?{anyOf:[{not:{}},n]}:{}},xO=(i,e)=>{if(e.pipeStrategy==="input")return Ie(i.in._def,e);if(e.pipeStrategy==="output")return Ie(i.out._def,e);const n=Ie(i.in._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),r=Ie(i.out._def,{...e,currentPath:[...e.currentPath,"allOf",n?"1":"0"]});return{allOf:[n,r].filter(s=>s!==void 0)}};function SO(i,e){return Ie(i.type._def,e)}function EO(i,e){const r={type:"array",uniqueItems:!0,items:Ie(i.valueType._def,{...e,currentPath:[...e.currentPath,"items"]})};return i.minSize&&ze(r,"minItems",i.minSize.value,i.minSize.message,e),i.maxSize&&ze(r,"maxItems",i.maxSize.value,i.maxSize.message,e),r}function OO(i,e){return i.rest?{type:"array",minItems:i.items.length,items:i.items.map((n,r)=>Ie(n._def,{...e,currentPath:[...e.currentPath,"items",`${r}`]})).reduce((n,r)=>r===void 0?n:[...n,r],[]),additionalItems:Ie(i.rest._def,{...e,currentPath:[...e.currentPath,"additionalItems"]})}:{type:"array",minItems:i.items.length,maxItems:i.items.length,items:i.items.map((n,r)=>Ie(n._def,{...e,currentPath:[...e.currentPath,"items",`${r}`]})).reduce((n,r)=>r===void 0?n:[...n,r],[])}}function TO(){return{not:{}}}function AO(){return{}}const RO=(i,e)=>Ie(i.innerType._def,e),NO=(i,e,n)=>{switch(e){case K.ZodString:return U_(i,n);case K.ZodNumber:return yO(i,n);case K.ZodObject:return bO(i,n);case K.ZodBigInt:return WE(i,n);case K.ZodBoolean:return eO();case K.ZodDate:return P_(i,n);case K.ZodUndefined:return TO();case K.ZodNull:return mO(n);case K.ZodArray:return KE(i,n);case K.ZodUnion:case K.ZodDiscriminatedUnion:return pO(i,n);case K.ZodIntersection:return lO(i,n);case K.ZodTuple:return OO(i,n);case K.ZodRecord:return z_(i,n);case K.ZodLiteral:return oO(i,n);case K.ZodEnum:return iO(i);case K.ZodNativeEnum:return fO(i);case K.ZodNullable:return gO(i,n);case K.ZodOptional:return wO(i,n);case K.ZodMap:return dO(i,n);case K.ZodSet:return EO(i,n);case K.ZodLazy:return()=>i.getter()._def;case K.ZodPromise:return SO(i,n);case K.ZodNaN:case K.ZodNever:return hO();case K.ZodEffects:return rO(i,n);case K.ZodAny:return JE();case K.ZodUnknown:return AO();case K.ZodDefault:return aO(i,n);case K.ZodBranded:return I_(i,n);case K.ZodReadonly:return RO(i,n);case K.ZodCatch:return tO(i,n);case K.ZodPipeline:return xO(i,n);case K.ZodFunction:case K.ZodVoid:case K.ZodSymbol:return;default:return(r=>{})()}};function Ie(i,e,n=!1){var d;const r=e.seen.get(i);if(e.override){const h=(d=e.override)==null?void 0:d.call(e,i,e,r,n);if(h!==wE)return h}if(r&&!n){const h=jO(r,e);if(h!==void 0)return h}const s={def:i,path:e.currentPath,jsonSchema:void 0};e.seen.set(i,s);const o=NO(i,i.typeName,e),c=typeof o=="function"?Ie(o(),e):o;if(c&&CO(i,e,c),e.postProcess){const h=e.postProcess(c,i,e);return s.jsonSchema=c,h}return s.jsonSchema=c,c}const jO=(i,e)=>{switch(e.$refStrategy){case"root":return{$ref:i.path.join("/")};case"relative":return{$ref:kO(e.currentPath,i.path)};case"none":case"seen":return i.path.length<e.currentPath.length&&i.path.every((n,r)=>e.currentPath[r]===n)?(console.warn(`Recursive reference detected at ${e.currentPath.join("/")}! Defaulting to any`),{}):e.$refStrategy==="seen"?{}:void 0}},kO=(i,e)=>{let n=0;for(;n<i.length&&n<e.length&&i[n]===e[n];n++);return[(i.length-n).toString(),...e.slice(n)].join("/")},CO=(i,e,n)=>(i.description&&(n.description=i.description,e.markdownDescription&&(n.markdownDescription=i.description)),n),Js=(i,e)=>{const n=EE(e),r=void 0,s=e==null?void 0:e.name,o=Ie(i._def,n,!1)??{},c=s===void 0?r?{...o,[n.definitionPath]:r}:o:{$ref:[...n.$refStrategy==="relative"?[]:n.basePath,n.definitionPath,s].join("/"),[n.definitionPath]:{...r,[s]:o}};return n.target==="jsonSchema7"?c.$schema="http://json-schema.org/draft-07/schema#":(n.target==="jsonSchema2019-09"||n.target==="openAi")&&(c.$schema="https://json-schema.org/draft/2019-09/schema#"),n.target==="openAi"&&("anyOf"in c||"oneOf"in c||"allOf"in c||"type"in c&&Array.isArray(c.type))&&console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property."),c};function _b(i,e=Th){i=i.trim();const n=i.indexOf("```");if(n===-1)return e(i);let r=i.substring(n+3);r.startsWith(`json
`)?r=r.substring(5):r.startsWith("json")?r=r.substring(4):r.startsWith(`
`)&&(r=r.substring(1));const s=r.indexOf("```");let o=r;return s!==-1&&(o=r.substring(0,s)),e(o.trim())}function Th(i){if(typeof i>"u")return null;try{return JSON.parse(i)}catch{}let e="";const n=[];let r=!1,s=!1;for(let o of i){if(r)o==='"'&&!s?r=!1:o===`
`&&!s?o="\\n":o==="\\"?s=!s:s=!1;else if(o==='"')r=!0,s=!1;else if(o==="{")n.push("}");else if(o==="[")n.push("]");else if(o==="}"||o==="]")if(n&&n[n.length-1]===o)n.pop();else return null;e+=o}r&&(e+='"');for(let o=n.length-1;o>=0;o-=1)e+=n[o];try{return JSON.parse(e)}catch{return null}}var Dd,wb;function MO(){return wb||(wb=1,Dd=function(i,e){if(typeof i!="string")throw new TypeError("Expected a string");return e=typeof e>"u"?"_":e,i.replace(/([a-z\d])([A-Z])/g,"$1"+e+"$2").replace(/([A-Z]+)([A-Z][a-z\d]+)/g,"$1"+e+"$2").toLowerCase()}),Dd}var LO=MO();const $O=Qs(LO);var _o={exports:{}},xb;function DO(){if(xb)return _o.exports;xb=1;const i=/[\p{Lu}]/u,e=/[\p{Ll}]/u,n=/^[\p{Lu}](?![\p{Lu}])/gu,r=/([\p{Alpha}\p{N}_]|$)/u,s=/[_.\- ]+/,o=new RegExp("^"+s.source),c=new RegExp(s.source+r.source,"gu"),d=new RegExp("\\d+"+r.source,"gu"),h=(b,_,x)=>{let E=!1,A=!1,N=!1;for(let D=0;D<b.length;D++){const k=b[D];E&&i.test(k)?(b=b.slice(0,D)+"-"+b.slice(D),E=!1,N=A,A=!0,D++):A&&N&&e.test(k)?(b=b.slice(0,D-1)+"-"+b.slice(D-1),N=A,A=!1,E=!0):(E=_(k)===k&&x(k)!==k,N=A,A=x(k)===k&&_(k)!==k)}return b},m=(b,_)=>(n.lastIndex=0,b.replace(n,x=>_(x))),g=(b,_)=>(c.lastIndex=0,d.lastIndex=0,b.replace(c,(x,E)=>_(E)).replace(d,x=>_(x))),y=(b,_)=>{if(!(typeof b=="string"||Array.isArray(b)))throw new TypeError("Expected the input to be `string | string[]`");if(_={pascalCase:!1,preserveConsecutiveUppercase:!1,..._},Array.isArray(b)?b=b.map(N=>N.trim()).filter(N=>N.length).join("-"):b=b.trim(),b.length===0)return"";const x=_.locale===!1?N=>N.toLowerCase():N=>N.toLocaleLowerCase(_.locale),E=_.locale===!1?N=>N.toUpperCase():N=>N.toLocaleUpperCase(_.locale);return b.length===1?_.pascalCase?E(b):x(b):(b!==x(b)&&(b=h(b,x,E)),b=b.replace(o,""),_.preserveConsecutiveUppercase?b=m(b,x):b=x(b),_.pascalCase&&(b=E(b.charAt(0))+b.slice(1)),g(b,E))};return _o.exports=y,_o.exports.default=y,_o.exports}DO();function IO(i,e){return(e==null?void 0:e[i])||$O(i)}function PO(i,e,n){const r={};for(const s in i)Object.hasOwn(i,s)&&(r[e(s,n)]=i[s]);return r}function Sb(i){return Array.isArray(i)?[...i]:{...i}}function UO(i,e){const n=Sb(i);for(const[r,s]of Object.entries(e)){const[o,...c]=r.split(".").reverse();let d=n;for(const h of c.reverse()){if(d[h]===void 0)break;d[h]=Sb(d[h]),d=d[h]}d[o]!==void 0&&(d[o]={lc:1,type:"secret",id:[s]})}return n}function q_(i){const e=Object.getPrototypeOf(i);return typeof i.lc_name=="function"&&(typeof e.lc_name!="function"||i.lc_name()!==e.lc_name())?i.lc_name():i.name}class yr{static lc_name(){return this.name}get lc_id(){return[...this.lc_namespace,q_(this.constructor)]}get lc_secrets(){}get lc_attributes(){}get lc_aliases(){}get lc_serializable_keys(){}constructor(e,...n){Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.lc_serializable_keys!==void 0?this.lc_kwargs=Object.fromEntries(Object.entries(e||{}).filter(([r])=>{var s;return(s=this.lc_serializable_keys)==null?void 0:s.includes(r)})):this.lc_kwargs=e??{}}toJSON(){if(!this.lc_serializable)return this.toJSONNotImplemented();if(this.lc_kwargs instanceof yr||typeof this.lc_kwargs!="object"||Array.isArray(this.lc_kwargs))return this.toJSONNotImplemented();const e={},n={},r=Object.keys(this.lc_kwargs).reduce((s,o)=>(s[o]=o in this?this[o]:this.lc_kwargs[o],s),{});for(let s=Object.getPrototypeOf(this);s;s=Object.getPrototypeOf(s))Object.assign(e,Reflect.get(s,"lc_aliases",this)),Object.assign(n,Reflect.get(s,"lc_secrets",this)),Object.assign(r,Reflect.get(s,"lc_attributes",this));return Object.keys(n).forEach(s=>{let o=this,c=r;const[d,...h]=s.split(".").reverse();for(const m of h.reverse()){if(!(m in o)||o[m]===void 0)return;(!(m in c)||c[m]===void 0)&&(typeof o[m]=="object"&&o[m]!=null?c[m]={}:Array.isArray(o[m])&&(c[m]=[])),o=o[m],c=c[m]}d in o&&o[d]!==void 0&&(c[d]=c[d]||o[d])}),{lc:1,type:"constructor",id:this.lc_id,kwargs:PO(Object.keys(n).length?UO(r,n):r,IO,e)}}toJSONNotImplemented(){return{lc:1,type:"not_implemented",id:this.lc_id}}}function Gs(i){return typeof i=="object"&&i!==null&&"type"in i&&typeof i.type=="string"&&"source_type"in i&&(i.source_type==="url"||i.source_type==="base64"||i.source_type==="text"||i.source_type==="id")}function zO(i){return Gs(i)&&i.source_type==="url"&&"url"in i&&typeof i.url=="string"}function qO(i){return Gs(i)&&i.source_type==="base64"&&"data"in i&&typeof i.data=="string"}function BO(i){if(Gs(i)){if(i.source_type==="url")return{type:"image_url",image_url:{url:i.url}};if(i.source_type==="base64"){if(!i.mime_type)throw new Error("mime_type key is required for base64 data.");return{type:"image_url",image_url:{url:`data:${i.mime_type};base64,${i.data}`}}}}throw new Error("Unsupported source type. Only 'url' and 'base64' are supported.")}function Si(i,e){return typeof i=="string"?i===""?e:typeof e=="string"?i+e:Array.isArray(e)&&e.some(n=>Gs(n))?[{type:"text",source_type:"text",text:i},...e]:[{type:"text",text:i},...e]:Array.isArray(e)?Fo(i,e)??[...i,...e]:e===""?i:Array.isArray(i)&&i.some(n=>Gs(n))?[...i,{type:"file",source_type:"text",text:e}]:[...i,{type:"text",text:e}]}function HO(i,e){return i==="error"||e==="error"?"error":"success"}function GO(i,e){function n(r,s){if(typeof r!="object"||r===null||r===void 0)return r;if(s>=e)return Array.isArray(r)?"[Array]":"[Object]";if(Array.isArray(r))return r.map(c=>n(c,s+1));const o={};for(const c of Object.keys(r))o[c]=n(r[c],s+1);return o}return JSON.stringify(n(i,0),null,2)}class Ei extends yr{get lc_aliases(){return{additional_kwargs:"additional_kwargs",response_metadata:"response_metadata"}}get text(){return typeof this.content=="string"?this.content:Array.isArray(this.content)?this.content.map(e=>typeof e=="string"?e:e.type==="text"?e.text:"").join(""):""}getType(){return this._getType()}constructor(e,n){typeof e=="string"&&(e={content:e,additional_kwargs:n,response_metadata:{}}),e.additional_kwargs||(e.additional_kwargs={}),e.response_metadata||(e.response_metadata={}),super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","messages"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"content",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"additional_kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"response_metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=e.name,this.content=e.content,this.additional_kwargs=e.additional_kwargs,this.response_metadata=e.response_metadata,this.id=e.id}toDict(){return{type:this._getType(),data:this.toJSON().kwargs}}static lc_name(){return"BaseMessage"}get _printableFields(){return{id:this.id,content:this.content,name:this.name,additional_kwargs:this.additional_kwargs,response_metadata:this.response_metadata}}_updateId(e){this.id=e,this.lc_kwargs.id=e}get[Symbol.toStringTag](){return this.constructor.lc_name()}[Symbol.for("nodejs.util.inspect.custom")](e){if(e===null)return this;const n=GO(this._printableFields,Math.max(4,e));return`${this.constructor.lc_name()} ${n}`}}function Mt(i,e){const n={...i};for(const[r,s]of Object.entries(e))if(n[r]==null)n[r]=s;else{if(s==null)continue;if(typeof n[r]!=typeof s||Array.isArray(n[r])!==Array.isArray(s))throw new Error(`field[${r}] already exists in the message chunk, but with a different type.`);if(typeof n[r]=="string"){if(r==="type")continue;n[r]+=s}else if(typeof n[r]=="object"&&!Array.isArray(n[r]))n[r]=Mt(n[r],s);else if(Array.isArray(n[r]))n[r]=Fo(n[r],s);else{if(n[r]===s)continue;console.warn(`field[${r}] already exists in this message chunk and value has unsupported type.`)}}return n}function Fo(i,e){if(!(i===void 0&&e===void 0)){if(i===void 0||e===void 0)return i||e;{const n=[...i];for(const r of e)if(typeof r=="object"&&"index"in r&&typeof r.index=="number"){const s=n.findIndex(o=>o.index===r.index);s!==-1?n[s]=Mt(n[s],r):n.push(r)}else{if(typeof r=="object"&&"text"in r&&r.text==="")continue;n.push(r)}return n}}}function VO(i,e){if(!i&&!e)throw new Error("Cannot merge two undefined objects.");if(!i||!e)return i||e;if(typeof i!=typeof e)throw new Error(`Cannot merge objects of different types.
Left ${typeof i}
Right ${typeof e}`);if(typeof i=="string"&&typeof e=="string")return i+e;if(Array.isArray(i)&&Array.isArray(e))return Fo(i,e);if(typeof i=="object"&&typeof e=="object")return Mt(i,e);if(i===e)return i;throw new Error(`Can not merge objects of different types.
Left ${i}
Right ${e}`)}class Oi extends Ei{}function ZO(i){return typeof i.role=="string"}function Xo(i){return typeof(i==null?void 0:i._getType)=="function"}function YO(i){return Xo(i)&&typeof i.concat=="function"}class FO extends Ei{static lc_name(){return"ToolMessage"}get lc_aliases(){return{tool_call_id:"tool_call_id"}}constructor(e,n,r){typeof e=="string"&&(e={content:e,name:r,tool_call_id:n}),super(e),Object.defineProperty(this,"lc_direct_tool_output",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tool_call_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"artifact",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.tool_call_id=e.tool_call_id,this.artifact=e.artifact,this.status=e.status}_getType(){return"tool"}static isInstance(e){return e._getType()==="tool"}get _printableFields(){return{...super._printableFields,tool_call_id:this.tool_call_id,artifact:this.artifact}}}class Ah extends Oi{constructor(e){super(e),Object.defineProperty(this,"tool_call_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"artifact",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.tool_call_id=e.tool_call_id,this.artifact=e.artifact,this.status=e.status}static lc_name(){return"ToolMessageChunk"}_getType(){return"tool"}concat(e){return new Ah({content:Si(this.content,e.content),additional_kwargs:Mt(this.additional_kwargs,e.additional_kwargs),response_metadata:Mt(this.response_metadata,e.response_metadata),artifact:VO(this.artifact,e.artifact),tool_call_id:this.tool_call_id,id:this.id??e.id,status:HO(this.status,e.status)})}get _printableFields(){return{...super._printableFields,tool_call_id:this.tool_call_id,artifact:this.artifact}}}function XO(i){const e=[],n=[];for(const r of i)if(r.function){const s=r.function.name;try{const o=JSON.parse(r.function.arguments),c={name:s||"",args:o||{},id:r.id};e.push(c)}catch{n.push({name:s,args:r.function.arguments,id:r.id,error:"Malformed args."})}}else continue;return[e,n]}class sh extends Ei{get lc_aliases(){return{...super.lc_aliases,tool_calls:"tool_calls",invalid_tool_calls:"invalid_tool_calls"}}constructor(e,n){var s;let r;if(typeof e=="string")r={content:e,tool_calls:[],invalid_tool_calls:[],additional_kwargs:n??{}};else{r=e;const o=(s=r.additional_kwargs)==null?void 0:s.tool_calls,c=r.tool_calls;o!=null&&o.length>0&&(c===void 0||c.length===0)&&console.warn(["New LangChain packages are available that more efficiently handle",`tool calling.

Please upgrade your packages to versions that set`,"message tool calls. e.g., `yarn add @langchain/anthropic`,","yarn add @langchain/openai`, etc."].join(" "));try{if(o!=null&&c===void 0){const[d,h]=XO(o);r.tool_calls=d??[],r.invalid_tool_calls=h??[]}else r.tool_calls=r.tool_calls??[],r.invalid_tool_calls=r.invalid_tool_calls??[]}catch{r.tool_calls=[],r.invalid_tool_calls=[]}}super(r),Object.defineProperty(this,"tool_calls",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"invalid_tool_calls",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"usage_metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),typeof r!="string"&&(this.tool_calls=r.tool_calls??this.tool_calls,this.invalid_tool_calls=r.invalid_tool_calls??this.invalid_tool_calls),this.usage_metadata=r.usage_metadata}static lc_name(){return"AIMessage"}_getType(){return"ai"}get _printableFields(){return{...super._printableFields,tool_calls:this.tool_calls,invalid_tool_calls:this.invalid_tool_calls,usage_metadata:this.usage_metadata}}}function Rh(i){return i._getType()==="ai"}function Eb(i){return i._getType()==="ai"}class vr extends Oi{constructor(e){let n;if(typeof e=="string")n={content:e,tool_calls:[],invalid_tool_calls:[],tool_call_chunks:[]};else if(e.tool_call_chunks===void 0)n={...e,tool_calls:e.tool_calls??[],invalid_tool_calls:[],tool_call_chunks:[],usage_metadata:e.usage_metadata!==void 0?e.usage_metadata:void 0};else{const r=[],s=[];for(const o of e.tool_call_chunks){let c={};try{if(c=Th(o.args||"{}"),c===null||typeof c!="object"||Array.isArray(c))throw new Error("Malformed tool call chunk args.");r.push({name:o.name??"",args:c,id:o.id,type:"tool_call"})}catch{s.push({name:o.name,args:o.args,id:o.id,error:"Malformed args.",type:"invalid_tool_call"})}}n={...e,tool_calls:r,invalid_tool_calls:s,usage_metadata:e.usage_metadata!==void 0?e.usage_metadata:void 0}}super(n),Object.defineProperty(this,"tool_calls",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"invalid_tool_calls",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"tool_call_chunks",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"usage_metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.tool_call_chunks=n.tool_call_chunks??this.tool_call_chunks,this.tool_calls=n.tool_calls??this.tool_calls,this.invalid_tool_calls=n.invalid_tool_calls??this.invalid_tool_calls,this.usage_metadata=n.usage_metadata}get lc_aliases(){return{...super.lc_aliases,tool_calls:"tool_calls",invalid_tool_calls:"invalid_tool_calls",tool_call_chunks:"tool_call_chunks"}}static lc_name(){return"AIMessageChunk"}_getType(){return"ai"}get _printableFields(){return{...super._printableFields,tool_calls:this.tool_calls,tool_call_chunks:this.tool_call_chunks,invalid_tool_calls:this.invalid_tool_calls,usage_metadata:this.usage_metadata}}concat(e){var r,s,o,c,d,h,m,g,y,b,_,x,E,A,N,D,k,F,q,ee,ne,H,Ne,ct,We,qe,bt,te,X,j,z,I,Q,O,U,Z,G,W,oe,he;const n={content:Si(this.content,e.content),additional_kwargs:Mt(this.additional_kwargs,e.additional_kwargs),response_metadata:Mt(this.response_metadata,e.response_metadata),tool_call_chunks:[],id:this.id??e.id};if(this.tool_call_chunks!==void 0||e.tool_call_chunks!==void 0){const xe=Fo(this.tool_call_chunks,e.tool_call_chunks);xe!==void 0&&xe.length>0&&(n.tool_call_chunks=xe)}if(this.usage_metadata!==void 0||e.usage_metadata!==void 0){const xe={...(((s=(r=this.usage_metadata)==null?void 0:r.input_token_details)==null?void 0:s.audio)!==void 0||((c=(o=e.usage_metadata)==null?void 0:o.input_token_details)==null?void 0:c.audio)!==void 0)&&{audio:(((h=(d=this.usage_metadata)==null?void 0:d.input_token_details)==null?void 0:h.audio)??0)+(((g=(m=e.usage_metadata)==null?void 0:m.input_token_details)==null?void 0:g.audio)??0)},...(((b=(y=this.usage_metadata)==null?void 0:y.input_token_details)==null?void 0:b.cache_read)!==void 0||((x=(_=e.usage_metadata)==null?void 0:_.input_token_details)==null?void 0:x.cache_read)!==void 0)&&{cache_read:(((A=(E=this.usage_metadata)==null?void 0:E.input_token_details)==null?void 0:A.cache_read)??0)+(((D=(N=e.usage_metadata)==null?void 0:N.input_token_details)==null?void 0:D.cache_read)??0)},...(((F=(k=this.usage_metadata)==null?void 0:k.input_token_details)==null?void 0:F.cache_creation)!==void 0||((ee=(q=e.usage_metadata)==null?void 0:q.input_token_details)==null?void 0:ee.cache_creation)!==void 0)&&{cache_creation:(((H=(ne=this.usage_metadata)==null?void 0:ne.input_token_details)==null?void 0:H.cache_creation)??0)+(((ct=(Ne=e.usage_metadata)==null?void 0:Ne.input_token_details)==null?void 0:ct.cache_creation)??0)}},$e={...(((qe=(We=this.usage_metadata)==null?void 0:We.output_token_details)==null?void 0:qe.audio)!==void 0||((te=(bt=e.usage_metadata)==null?void 0:bt.output_token_details)==null?void 0:te.audio)!==void 0)&&{audio:(((j=(X=this.usage_metadata)==null?void 0:X.output_token_details)==null?void 0:j.audio)??0)+(((I=(z=e.usage_metadata)==null?void 0:z.output_token_details)==null?void 0:I.audio)??0)},...(((O=(Q=this.usage_metadata)==null?void 0:Q.output_token_details)==null?void 0:O.reasoning)!==void 0||((Z=(U=e.usage_metadata)==null?void 0:U.output_token_details)==null?void 0:Z.reasoning)!==void 0)&&{reasoning:(((W=(G=this.usage_metadata)==null?void 0:G.output_token_details)==null?void 0:W.reasoning)??0)+(((he=(oe=e.usage_metadata)==null?void 0:oe.output_token_details)==null?void 0:he.reasoning)??0)}},vt=this.usage_metadata??{input_tokens:0,output_tokens:0,total_tokens:0},tn=e.usage_metadata??{input_tokens:0,output_tokens:0,total_tokens:0},Nn={input_tokens:vt.input_tokens+tn.input_tokens,output_tokens:vt.output_tokens+tn.output_tokens,total_tokens:vt.total_tokens+tn.total_tokens,...Object.keys(xe).length>0&&{input_token_details:xe},...Object.keys($e).length>0&&{output_token_details:$e}};n.usage_metadata=Nn}return new vr(n)}}class Qo extends Ei{static lc_name(){return"ChatMessage"}static _chatMessageClass(){return Qo}constructor(e,n){typeof e=="string"&&(e={content:e,role:n}),super(e),Object.defineProperty(this,"role",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.role=e.role}_getType(){return"generic"}static isInstance(e){return e._getType()==="generic"}get _printableFields(){return{...super._printableFields,role:this.role}}}class Jo extends Oi{static lc_name(){return"ChatMessageChunk"}constructor(e,n){typeof e=="string"&&(e={content:e,role:n}),super(e),Object.defineProperty(this,"role",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.role=e.role}_getType(){return"generic"}concat(e){return new Jo({content:Si(this.content,e.content),additional_kwargs:Mt(this.additional_kwargs,e.additional_kwargs),response_metadata:Mt(this.response_metadata,e.response_metadata),role:this.role,id:this.id??e.id})}get _printableFields(){return{...super._printableFields,role:this.role}}}class Ko extends Oi{static lc_name(){return"FunctionMessageChunk"}_getType(){return"function"}concat(e){return new Ko({content:Si(this.content,e.content),additional_kwargs:Mt(this.additional_kwargs,e.additional_kwargs),response_metadata:Mt(this.response_metadata,e.response_metadata),name:this.name??"",id:this.id??e.id})}}class Wo extends Ei{static lc_name(){return"HumanMessage"}_getType(){return"human"}constructor(e,n){super(e,n)}}class eu extends Oi{static lc_name(){return"HumanMessageChunk"}_getType(){return"human"}constructor(e,n){super(e,n)}concat(e){return new eu({content:Si(this.content,e.content),additional_kwargs:Mt(this.additional_kwargs,e.additional_kwargs),response_metadata:Mt(this.response_metadata,e.response_metadata),id:this.id??e.id})}}class Ob extends Ei{static lc_name(){return"SystemMessage"}_getType(){return"system"}constructor(e,n){super(e,n)}}class Vs extends Oi{static lc_name(){return"SystemMessageChunk"}_getType(){return"system"}constructor(e,n){super(e,n)}concat(e){return new Vs({content:Si(this.content,e.content),additional_kwargs:Mt(this.additional_kwargs,e.additional_kwargs),response_metadata:Mt(this.response_metadata,e.response_metadata),id:this.id??e.id})}}function B_(i,e){return i.lc_error_code=e,i.message=`${i.message}

Troubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/${e}/
`,i}function H_(i){return!!(i&&typeof i=="object"&&"type"in i&&i.type==="tool_call")}class QO extends Error{constructor(e,n){super(e),Object.defineProperty(this,"output",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.output=n}}function JO(i){return H_(i)?i:typeof i.id=="string"&&i.type==="function"&&typeof i.function=="object"&&i.function!==null&&"arguments"in i.function&&typeof i.function.arguments=="string"&&"name"in i.function&&typeof i.function.name=="string"?{id:i.id,args:JSON.parse(i.function.arguments),name:i.function.name,type:"tool_call"}:i}function KO(i){return typeof i=="object"&&i!=null&&i.lc===1&&Array.isArray(i.id)&&i.kwargs!=null&&typeof i.kwargs=="object"}function Id(i){let e,n;if(KO(i)){const r=i.id.at(-1);r==="HumanMessage"||r==="HumanMessageChunk"?e="user":r==="AIMessage"||r==="AIMessageChunk"?e="assistant":r==="SystemMessage"||r==="SystemMessageChunk"?e="system":r==="FunctionMessage"||r==="FunctionMessageChunk"?e="function":r==="ToolMessage"||r==="ToolMessageChunk"?e="tool":e="unknown",n=i.kwargs}else{const{type:r,...s}=i;e=r,n=s}if(e==="human"||e==="user")return new Wo(n);if(e==="ai"||e==="assistant"){const{tool_calls:r,...s}=n;if(!Array.isArray(r))return new sh(n);const o=r.map(JO);return new sh({...s,tool_calls:o})}else{if(e==="system")return new Ob(n);if(e==="developer")return new Ob({...n,additional_kwargs:{...n.additional_kwargs,__openai_role__:"developer"}});if(e==="tool"&&"tool_call_id"in n)return new FO({...n,content:n.content,tool_call_id:n.tool_call_id,name:n.name});throw B_(new Error(`Unable to coerce message from array: only human, AI, system, developer, or tool message coercion is currently supported.

Received: ${JSON.stringify(i,null,2)}`),"MESSAGE_COERCION_FAILURE")}}function Ls(i){if(typeof i=="string")return new Wo(i);if(Xo(i))return i;if(Array.isArray(i)){const[e,n]=i;return Id({type:e,content:n})}else if(ZO(i)){const{role:e,...n}=i;return Id({...n,type:e})}else return Id(i)}function G_(i,e="Human",n="AI"){const r=[];for(const s of i){let o;if(s._getType()==="human")o=e;else if(s._getType()==="ai")o=n;else if(s._getType()==="system")o="System";else if(s._getType()==="function")o="Function";else if(s._getType()==="tool")o="Tool";else if(s._getType()==="generic")o=s.role;else throw new Error(`Got unsupported message type: ${s._getType()}`);const c=s.name?`${s.name}, `:"",d=typeof s.content=="string"?s.content:JSON.stringify(s.content,null,2);r.push(`${o}: ${c}${d}`)}return r.join(`
`)}function WO(i){var n;const e=i._getType();if(e==="human")return new eu({...i});if(e==="ai"){let r={...i};return"tool_calls"in r&&(r={...r,tool_call_chunks:(n=r.tool_calls)==null?void 0:n.map(s=>({...s,type:"tool_call_chunk",index:void 0,args:JSON.stringify(s.args)}))}),new vr({...r})}else{if(e==="system")return new Vs({...i});if(e==="function")return new Ko({...i});if(Qo.isInstance(i))return new Jo({...i});throw new Error("Unknown message type.")}}var Ns={exports:{}},Pd={},Ud,Tb;function eT(){if(Tb)return Ud;Tb=1;function i(e,n){typeof n=="boolean"&&(n={forever:n}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=n||{},this._maxRetryTime=n&&n.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}return Ud=i,i.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)},i.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null},i.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var n=new Date().getTime();if(e&&n-this._operationStart>=this._maxRetryTime)return this._errors.push(e),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var r=this._timeouts.shift();if(r===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),r=this._cachedTimeouts.slice(-1);else return!1;var s=this;return this._timer=setTimeout(function(){s._attempts++,s._operationTimeoutCb&&(s._timeout=setTimeout(function(){s._operationTimeoutCb(s._attempts)},s._operationTimeout),s._options.unref&&s._timeout.unref()),s._fn(s._attempts)},r),this._options.unref&&this._timer.unref(),!0},i.prototype.attempt=function(e,n){this._fn=e,n&&(n.timeout&&(this._operationTimeout=n.timeout),n.cb&&(this._operationTimeoutCb=n.cb));var r=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){r._operationTimeoutCb()},r._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)},i.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)},i.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)},i.prototype.start=i.prototype.try,i.prototype.errors=function(){return this._errors},i.prototype.attempts=function(){return this._attempts},i.prototype.mainError=function(){if(this._errors.length===0)return null;for(var e={},n=null,r=0,s=0;s<this._errors.length;s++){var o=this._errors[s],c=o.message,d=(e[c]||0)+1;e[c]=d,d>=r&&(n=o,r=d)}return n},Ud}var Ab;function tT(){return Ab||(Ab=1,function(i){var e=eT();i.operation=function(n){var r=i.timeouts(n);return new e(r,{forever:n&&(n.forever||n.retries===1/0),unref:n&&n.unref,maxRetryTime:n&&n.maxRetryTime})},i.timeouts=function(n){if(n instanceof Array)return[].concat(n);var r={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var s in n)r[s]=n[s];if(r.minTimeout>r.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var o=[],c=0;c<r.retries;c++)o.push(this.createTimeout(c,r));return n&&n.forever&&!o.length&&o.push(this.createTimeout(c,r)),o.sort(function(d,h){return d-h}),o},i.createTimeout=function(n,r){var s=r.randomize?Math.random()+1:1,o=Math.round(s*Math.max(r.minTimeout,1)*Math.pow(r.factor,n));return o=Math.min(o,r.maxTimeout),o},i.wrap=function(n,r,s){if(r instanceof Array&&(s=r,r=null),!s){s=[];for(var o in n)typeof n[o]=="function"&&s.push(o)}for(var c=0;c<s.length;c++){var d=s[c],h=n[d];n[d]=(function(g){var y=i.operation(r),b=Array.prototype.slice.call(arguments,1),_=b.pop();b.push(function(x){y.retry(x)||(x&&(arguments[0]=y.mainError()),_.apply(this,arguments))}),y.attempt(function(){g.apply(n,b)})}).bind(n,h),n[d].options=r}}}(Pd)),Pd}var zd,Rb;function nT(){return Rb||(Rb=1,zd=tT()),zd}var Nb;function aT(){if(Nb)return Ns.exports;Nb=1;const i=nT(),e=["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed"];class n extends Error{constructor(d){super(),d instanceof Error?(this.originalError=d,{message:d}=d):(this.originalError=new Error(d),this.originalError.stack=this.stack),this.name="AbortError",this.message=d}}const r=(c,d,h)=>{const m=h.retries-(d-1);return c.attemptNumber=d,c.retriesLeft=m,c},s=c=>e.includes(c),o=(c,d)=>new Promise((h,m)=>{d={onFailedAttempt:()=>{},retries:10,...d};const g=i.operation(d);g.attempt(async y=>{try{h(await c(y))}catch(b){if(!(b instanceof Error)){m(new TypeError(`Non-error was thrown: "${b}". You should only throw errors.`));return}if(b instanceof n)g.stop(),m(b.originalError);else if(b instanceof TypeError&&!s(b.message))g.stop(),m(b);else{r(b,y,d);try{await d.onFailedAttempt(b)}catch(_){m(_);return}g.retry(b)||m(g.mainError())}}})});return Ns.exports=o,Ns.exports.default=o,Ns.exports.AbortError=n,Ns.exports}var rT=aT();const Po=Qs(rT),iT=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i;function $s(i){return typeof i=="string"&&iT.test(i)}var St=[];for(var qd=0;qd<256;++qd)St.push((qd+256).toString(16).slice(1));function sT(i,e=0){return(St[i[e+0]]+St[i[e+1]]+St[i[e+2]]+St[i[e+3]]+"-"+St[i[e+4]]+St[i[e+5]]+"-"+St[i[e+6]]+St[i[e+7]]+"-"+St[i[e+8]]+St[i[e+9]]+"-"+St[i[e+10]]+St[i[e+11]]+St[i[e+12]]+St[i[e+13]]+St[i[e+14]]+St[i[e+15]]).toLowerCase()}var wo,lT=new Uint8Array(16);function oT(){if(!wo&&(wo=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!wo))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return wo(lT)}var uT=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const jb={randomUUID:uT};function Ct(i,e,n){if(jb.randomUUID&&!i)return jb.randomUUID();i=i||{};var r=i.random||(i.rng||oT)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,sT(r)}var xo={},Bd={exports:{}},kb;function cT(){return kb||(kb=1,function(i){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(h,m,g){this.fn=h,this.context=m,this.once=g||!1}function o(h,m,g,y,b){if(typeof g!="function")throw new TypeError("The listener must be a function");var _=new s(g,y||h,b),x=n?n+m:m;return h._events[x]?h._events[x].fn?h._events[x]=[h._events[x],_]:h._events[x].push(_):(h._events[x]=_,h._eventsCount++),h}function c(h,m){--h._eventsCount===0?h._events=new r:delete h._events[m]}function d(){this._events=new r,this._eventsCount=0}d.prototype.eventNames=function(){var m=[],g,y;if(this._eventsCount===0)return m;for(y in g=this._events)e.call(g,y)&&m.push(n?y.slice(1):y);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(g)):m},d.prototype.listeners=function(m){var g=n?n+m:m,y=this._events[g];if(!y)return[];if(y.fn)return[y.fn];for(var b=0,_=y.length,x=new Array(_);b<_;b++)x[b]=y[b].fn;return x},d.prototype.listenerCount=function(m){var g=n?n+m:m,y=this._events[g];return y?y.fn?1:y.length:0},d.prototype.emit=function(m,g,y,b,_,x){var E=n?n+m:m;if(!this._events[E])return!1;var A=this._events[E],N=arguments.length,D,k;if(A.fn){switch(A.once&&this.removeListener(m,A.fn,void 0,!0),N){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,g),!0;case 3:return A.fn.call(A.context,g,y),!0;case 4:return A.fn.call(A.context,g,y,b),!0;case 5:return A.fn.call(A.context,g,y,b,_),!0;case 6:return A.fn.call(A.context,g,y,b,_,x),!0}for(k=1,D=new Array(N-1);k<N;k++)D[k-1]=arguments[k];A.fn.apply(A.context,D)}else{var F=A.length,q;for(k=0;k<F;k++)switch(A[k].once&&this.removeListener(m,A[k].fn,void 0,!0),N){case 1:A[k].fn.call(A[k].context);break;case 2:A[k].fn.call(A[k].context,g);break;case 3:A[k].fn.call(A[k].context,g,y);break;case 4:A[k].fn.call(A[k].context,g,y,b);break;default:if(!D)for(q=1,D=new Array(N-1);q<N;q++)D[q-1]=arguments[q];A[k].fn.apply(A[k].context,D)}}return!0},d.prototype.on=function(m,g,y){return o(this,m,g,y,!1)},d.prototype.once=function(m,g,y){return o(this,m,g,y,!0)},d.prototype.removeListener=function(m,g,y,b){var _=n?n+m:m;if(!this._events[_])return this;if(!g)return c(this,_),this;var x=this._events[_];if(x.fn)x.fn===g&&(!b||x.once)&&(!y||x.context===y)&&c(this,_);else{for(var E=0,A=[],N=x.length;E<N;E++)(x[E].fn!==g||b&&!x[E].once||y&&x[E].context!==y)&&A.push(x[E]);A.length?this._events[_]=A.length===1?A[0]:A:c(this,_)}return this},d.prototype.removeAllListeners=function(m){var g;return m?(g=n?n+m:m,this._events[g]&&c(this,g)):(this._events=new r,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=n,d.EventEmitter=d,i.exports=d}(Bd)),Bd.exports}var js={exports:{}},Hd,Cb;function dT(){return Cb||(Cb=1,Hd=(i,e)=>(e=e||(()=>{}),i.then(n=>new Promise(r=>{r(e())}).then(()=>n),n=>new Promise(r=>{r(e())}).then(()=>{throw n})))),Hd}var Mb;function fT(){if(Mb)return js.exports;Mb=1;const i=dT();class e extends Error{constructor(s){super(s),this.name="TimeoutError"}}const n=(r,s,o)=>new Promise((c,d)=>{if(typeof s!="number"||s<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(s===1/0){c(r);return}const h=setTimeout(()=>{if(typeof o=="function"){try{c(o())}catch(y){d(y)}return}const m=typeof o=="string"?o:`Promise timed out after ${s} milliseconds`,g=o instanceof Error?o:new e(m);typeof r.cancel=="function"&&r.cancel(),d(g)},s);i(r.then(c,d),()=>{clearTimeout(h)})});return js.exports=n,js.exports.default=n,js.exports.TimeoutError=e,js.exports}var So={},Eo={},Lb;function hT(){if(Lb)return Eo;Lb=1,Object.defineProperty(Eo,"__esModule",{value:!0});function i(e,n,r){let s=0,o=e.length;for(;o>0;){const c=o/2|0;let d=s+c;r(e[d],n)<=0?(s=++d,o-=c+1):o=c}return s}return Eo.default=i,Eo}var $b;function mT(){if($b)return So;$b=1,Object.defineProperty(So,"__esModule",{value:!0});const i=hT();class e{constructor(){this._queue=[]}enqueue(r,s){s=Object.assign({priority:0},s);const o={priority:s.priority,run:r};if(this.size&&this._queue[this.size-1].priority>=s.priority){this._queue.push(o);return}const c=i.default(this._queue,o,(d,h)=>h.priority-d.priority);this._queue.splice(c,0,o)}dequeue(){const r=this._queue.shift();return r==null?void 0:r.run}filter(r){return this._queue.filter(s=>s.priority===r.priority).map(s=>s.run)}get size(){return this._queue.length}}return So.default=e,So}var Db;function pT(){if(Db)return xo;Db=1,Object.defineProperty(xo,"__esModule",{value:!0});const i=cT(),e=fT(),n=mT(),r=()=>{},s=new e.TimeoutError;class o extends i{constructor(d){var h,m,g,y;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=r,this._resolveIdle=r,d=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:n.default},d),!(typeof d.intervalCap=="number"&&d.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(m=(h=d.intervalCap)===null||h===void 0?void 0:h.toString())!==null&&m!==void 0?m:""}\` (${typeof d.intervalCap})`);if(d.interval===void 0||!(Number.isFinite(d.interval)&&d.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(y=(g=d.interval)===null||g===void 0?void 0:g.toString())!==null&&y!==void 0?y:""}\` (${typeof d.interval})`);this._carryoverConcurrencyCount=d.carryoverConcurrencyCount,this._isIntervalIgnored=d.intervalCap===1/0||d.interval===0,this._intervalCap=d.intervalCap,this._interval=d.interval,this._queue=new d.queueClass,this._queueClass=d.queueClass,this.concurrency=d.concurrency,this._timeout=d.timeout,this._throwOnTimeout=d.throwOnTimeout===!0,this._isPaused=d.autoStart===!1}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=r,this._pendingCount===0&&(this._resolveIdle(),this._resolveIdle=r,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){const d=Date.now();if(this._intervalId===void 0){const h=this._intervalEnd-d;if(h<0)this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0;else return this._timeoutId===void 0&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},h)),!0}return!1}_tryToStartAnother(){if(this._queue.size===0)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){const d=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){const h=this._queue.dequeue();return h?(this.emit("active"),h(),d&&this._initializeIntervalIfNeeded(),!0):!1}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||this._intervalId!==void 0||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){this._intervalCount===0&&this._pendingCount===0&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(d){if(!(typeof d=="number"&&d>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${d}\` (${typeof d})`);this._concurrency=d,this._processQueue()}async add(d,h={}){return new Promise((m,g)=>{const y=async()=>{this._pendingCount++,this._intervalCount++;try{const b=this._timeout===void 0&&h.timeout===void 0?d():e.default(Promise.resolve(d()),h.timeout===void 0?this._timeout:h.timeout,()=>{(h.throwOnTimeout===void 0?this._throwOnTimeout:h.throwOnTimeout)&&g(s)});m(await b)}catch(b){g(b)}this._next()};this._queue.enqueue(y,h),this._tryToStartAnother(),this.emit("add")})}async addAll(d,h){return Promise.all(d.map(async m=>this.add(m,h)))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(this._queue.size!==0)return new Promise(d=>{const h=this._resolveEmpty;this._resolveEmpty=()=>{h(),d()}})}async onIdle(){if(!(this._pendingCount===0&&this._queue.size===0))return new Promise(d=>{const h=this._resolveIdle;this._resolveIdle=()=>{h(),d()}})}get size(){return this._queue.size}sizeBy(d){return this._queue.filter(d).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(d){this._timeout=d}}return xo.default=o,xo}var gT=pT();const ua=Qs(gT),yT=(...i)=>fetch(...i),V_=Symbol.for("ls:fetch_implementation"),bT=()=>{const i=globalThis[V_];return i?typeof i=="function"&&"Headers"in i&&"Request"in i&&"Response"in i:!1},fe=i=>async(...e)=>{if(i||Dn("DEBUG")==="true"){const[r,s]=e;console.log(` ${(s==null?void 0:s.method)||"GET"} ${r}`)}const n=await(globalThis[V_]??yT)(...e);return(i||Dn("DEBUG")==="true")&&console.log(` ${n.status} ${n.statusText} ${n.url}`),n},vT=[400,401,403,404,405,406,407,408],_T=[409];let Ib=class{constructor(e){Object.defineProperty(this,"maxConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxRetries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"queue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onFailedResponseHook",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"debug",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxConcurrency=e.maxConcurrency??1/0,this.maxRetries=e.maxRetries??6,this.debug=e.debug,"default"in ua?this.queue=new ua.default({concurrency:this.maxConcurrency}):this.queue=new ua({concurrency:this.maxConcurrency}),this.onFailedResponseHook=e==null?void 0:e.onFailedResponseHook}call(e,...n){const r=this.onFailedResponseHook;return this.queue.add(()=>Po(()=>e(...n).catch(s=>{throw s instanceof Error?s:new Error(s)}),{async onFailedAttempt(s){if(s.message.startsWith("Cancel")||s.message.startsWith("TimeoutError")||s.message.startsWith("AbortError")||(s==null?void 0:s.code)==="ECONNABORTED")throw s;const o=s==null?void 0:s.response,c=o==null?void 0:o.status;if(c){if(vT.includes(+c))throw s;if(_T.includes(+c))return;r&&await r(o)}},retries:this.maxRetries,randomize:!0}),{throwOnTimeout:!0})}callWithOptions(e,n,...r){return e.signal?Promise.race([this.call(n,...r),new Promise((s,o)=>{var c;(c=e.signal)==null||c.addEventListener("abort",()=>{o(new Error("AbortError"))})})]):this.call(n,...r)}fetch(...e){return this.call(()=>fe(this.debug)(...e).then(n=>n.ok?n:Promise.reject(n)))}};function Pb(i){return typeof(i==null?void 0:i._getType)=="function"}function Ub(i){const e={type:i._getType(),data:{content:i.content}};return i!=null&&i.additional_kwargs&&Object.keys(i.additional_kwargs).length>0&&(e.data.additional_kwargs={...i.additional_kwargs}),e}function be(i,e){if(!$s(i)){const n=e!==void 0?`Invalid UUID for ${e}: ${i}`:`Invalid UUID: ${i}`;throw new Error(n)}return i}const zb={};function Z_(i){zb[i]||(console.warn(i),zb[i]=!0)}var Oo={exports:{}},Gd,qb;function tu(){if(qb)return Gd;qb=1;const i="2.0.0",e=256,n=Number.MAX_SAFE_INTEGER||9007199254740991,r=16,s=e-6;return Gd={MAX_LENGTH:e,MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:s,MAX_SAFE_INTEGER:n,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:i,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},Gd}var Vd,Bb;function nu(){if(Bb)return Vd;Bb=1;var i={};return Vd=typeof process=="object"&&i&&i.NODE_DEBUG&&/\bsemver\b/i.test(i.NODE_DEBUG)?(...n)=>console.error("SEMVER",...n):()=>{},Vd}var Hb;function Ks(){return Hb||(Hb=1,function(i,e){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:s}=tu(),o=nu();e=i.exports={};const c=e.re=[],d=e.safeRe=[],h=e.src=[],m=e.safeSrc=[],g=e.t={};let y=0;const b="[a-zA-Z0-9-]",_=[["\\s",1],["\\d",s],[b,r]],x=A=>{for(const[N,D]of _)A=A.split(`${N}*`).join(`${N}{0,${D}}`).split(`${N}+`).join(`${N}{1,${D}}`);return A},E=(A,N,D)=>{const k=x(N),F=y++;o(A,F,N),g[A]=F,h[F]=N,m[F]=k,c[F]=new RegExp(N,D?"g":void 0),d[F]=new RegExp(k,D?"g":void 0)};E("NUMERICIDENTIFIER","0|[1-9]\\d*"),E("NUMERICIDENTIFIERLOOSE","\\d+"),E("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${b}*`),E("MAINVERSION",`(${h[g.NUMERICIDENTIFIER]})\\.(${h[g.NUMERICIDENTIFIER]})\\.(${h[g.NUMERICIDENTIFIER]})`),E("MAINVERSIONLOOSE",`(${h[g.NUMERICIDENTIFIERLOOSE]})\\.(${h[g.NUMERICIDENTIFIERLOOSE]})\\.(${h[g.NUMERICIDENTIFIERLOOSE]})`),E("PRERELEASEIDENTIFIER",`(?:${h[g.NONNUMERICIDENTIFIER]}|${h[g.NUMERICIDENTIFIER]})`),E("PRERELEASEIDENTIFIERLOOSE",`(?:${h[g.NONNUMERICIDENTIFIER]}|${h[g.NUMERICIDENTIFIERLOOSE]})`),E("PRERELEASE",`(?:-(${h[g.PRERELEASEIDENTIFIER]}(?:\\.${h[g.PRERELEASEIDENTIFIER]})*))`),E("PRERELEASELOOSE",`(?:-?(${h[g.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${h[g.PRERELEASEIDENTIFIERLOOSE]})*))`),E("BUILDIDENTIFIER",`${b}+`),E("BUILD",`(?:\\+(${h[g.BUILDIDENTIFIER]}(?:\\.${h[g.BUILDIDENTIFIER]})*))`),E("FULLPLAIN",`v?${h[g.MAINVERSION]}${h[g.PRERELEASE]}?${h[g.BUILD]}?`),E("FULL",`^${h[g.FULLPLAIN]}$`),E("LOOSEPLAIN",`[v=\\s]*${h[g.MAINVERSIONLOOSE]}${h[g.PRERELEASELOOSE]}?${h[g.BUILD]}?`),E("LOOSE",`^${h[g.LOOSEPLAIN]}$`),E("GTLT","((?:<|>)?=?)"),E("XRANGEIDENTIFIERLOOSE",`${h[g.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),E("XRANGEIDENTIFIER",`${h[g.NUMERICIDENTIFIER]}|x|X|\\*`),E("XRANGEPLAIN",`[v=\\s]*(${h[g.XRANGEIDENTIFIER]})(?:\\.(${h[g.XRANGEIDENTIFIER]})(?:\\.(${h[g.XRANGEIDENTIFIER]})(?:${h[g.PRERELEASE]})?${h[g.BUILD]}?)?)?`),E("XRANGEPLAINLOOSE",`[v=\\s]*(${h[g.XRANGEIDENTIFIERLOOSE]})(?:\\.(${h[g.XRANGEIDENTIFIERLOOSE]})(?:\\.(${h[g.XRANGEIDENTIFIERLOOSE]})(?:${h[g.PRERELEASELOOSE]})?${h[g.BUILD]}?)?)?`),E("XRANGE",`^${h[g.GTLT]}\\s*${h[g.XRANGEPLAIN]}$`),E("XRANGELOOSE",`^${h[g.GTLT]}\\s*${h[g.XRANGEPLAINLOOSE]}$`),E("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),E("COERCE",`${h[g.COERCEPLAIN]}(?:$|[^\\d])`),E("COERCEFULL",h[g.COERCEPLAIN]+`(?:${h[g.PRERELEASE]})?(?:${h[g.BUILD]})?(?:$|[^\\d])`),E("COERCERTL",h[g.COERCE],!0),E("COERCERTLFULL",h[g.COERCEFULL],!0),E("LONETILDE","(?:~>?)"),E("TILDETRIM",`(\\s*)${h[g.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",E("TILDE",`^${h[g.LONETILDE]}${h[g.XRANGEPLAIN]}$`),E("TILDELOOSE",`^${h[g.LONETILDE]}${h[g.XRANGEPLAINLOOSE]}$`),E("LONECARET","(?:\\^)"),E("CARETTRIM",`(\\s*)${h[g.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",E("CARET",`^${h[g.LONECARET]}${h[g.XRANGEPLAIN]}$`),E("CARETLOOSE",`^${h[g.LONECARET]}${h[g.XRANGEPLAINLOOSE]}$`),E("COMPARATORLOOSE",`^${h[g.GTLT]}\\s*(${h[g.LOOSEPLAIN]})$|^$`),E("COMPARATOR",`^${h[g.GTLT]}\\s*(${h[g.FULLPLAIN]})$|^$`),E("COMPARATORTRIM",`(\\s*)${h[g.GTLT]}\\s*(${h[g.LOOSEPLAIN]}|${h[g.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",E("HYPHENRANGE",`^\\s*(${h[g.XRANGEPLAIN]})\\s+-\\s+(${h[g.XRANGEPLAIN]})\\s*$`),E("HYPHENRANGELOOSE",`^\\s*(${h[g.XRANGEPLAINLOOSE]})\\s+-\\s+(${h[g.XRANGEPLAINLOOSE]})\\s*$`),E("STAR","(<|>)?=?\\s*\\*"),E("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),E("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}(Oo,Oo.exports)),Oo.exports}var Zd,Gb;function Nh(){if(Gb)return Zd;Gb=1;const i=Object.freeze({loose:!0}),e=Object.freeze({});return Zd=r=>r?typeof r!="object"?i:r:e,Zd}var Yd,Vb;function Y_(){if(Vb)return Yd;Vb=1;const i=/^[0-9]+$/,e=(r,s)=>{const o=i.test(r),c=i.test(s);return o&&c&&(r=+r,s=+s),r===s?0:o&&!c?-1:c&&!o?1:r<s?-1:1};return Yd={compareIdentifiers:e,rcompareIdentifiers:(r,s)=>e(s,r)},Yd}var Fd,Zb;function Lt(){if(Zb)return Fd;Zb=1;const i=nu(),{MAX_LENGTH:e,MAX_SAFE_INTEGER:n}=tu(),{safeRe:r,t:s}=Ks(),o=Nh(),{compareIdentifiers:c}=Y_();class d{constructor(m,g){if(g=o(g),m instanceof d){if(m.loose===!!g.loose&&m.includePrerelease===!!g.includePrerelease)return m;m=m.version}else if(typeof m!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof m}".`);if(m.length>e)throw new TypeError(`version is longer than ${e} characters`);i("SemVer",m,g),this.options=g,this.loose=!!g.loose,this.includePrerelease=!!g.includePrerelease;const y=m.trim().match(g.loose?r[s.LOOSE]:r[s.FULL]);if(!y)throw new TypeError(`Invalid Version: ${m}`);if(this.raw=m,this.major=+y[1],this.minor=+y[2],this.patch=+y[3],this.major>n||this.major<0)throw new TypeError("Invalid major version");if(this.minor>n||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>n||this.patch<0)throw new TypeError("Invalid patch version");y[4]?this.prerelease=y[4].split(".").map(b=>{if(/^[0-9]+$/.test(b)){const _=+b;if(_>=0&&_<n)return _}return b}):this.prerelease=[],this.build=y[5]?y[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(m){if(i("SemVer.compare",this.version,this.options,m),!(m instanceof d)){if(typeof m=="string"&&m===this.version)return 0;m=new d(m,this.options)}return m.version===this.version?0:this.compareMain(m)||this.comparePre(m)}compareMain(m){return m instanceof d||(m=new d(m,this.options)),c(this.major,m.major)||c(this.minor,m.minor)||c(this.patch,m.patch)}comparePre(m){if(m instanceof d||(m=new d(m,this.options)),this.prerelease.length&&!m.prerelease.length)return-1;if(!this.prerelease.length&&m.prerelease.length)return 1;if(!this.prerelease.length&&!m.prerelease.length)return 0;let g=0;do{const y=this.prerelease[g],b=m.prerelease[g];if(i("prerelease compare",g,y,b),y===void 0&&b===void 0)return 0;if(b===void 0)return 1;if(y===void 0)return-1;if(y===b)continue;return c(y,b)}while(++g)}compareBuild(m){m instanceof d||(m=new d(m,this.options));let g=0;do{const y=this.build[g],b=m.build[g];if(i("build compare",g,y,b),y===void 0&&b===void 0)return 0;if(b===void 0)return 1;if(y===void 0)return-1;if(y===b)continue;return c(y,b)}while(++g)}inc(m,g,y){if(m.startsWith("pre")){if(!g&&y===!1)throw new Error("invalid increment argument: identifier is empty");if(g){const b=`-${g}`.match(this.options.loose?r[s.PRERELEASELOOSE]:r[s.PRERELEASE]);if(!b||b[1]!==g)throw new Error(`invalid identifier: ${g}`)}}switch(m){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",g,y);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",g,y);break;case"prepatch":this.prerelease.length=0,this.inc("patch",g,y),this.inc("pre",g,y);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",g,y),this.inc("pre",g,y);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const b=Number(y)?1:0;if(this.prerelease.length===0)this.prerelease=[b];else{let _=this.prerelease.length;for(;--_>=0;)typeof this.prerelease[_]=="number"&&(this.prerelease[_]++,_=-2);if(_===-1){if(g===this.prerelease.join(".")&&y===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(b)}}if(g){let _=[g,b];y===!1&&(_=[g]),c(this.prerelease[0],g)===0?isNaN(this.prerelease[1])&&(this.prerelease=_):this.prerelease=_}break}default:throw new Error(`invalid increment argument: ${m}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return Fd=d,Fd}var Xd,Yb;function Ti(){if(Yb)return Xd;Yb=1;const i=Lt();return Xd=(n,r,s=!1)=>{if(n instanceof i)return n;try{return new i(n,r)}catch(o){if(!s)return null;throw o}},Xd}var Qd,Fb;function wT(){if(Fb)return Qd;Fb=1;const i=Ti();return Qd=(n,r)=>{const s=i(n,r);return s?s.version:null},Qd}var Jd,Xb;function xT(){if(Xb)return Jd;Xb=1;const i=Ti();return Jd=(n,r)=>{const s=i(n.trim().replace(/^[=v]+/,""),r);return s?s.version:null},Jd}var Kd,Qb;function ST(){if(Qb)return Kd;Qb=1;const i=Lt();return Kd=(n,r,s,o,c)=>{typeof s=="string"&&(c=o,o=s,s=void 0);try{return new i(n instanceof i?n.version:n,s).inc(r,o,c).version}catch{return null}},Kd}var Wd,Jb;function ET(){if(Jb)return Wd;Jb=1;const i=Ti();return Wd=(n,r)=>{const s=i(n,null,!0),o=i(r,null,!0),c=s.compare(o);if(c===0)return null;const d=c>0,h=d?s:o,m=d?o:s,g=!!h.prerelease.length;if(!!m.prerelease.length&&!g){if(!m.patch&&!m.minor)return"major";if(m.compareMain(h)===0)return m.minor&&!m.patch?"minor":"patch"}const b=g?"pre":"";return s.major!==o.major?b+"major":s.minor!==o.minor?b+"minor":s.patch!==o.patch?b+"patch":"prerelease"},Wd}var ef,Kb;function OT(){if(Kb)return ef;Kb=1;const i=Lt();return ef=(n,r)=>new i(n,r).major,ef}var tf,Wb;function TT(){if(Wb)return tf;Wb=1;const i=Lt();return tf=(n,r)=>new i(n,r).minor,tf}var nf,ev;function AT(){if(ev)return nf;ev=1;const i=Lt();return nf=(n,r)=>new i(n,r).patch,nf}var af,tv;function RT(){if(tv)return af;tv=1;const i=Ti();return af=(n,r)=>{const s=i(n,r);return s&&s.prerelease.length?s.prerelease:null},af}var rf,nv;function Tn(){if(nv)return rf;nv=1;const i=Lt();return rf=(n,r,s)=>new i(n,s).compare(new i(r,s)),rf}var sf,av;function NT(){if(av)return sf;av=1;const i=Tn();return sf=(n,r,s)=>i(r,n,s),sf}var lf,rv;function jT(){if(rv)return lf;rv=1;const i=Tn();return lf=(n,r)=>i(n,r,!0),lf}var of,iv;function jh(){if(iv)return of;iv=1;const i=Lt();return of=(n,r,s)=>{const o=new i(n,s),c=new i(r,s);return o.compare(c)||o.compareBuild(c)},of}var uf,sv;function kT(){if(sv)return uf;sv=1;const i=jh();return uf=(n,r)=>n.sort((s,o)=>i(s,o,r)),uf}var cf,lv;function CT(){if(lv)return cf;lv=1;const i=jh();return cf=(n,r)=>n.sort((s,o)=>i(o,s,r)),cf}var df,ov;function au(){if(ov)return df;ov=1;const i=Tn();return df=(n,r,s)=>i(n,r,s)>0,df}var ff,uv;function kh(){if(uv)return ff;uv=1;const i=Tn();return ff=(n,r,s)=>i(n,r,s)<0,ff}var hf,cv;function F_(){if(cv)return hf;cv=1;const i=Tn();return hf=(n,r,s)=>i(n,r,s)===0,hf}var mf,dv;function X_(){if(dv)return mf;dv=1;const i=Tn();return mf=(n,r,s)=>i(n,r,s)!==0,mf}var pf,fv;function Ch(){if(fv)return pf;fv=1;const i=Tn();return pf=(n,r,s)=>i(n,r,s)>=0,pf}var gf,hv;function Mh(){if(hv)return gf;hv=1;const i=Tn();return gf=(n,r,s)=>i(n,r,s)<=0,gf}var yf,mv;function Q_(){if(mv)return yf;mv=1;const i=F_(),e=X_(),n=au(),r=Ch(),s=kh(),o=Mh();return yf=(d,h,m,g)=>{switch(h){case"===":return typeof d=="object"&&(d=d.version),typeof m=="object"&&(m=m.version),d===m;case"!==":return typeof d=="object"&&(d=d.version),typeof m=="object"&&(m=m.version),d!==m;case"":case"=":case"==":return i(d,m,g);case"!=":return e(d,m,g);case">":return n(d,m,g);case">=":return r(d,m,g);case"<":return s(d,m,g);case"<=":return o(d,m,g);default:throw new TypeError(`Invalid operator: ${h}`)}},yf}var bf,pv;function MT(){if(pv)return bf;pv=1;const i=Lt(),e=Ti(),{safeRe:n,t:r}=Ks();return bf=(o,c)=>{if(o instanceof i)return o;if(typeof o=="number"&&(o=String(o)),typeof o!="string")return null;c=c||{};let d=null;if(!c.rtl)d=o.match(c.includePrerelease?n[r.COERCEFULL]:n[r.COERCE]);else{const _=c.includePrerelease?n[r.COERCERTLFULL]:n[r.COERCERTL];let x;for(;(x=_.exec(o))&&(!d||d.index+d[0].length!==o.length);)(!d||x.index+x[0].length!==d.index+d[0].length)&&(d=x),_.lastIndex=x.index+x[1].length+x[2].length;_.lastIndex=-1}if(d===null)return null;const h=d[2],m=d[3]||"0",g=d[4]||"0",y=c.includePrerelease&&d[5]?`-${d[5]}`:"",b=c.includePrerelease&&d[6]?`+${d[6]}`:"";return e(`${h}.${m}.${g}${y}${b}`,c)},bf}var vf,gv;function LT(){if(gv)return vf;gv=1;class i{constructor(){this.max=1e3,this.map=new Map}get(n){const r=this.map.get(n);if(r!==void 0)return this.map.delete(n),this.map.set(n,r),r}delete(n){return this.map.delete(n)}set(n,r){if(!this.delete(n)&&r!==void 0){if(this.map.size>=this.max){const o=this.map.keys().next().value;this.delete(o)}this.map.set(n,r)}return this}}return vf=i,vf}var _f,yv;function An(){if(yv)return _f;yv=1;const i=/\s+/g;class e{constructor(X,j){if(j=s(j),X instanceof e)return X.loose===!!j.loose&&X.includePrerelease===!!j.includePrerelease?X:new e(X.raw,j);if(X instanceof o)return this.raw=X.value,this.set=[[X]],this.formatted=void 0,this;if(this.options=j,this.loose=!!j.loose,this.includePrerelease=!!j.includePrerelease,this.raw=X.trim().replace(i," "),this.set=this.raw.split("||").map(z=>this.parseRange(z.trim())).filter(z=>z.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const z=this.set[0];if(this.set=this.set.filter(I=>!E(I[0])),this.set.length===0)this.set=[z];else if(this.set.length>1){for(const I of this.set)if(I.length===1&&A(I[0])){this.set=[I];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let X=0;X<this.set.length;X++){X>0&&(this.formatted+="||");const j=this.set[X];for(let z=0;z<j.length;z++)z>0&&(this.formatted+=" "),this.formatted+=j[z].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(X){const z=((this.options.includePrerelease&&_)|(this.options.loose&&x))+":"+X,I=r.get(z);if(I)return I;const Q=this.options.loose,O=Q?h[m.HYPHENRANGELOOSE]:h[m.HYPHENRANGE];X=X.replace(O,qe(this.options.includePrerelease)),c("hyphen replace",X),X=X.replace(h[m.COMPARATORTRIM],g),c("comparator trim",X),X=X.replace(h[m.TILDETRIM],y),c("tilde trim",X),X=X.replace(h[m.CARETTRIM],b),c("caret trim",X);let U=X.split(" ").map(oe=>D(oe,this.options)).join(" ").split(/\s+/).map(oe=>We(oe,this.options));Q&&(U=U.filter(oe=>(c("loose invalid filter",oe,this.options),!!oe.match(h[m.COMPARATORLOOSE])))),c("range list",U);const Z=new Map,G=U.map(oe=>new o(oe,this.options));for(const oe of G){if(E(oe))return[oe];Z.set(oe.value,oe)}Z.size>1&&Z.has("")&&Z.delete("");const W=[...Z.values()];return r.set(z,W),W}intersects(X,j){if(!(X instanceof e))throw new TypeError("a Range is required");return this.set.some(z=>N(z,j)&&X.set.some(I=>N(I,j)&&z.every(Q=>I.every(O=>Q.intersects(O,j)))))}test(X){if(!X)return!1;if(typeof X=="string")try{X=new d(X,this.options)}catch{return!1}for(let j=0;j<this.set.length;j++)if(bt(this.set[j],X,this.options))return!0;return!1}}_f=e;const n=LT(),r=new n,s=Nh(),o=ru(),c=nu(),d=Lt(),{safeRe:h,t:m,comparatorTrimReplace:g,tildeTrimReplace:y,caretTrimReplace:b}=Ks(),{FLAG_INCLUDE_PRERELEASE:_,FLAG_LOOSE:x}=tu(),E=te=>te.value==="<0.0.0-0",A=te=>te.value==="",N=(te,X)=>{let j=!0;const z=te.slice();let I=z.pop();for(;j&&z.length;)j=z.every(Q=>I.intersects(Q,X)),I=z.pop();return j},D=(te,X)=>(c("comp",te,X),te=ee(te,X),c("caret",te),te=F(te,X),c("tildes",te),te=H(te,X),c("xrange",te),te=ct(te,X),c("stars",te),te),k=te=>!te||te.toLowerCase()==="x"||te==="*",F=(te,X)=>te.trim().split(/\s+/).map(j=>q(j,X)).join(" "),q=(te,X)=>{const j=X.loose?h[m.TILDELOOSE]:h[m.TILDE];return te.replace(j,(z,I,Q,O,U)=>{c("tilde",te,z,I,Q,O,U);let Z;return k(I)?Z="":k(Q)?Z=`>=${I}.0.0 <${+I+1}.0.0-0`:k(O)?Z=`>=${I}.${Q}.0 <${I}.${+Q+1}.0-0`:U?(c("replaceTilde pr",U),Z=`>=${I}.${Q}.${O}-${U} <${I}.${+Q+1}.0-0`):Z=`>=${I}.${Q}.${O} <${I}.${+Q+1}.0-0`,c("tilde return",Z),Z})},ee=(te,X)=>te.trim().split(/\s+/).map(j=>ne(j,X)).join(" "),ne=(te,X)=>{c("caret",te,X);const j=X.loose?h[m.CARETLOOSE]:h[m.CARET],z=X.includePrerelease?"-0":"";return te.replace(j,(I,Q,O,U,Z)=>{c("caret",te,I,Q,O,U,Z);let G;return k(Q)?G="":k(O)?G=`>=${Q}.0.0${z} <${+Q+1}.0.0-0`:k(U)?Q==="0"?G=`>=${Q}.${O}.0${z} <${Q}.${+O+1}.0-0`:G=`>=${Q}.${O}.0${z} <${+Q+1}.0.0-0`:Z?(c("replaceCaret pr",Z),Q==="0"?O==="0"?G=`>=${Q}.${O}.${U}-${Z} <${Q}.${O}.${+U+1}-0`:G=`>=${Q}.${O}.${U}-${Z} <${Q}.${+O+1}.0-0`:G=`>=${Q}.${O}.${U}-${Z} <${+Q+1}.0.0-0`):(c("no pr"),Q==="0"?O==="0"?G=`>=${Q}.${O}.${U}${z} <${Q}.${O}.${+U+1}-0`:G=`>=${Q}.${O}.${U}${z} <${Q}.${+O+1}.0-0`:G=`>=${Q}.${O}.${U} <${+Q+1}.0.0-0`),c("caret return",G),G})},H=(te,X)=>(c("replaceXRanges",te,X),te.split(/\s+/).map(j=>Ne(j,X)).join(" ")),Ne=(te,X)=>{te=te.trim();const j=X.loose?h[m.XRANGELOOSE]:h[m.XRANGE];return te.replace(j,(z,I,Q,O,U,Z)=>{c("xRange",te,z,I,Q,O,U,Z);const G=k(Q),W=G||k(O),oe=W||k(U),he=oe;return I==="="&&he&&(I=""),Z=X.includePrerelease?"-0":"",G?I===">"||I==="<"?z="<0.0.0-0":z="*":I&&he?(W&&(O=0),U=0,I===">"?(I=">=",W?(Q=+Q+1,O=0,U=0):(O=+O+1,U=0)):I==="<="&&(I="<",W?Q=+Q+1:O=+O+1),I==="<"&&(Z="-0"),z=`${I+Q}.${O}.${U}${Z}`):W?z=`>=${Q}.0.0${Z} <${+Q+1}.0.0-0`:oe&&(z=`>=${Q}.${O}.0${Z} <${Q}.${+O+1}.0-0`),c("xRange return",z),z})},ct=(te,X)=>(c("replaceStars",te,X),te.trim().replace(h[m.STAR],"")),We=(te,X)=>(c("replaceGTE0",te,X),te.trim().replace(h[X.includePrerelease?m.GTE0PRE:m.GTE0],"")),qe=te=>(X,j,z,I,Q,O,U,Z,G,W,oe,he)=>(k(z)?j="":k(I)?j=`>=${z}.0.0${te?"-0":""}`:k(Q)?j=`>=${z}.${I}.0${te?"-0":""}`:O?j=`>=${j}`:j=`>=${j}${te?"-0":""}`,k(G)?Z="":k(W)?Z=`<${+G+1}.0.0-0`:k(oe)?Z=`<${G}.${+W+1}.0-0`:he?Z=`<=${G}.${W}.${oe}-${he}`:te?Z=`<${G}.${W}.${+oe+1}-0`:Z=`<=${Z}`,`${j} ${Z}`.trim()),bt=(te,X,j)=>{for(let z=0;z<te.length;z++)if(!te[z].test(X))return!1;if(X.prerelease.length&&!j.includePrerelease){for(let z=0;z<te.length;z++)if(c(te[z].semver),te[z].semver!==o.ANY&&te[z].semver.prerelease.length>0){const I=te[z].semver;if(I.major===X.major&&I.minor===X.minor&&I.patch===X.patch)return!0}return!1}return!0};return _f}var wf,bv;function ru(){if(bv)return wf;bv=1;const i=Symbol("SemVer ANY");class e{static get ANY(){return i}constructor(g,y){if(y=n(y),g instanceof e){if(g.loose===!!y.loose)return g;g=g.value}g=g.trim().split(/\s+/).join(" "),c("comparator",g,y),this.options=y,this.loose=!!y.loose,this.parse(g),this.semver===i?this.value="":this.value=this.operator+this.semver.version,c("comp",this)}parse(g){const y=this.options.loose?r[s.COMPARATORLOOSE]:r[s.COMPARATOR],b=g.match(y);if(!b)throw new TypeError(`Invalid comparator: ${g}`);this.operator=b[1]!==void 0?b[1]:"",this.operator==="="&&(this.operator=""),b[2]?this.semver=new d(b[2],this.options.loose):this.semver=i}toString(){return this.value}test(g){if(c("Comparator.test",g,this.options.loose),this.semver===i||g===i)return!0;if(typeof g=="string")try{g=new d(g,this.options)}catch{return!1}return o(g,this.operator,this.semver,this.options)}intersects(g,y){if(!(g instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new h(g.value,y).test(this.value):g.operator===""?g.value===""?!0:new h(this.value,y).test(g.semver):(y=n(y),y.includePrerelease&&(this.value==="<0.0.0-0"||g.value==="<0.0.0-0")||!y.includePrerelease&&(this.value.startsWith("<0.0.0")||g.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&g.operator.startsWith(">")||this.operator.startsWith("<")&&g.operator.startsWith("<")||this.semver.version===g.semver.version&&this.operator.includes("=")&&g.operator.includes("=")||o(this.semver,"<",g.semver,y)&&this.operator.startsWith(">")&&g.operator.startsWith("<")||o(this.semver,">",g.semver,y)&&this.operator.startsWith("<")&&g.operator.startsWith(">")))}}wf=e;const n=Nh(),{safeRe:r,t:s}=Ks(),o=Q_(),c=nu(),d=Lt(),h=An();return wf}var xf,vv;function iu(){if(vv)return xf;vv=1;const i=An();return xf=(n,r,s)=>{try{r=new i(r,s)}catch{return!1}return r.test(n)},xf}var Sf,_v;function $T(){if(_v)return Sf;_v=1;const i=An();return Sf=(n,r)=>new i(n,r).set.map(s=>s.map(o=>o.value).join(" ").trim().split(" ")),Sf}var Ef,wv;function DT(){if(wv)return Ef;wv=1;const i=Lt(),e=An();return Ef=(r,s,o)=>{let c=null,d=null,h=null;try{h=new e(s,o)}catch{return null}return r.forEach(m=>{h.test(m)&&(!c||d.compare(m)===-1)&&(c=m,d=new i(c,o))}),c},Ef}var Of,xv;function IT(){if(xv)return Of;xv=1;const i=Lt(),e=An();return Of=(r,s,o)=>{let c=null,d=null,h=null;try{h=new e(s,o)}catch{return null}return r.forEach(m=>{h.test(m)&&(!c||d.compare(m)===1)&&(c=m,d=new i(c,o))}),c},Of}var Tf,Sv;function PT(){if(Sv)return Tf;Sv=1;const i=Lt(),e=An(),n=au();return Tf=(s,o)=>{s=new e(s,o);let c=new i("0.0.0");if(s.test(c)||(c=new i("0.0.0-0"),s.test(c)))return c;c=null;for(let d=0;d<s.set.length;++d){const h=s.set[d];let m=null;h.forEach(g=>{const y=new i(g.semver.version);switch(g.operator){case">":y.prerelease.length===0?y.patch++:y.prerelease.push(0),y.raw=y.format();case"":case">=":(!m||n(y,m))&&(m=y);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${g.operator}`)}}),m&&(!c||n(c,m))&&(c=m)}return c&&s.test(c)?c:null},Tf}var Af,Ev;function UT(){if(Ev)return Af;Ev=1;const i=An();return Af=(n,r)=>{try{return new i(n,r).range||"*"}catch{return null}},Af}var Rf,Ov;function Lh(){if(Ov)return Rf;Ov=1;const i=Lt(),e=ru(),{ANY:n}=e,r=An(),s=iu(),o=au(),c=kh(),d=Mh(),h=Ch();return Rf=(g,y,b,_)=>{g=new i(g,_),y=new r(y,_);let x,E,A,N,D;switch(b){case">":x=o,E=d,A=c,N=">",D=">=";break;case"<":x=c,E=h,A=o,N="<",D="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(s(g,y,_))return!1;for(let k=0;k<y.set.length;++k){const F=y.set[k];let q=null,ee=null;if(F.forEach(ne=>{ne.semver===n&&(ne=new e(">=0.0.0")),q=q||ne,ee=ee||ne,x(ne.semver,q.semver,_)?q=ne:A(ne.semver,ee.semver,_)&&(ee=ne)}),q.operator===N||q.operator===D||(!ee.operator||ee.operator===N)&&E(g,ee.semver))return!1;if(ee.operator===D&&A(g,ee.semver))return!1}return!0},Rf}var Nf,Tv;function zT(){if(Tv)return Nf;Tv=1;const i=Lh();return Nf=(n,r,s)=>i(n,r,">",s),Nf}var jf,Av;function qT(){if(Av)return jf;Av=1;const i=Lh();return jf=(n,r,s)=>i(n,r,"<",s),jf}var kf,Rv;function BT(){if(Rv)return kf;Rv=1;const i=An();return kf=(n,r,s)=>(n=new i(n,s),r=new i(r,s),n.intersects(r,s)),kf}var Cf,Nv;function HT(){if(Nv)return Cf;Nv=1;const i=iu(),e=Tn();return Cf=(n,r,s)=>{const o=[];let c=null,d=null;const h=n.sort((b,_)=>e(b,_,s));for(const b of h)i(b,r,s)?(d=b,c||(c=b)):(d&&o.push([c,d]),d=null,c=null);c&&o.push([c,null]);const m=[];for(const[b,_]of o)b===_?m.push(b):!_&&b===h[0]?m.push("*"):_?b===h[0]?m.push(`<=${_}`):m.push(`${b} - ${_}`):m.push(`>=${b}`);const g=m.join(" || "),y=typeof r.raw=="string"?r.raw:String(r);return g.length<y.length?g:r},Cf}var Mf,jv;function GT(){if(jv)return Mf;jv=1;const i=An(),e=ru(),{ANY:n}=e,r=iu(),s=Tn(),o=(y,b,_={})=>{if(y===b)return!0;y=new i(y,_),b=new i(b,_);let x=!1;e:for(const E of y.set){for(const A of b.set){const N=h(E,A,_);if(x=x||N!==null,N)continue e}if(x)return!1}return!0},c=[new e(">=0.0.0-0")],d=[new e(">=0.0.0")],h=(y,b,_)=>{if(y===b)return!0;if(y.length===1&&y[0].semver===n){if(b.length===1&&b[0].semver===n)return!0;_.includePrerelease?y=c:y=d}if(b.length===1&&b[0].semver===n){if(_.includePrerelease)return!0;b=d}const x=new Set;let E,A;for(const H of y)H.operator===">"||H.operator===">="?E=m(E,H,_):H.operator==="<"||H.operator==="<="?A=g(A,H,_):x.add(H.semver);if(x.size>1)return null;let N;if(E&&A){if(N=s(E.semver,A.semver,_),N>0)return null;if(N===0&&(E.operator!==">="||A.operator!=="<="))return null}for(const H of x){if(E&&!r(H,String(E),_)||A&&!r(H,String(A),_))return null;for(const Ne of b)if(!r(H,String(Ne),_))return!1;return!0}let D,k,F,q,ee=A&&!_.includePrerelease&&A.semver.prerelease.length?A.semver:!1,ne=E&&!_.includePrerelease&&E.semver.prerelease.length?E.semver:!1;ee&&ee.prerelease.length===1&&A.operator==="<"&&ee.prerelease[0]===0&&(ee=!1);for(const H of b){if(q=q||H.operator===">"||H.operator===">=",F=F||H.operator==="<"||H.operator==="<=",E){if(ne&&H.semver.prerelease&&H.semver.prerelease.length&&H.semver.major===ne.major&&H.semver.minor===ne.minor&&H.semver.patch===ne.patch&&(ne=!1),H.operator===">"||H.operator===">="){if(D=m(E,H,_),D===H&&D!==E)return!1}else if(E.operator===">="&&!r(E.semver,String(H),_))return!1}if(A){if(ee&&H.semver.prerelease&&H.semver.prerelease.length&&H.semver.major===ee.major&&H.semver.minor===ee.minor&&H.semver.patch===ee.patch&&(ee=!1),H.operator==="<"||H.operator==="<="){if(k=g(A,H,_),k===H&&k!==A)return!1}else if(A.operator==="<="&&!r(A.semver,String(H),_))return!1}if(!H.operator&&(A||E)&&N!==0)return!1}return!(E&&F&&!A&&N!==0||A&&q&&!E&&N!==0||ne||ee)},m=(y,b,_)=>{if(!y)return b;const x=s(y.semver,b.semver,_);return x>0?y:x<0||b.operator===">"&&y.operator===">="?b:y},g=(y,b,_)=>{if(!y)return b;const x=s(y.semver,b.semver,_);return x<0?y:x>0||b.operator==="<"&&y.operator==="<="?b:y};return Mf=o,Mf}var Lf,kv;function VT(){if(kv)return Lf;kv=1;const i=Ks(),e=tu(),n=Lt(),r=Y_(),s=Ti(),o=wT(),c=xT(),d=ST(),h=ET(),m=OT(),g=TT(),y=AT(),b=RT(),_=Tn(),x=NT(),E=jT(),A=jh(),N=kT(),D=CT(),k=au(),F=kh(),q=F_(),ee=X_(),ne=Ch(),H=Mh(),Ne=Q_(),ct=MT(),We=ru(),qe=An(),bt=iu(),te=$T(),X=DT(),j=IT(),z=PT(),I=UT(),Q=Lh(),O=zT(),U=qT(),Z=BT(),G=HT(),W=GT();return Lf={parse:s,valid:o,clean:c,inc:d,diff:h,major:m,minor:g,patch:y,prerelease:b,compare:_,rcompare:x,compareLoose:E,compareBuild:A,sort:N,rsort:D,gt:k,lt:F,eq:q,neq:ee,gte:ne,lte:H,cmp:Ne,coerce:ct,Comparator:We,Range:qe,satisfies:bt,toComparators:te,maxSatisfying:X,minSatisfying:j,minVersion:z,validRange:I,outside:Q,gtr:O,ltr:U,intersects:Z,simplifyRange:G,subset:W,SemVer:n,re:i.re,src:i.src,tokens:i.t,SEMVER_SPEC_VERSION:e.SEMVER_SPEC_VERSION,RELEASE_TYPES:e.RELEASE_TYPES,compareIdentifiers:r.compareIdentifiers,rcompareIdentifiers:r.rcompareIdentifiers},Lf}VT();function Ua(i){if(!i||i.split("/").length>2||i.startsWith("/")||i.endsWith("/")||i.split(":").length>2)throw new Error(`Invalid identifier format: ${i}`);const[e,n]=i.split(":"),r=n||"latest";if(e.includes("/")){const[s,o]=e.split("/",2);if(!s||!o)throw new Error(`Invalid identifier format: ${i}`);return[s,o,r]}else{if(!e)throw new Error(`Invalid identifier format: ${i}`);return["-",e,r]}}class ZT extends Error{constructor(e){super(e),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="LangSmithConflictError",this.status=409}}async function _e(i,e,n){let r;if(i.ok){n&&(r=await i.text());return}r=await i.text();const s=`Failed to ${e}. Received status [${i.status}]: ${i.statusText}. Server response: ${r}`;if(i.status===409)throw new ZT(s);const o=new Error(s);throw o.status=i.status,o}var Cv="[...]",YT={result:"[Circular]"},Uo=[],ui=[];const FT=new TextEncoder;function XT(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function To(i){return FT.encode(i)}function Jt(i,e,n,r,s){var o;try{const c=JSON.stringify(i,n,r);return To(c)}catch(c){if(!((o=c.message)!=null&&o.includes("Converting circular structure to JSON")))return console.warn(`[WARNING]: LangSmith received unserializable value.${e?`
Context: ${e}`:""}`),To("[Unserializable]");console.warn(`[WARNING]: LangSmith received circular JSON. This will decrease tracer performance. ${e?`
Context: ${e}`:""}`),typeof s>"u"&&(s=XT()),lh(i,"",0,[],void 0,0,s);let d;try{ui.length===0?d=JSON.stringify(i,n,r):d=JSON.stringify(i,QT(n),r)}catch{return To("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;Uo.length!==0;){const h=Uo.pop();h.length===4?Object.defineProperty(h[0],h[1],h[3]):h[0][h[1]]=h[2]}}return To(d)}}function $f(i,e,n,r){var s=Object.getOwnPropertyDescriptor(r,n);s.get!==void 0?s.configurable?(Object.defineProperty(r,n,{value:i}),Uo.push([r,n,e,s])):ui.push([e,n,i]):(r[n]=i,Uo.push([r,n,e]))}function lh(i,e,n,r,s,o,c){o+=1;var d;if(typeof i=="object"&&i!==null){for(d=0;d<r.length;d++)if(r[d]===i){$f(YT,i,e,s);return}if(typeof c.depthLimit<"u"&&o>c.depthLimit){$f(Cv,i,e,s);return}if(typeof c.edgesLimit<"u"&&n+1>c.edgesLimit){$f(Cv,i,e,s);return}if(r.push(i),Array.isArray(i))for(d=0;d<i.length;d++)lh(i[d],d,d,r,i,o,c);else{var h=Object.keys(i);for(d=0;d<h.length;d++){var m=h[d];lh(i[m],m,d,r,i,o,c)}}r.pop()}}function QT(i){return i=typeof i<"u"?i:function(e,n){return n},function(e,n){if(ui.length>0)for(var r=0;r<ui.length;r++){var s=ui[r];if(s[1]===e&&s[0]===n){n=s[2],ui.splice(r,1);break}}return i.call(this,e,n)}}function Mv(i){const e=W_(),n=uA(),r=i.extra??{},s=r.metadata;return i.extra={...r,runtime:{...e,...r==null?void 0:r.runtime},metadata:{...n,...n.revision_id||i.revision_id?{revision_id:i.revision_id??n.revision_id}:{},...s}},i}const JT=i=>{const e=(i==null?void 0:i.toString())??Dn("TRACING_SAMPLING_RATE");if(e===void 0)return;const n=parseFloat(e);if(n<0||n>1)throw new Error(`LANGSMITH_TRACING_SAMPLING_RATE must be between 0 and 1 if set. Got: ${n}`);return n},KT=i=>{const n=i.replace("http://","").replace("https://","").split("/")[0].split(":")[0];return n==="localhost"||n==="127.0.0.1"||n==="::1"};async function WT(i){const e=[];for await(const n of i)e.push(n);return e}function Df(i){if(i!==void 0)return i.trim().replace(/^"(.*)"$/,"$1").replace(/^'(.*)'$/,"$1")}const eA=async i=>{if((i==null?void 0:i.status)===429){const e=parseInt(i.headers.get("retry-after")??"30",10)*1e3;if(e>0)return await new Promise(n=>setTimeout(n,e)),!0}return!1};function Lv(i){return typeof i=="number"?Number(i.toFixed(4)):i}class tA{constructor(){Object.defineProperty(this,"items",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"sizeBytes",{enumerable:!0,configurable:!0,writable:!0,value:0})}peek(){return this.items[0]}push(e){let n;const r=new Promise(o=>{n=o}),s=Jt(e.item,`Serializing run with id: ${e.item.id}`).length;return this.items.push({action:e.action,payload:e.item,itemPromiseResolve:n,itemPromise:r,size:s}),this.sizeBytes+=s,r}pop(e){var s;if(e<1)throw new Error("Number of bytes to pop off may not be less than 1.");const n=[];let r=0;for(;r+(((s=this.peek())==null?void 0:s.size)??0)<e&&this.items.length>0;){const o=this.items.shift();o&&(n.push(o),r+=o.size,this.sizeBytes-=o.size)}if(n.length===0&&this.items.length>0){const o=this.items.shift();n.push(o),r+=o.size,this.sizeBytes-=o.size}return[n.map(o=>({action:o.action,item:o.payload})),()=>n.forEach(o=>o.itemPromiseResolve())]}}const nA=20971520,aA=2500;class Zs{constructor(e={}){var r;Object.defineProperty(this,"apiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"apiUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"webUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"caller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"batchIngestCaller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timeout_ms",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tenantId",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"hideInputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"hideOutputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tracingSampleRate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"filteredPostUuids",{enumerable:!0,configurable:!0,writable:!0,value:new Set}),Object.defineProperty(this,"autoBatchTracing",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"autoBatchQueue",{enumerable:!0,configurable:!0,writable:!0,value:new tA}),Object.defineProperty(this,"autoBatchTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"autoBatchAggregationDelayMs",{enumerable:!0,configurable:!0,writable:!0,value:250}),Object.defineProperty(this,"batchSizeBytesLimit",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fetchOptions",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"blockOnRootRunFinalization",{enumerable:!0,configurable:!0,writable:!0,value:Ga("LANGSMITH_TRACING_BACKGROUND")==="false"}),Object.defineProperty(this,"traceBatchConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:5}),Object.defineProperty(this,"_serverInfo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_getServerInfoPromise",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"manualFlushMode",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"debug",{enumerable:!0,configurable:!0,writable:!0,value:Ga("LANGSMITH_DEBUG")==="true"});const n=Zs.getDefaultClientConfig();if(this.tracingSampleRate=JT(e.tracingSamplingRate),this.apiUrl=Df(e.apiUrl??n.apiUrl)??"",this.apiUrl.endsWith("/")&&(this.apiUrl=this.apiUrl.slice(0,-1)),this.apiKey=Df(e.apiKey??n.apiKey),this.webUrl=Df(e.webUrl??n.webUrl),(r=this.webUrl)!=null&&r.endsWith("/")&&(this.webUrl=this.webUrl.slice(0,-1)),this.timeout_ms=e.timeout_ms??9e4,this.caller=new Ib({...e.callerOptions??{},debug:e.debug??this.debug}),this.traceBatchConcurrency=e.traceBatchConcurrency??this.traceBatchConcurrency,this.traceBatchConcurrency<1)throw new Error("Trace batch concurrency must be positive.");this.debug=e.debug??this.debug,this.batchIngestCaller=new Ib({maxRetries:2,maxConcurrency:this.traceBatchConcurrency,...e.callerOptions??{},onFailedResponseHook:eA,debug:e.debug??this.debug}),this.hideInputs=e.hideInputs??e.anonymizer??n.hideInputs,this.hideOutputs=e.hideOutputs??e.anonymizer??n.hideOutputs,this.autoBatchTracing=e.autoBatchTracing??this.autoBatchTracing,this.blockOnRootRunFinalization=e.blockOnRootRunFinalization??this.blockOnRootRunFinalization,this.batchSizeBytesLimit=e.batchSizeBytesLimit,this.fetchOptions=e.fetchOptions||{},this.manualFlushMode=e.manualFlushMode??this.manualFlushMode}static getDefaultClientConfig(){const e=Dn("API_KEY"),n=Dn("ENDPOINT")??"https://api.smith.langchain.com",r=Dn("HIDE_INPUTS")==="true",s=Dn("HIDE_OUTPUTS")==="true";return{apiUrl:n,apiKey:e,webUrl:void 0,hideInputs:r,hideOutputs:s}}getHostUrl(){return this.webUrl?this.webUrl:KT(this.apiUrl)?(this.webUrl="http://localhost:3000",this.webUrl):this.apiUrl.endsWith("/api/v1")?(this.webUrl=this.apiUrl.replace("/api/v1",""),this.webUrl):this.apiUrl.includes("/api")&&!this.apiUrl.split(".",1)[0].endsWith("api")?(this.webUrl=this.apiUrl.replace("/api",""),this.webUrl):this.apiUrl.split(".",1)[0].includes("dev")?(this.webUrl="https://dev.smith.langchain.com",this.webUrl):this.apiUrl.split(".",1)[0].includes("eu")?(this.webUrl="https://eu.smith.langchain.com",this.webUrl):this.apiUrl.split(".",1)[0].includes("beta")?(this.webUrl="https://beta.smith.langchain.com",this.webUrl):(this.webUrl="https://smith.langchain.com",this.webUrl)}get headers(){const e={"User-Agent":`langsmith-js/${J_}`};return this.apiKey&&(e["x-api-key"]=`${this.apiKey}`),e}async processInputs(e){return this.hideInputs===!1?e:this.hideInputs===!0?{}:typeof this.hideInputs=="function"?this.hideInputs(e):e}async processOutputs(e){return this.hideOutputs===!1?e:this.hideOutputs===!0?{}:typeof this.hideOutputs=="function"?this.hideOutputs(e):e}async prepareRunCreateOrUpdateInputs(e){const n={...e};return n.inputs!==void 0&&(n.inputs=await this.processInputs(n.inputs)),n.outputs!==void 0&&(n.outputs=await this.processOutputs(n.outputs)),n}async _getResponse(e,n){const r=(n==null?void 0:n.toString())??"",s=`${this.apiUrl}${e}?${r}`,o=await this.caller.call(fe(this.debug),s,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await _e(o,`Failed to fetch ${e}`),o}async _get(e,n){return(await this._getResponse(e,n)).json()}async*_getPaginated(e,n=new URLSearchParams,r){let s=Number(n.get("offset"))||0;const o=Number(n.get("limit"))||100;for(;;){n.set("offset",String(s)),n.set("limit",String(o));const c=`${this.apiUrl}${e}?${n}`,d=await this.caller.call(fe(this.debug),c,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await _e(d,`Failed to fetch ${e}`);const h=r?r(await d.json()):await d.json();if(h.length===0||(yield h,h.length<o))break;s+=h.length}}async*_getCursorPaginatedList(e,n=null,r="POST",s="runs"){const o=n?{...n}:{};for(;;){const d=await(await this.caller.call(fe(this.debug),`${this.apiUrl}${e}`,{method:r,headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:JSON.stringify(o)})).json();if(!d||!d[s])break;yield d[s];const h=d.cursors;if(!h||!h.next)break;o.cursor=h.next}}_shouldSample(){return this.tracingSampleRate===void 0?!0:Math.random()<this.tracingSampleRate}_filterForSampling(e,n=!1){if(this.tracingSampleRate===void 0)return e;if(n){const r=[];for(const s of e)this.filteredPostUuids.has(s.id)?this.filteredPostUuids.delete(s.id):r.push(s);return r}else{const r=[];for(const s of e){const o=s.trace_id??s.id;this.filteredPostUuids.has(o)||(s.id===o?this._shouldSample()?r.push(s):this.filteredPostUuids.add(o):r.push(s))}return r}}async _getBatchSizeLimitBytes(){var n;const e=await this._ensureServerInfo();return this.batchSizeBytesLimit??((n=e.batch_ingest_config)==null?void 0:n.size_limit_bytes)??nA}async _getMultiPartSupport(){var n;return((n=(await this._ensureServerInfo()).instance_flags)==null?void 0:n.dataset_examples_multipart_enabled)??!1}drainAutoBatchQueue(e){const n=[];for(;this.autoBatchQueue.items.length>0;){const[r,s]=this.autoBatchQueue.pop(e);if(!r.length){s();break}const o=this._processBatch(r,s).catch(console.error);n.push(o)}return Promise.all(n)}async _processBatch(e,n){var r;if(!e.length){n();return}try{const s={runCreates:e.filter(c=>c.action==="create").map(c=>c.item),runUpdates:e.filter(c=>c.action==="update").map(c=>c.item)},o=await this._ensureServerInfo();(r=o==null?void 0:o.batch_ingest_config)!=null&&r.use_multipart_endpoint?await this.multipartIngestRuns(s):await this.batchIngestRuns(s)}finally{n()}}async processRunOperation(e){clearTimeout(this.autoBatchTimeout),this.autoBatchTimeout=void 0,e.action==="create"&&(e.item=Mv(e.item));const n=this.autoBatchQueue.push(e);if(this.manualFlushMode)return n;const r=await this._getBatchSizeLimitBytes();return this.autoBatchQueue.sizeBytes>r&&this.drainAutoBatchQueue(r),this.autoBatchQueue.items.length>0&&(this.autoBatchTimeout=setTimeout(()=>{this.autoBatchTimeout=void 0,this.drainAutoBatchQueue(r)},this.autoBatchAggregationDelayMs)),n}async _getServerInfo(){const e=await this.caller.call(fe(this.debug),`${this.apiUrl}/info`,{method:"GET",headers:{Accept:"application/json"},signal:AbortSignal.timeout(aA),...this.fetchOptions});await _e(e,"get server info");const n=await e.json();return this.debug&&console.log(`
=== LangSmith Server Configuration ===
`+JSON.stringify(n,null,2)+`
`),n}async _ensureServerInfo(){return this._getServerInfoPromise===void 0&&(this._getServerInfoPromise=(async()=>{if(this._serverInfo===void 0)try{this._serverInfo=await this._getServerInfo()}catch(e){console.warn(`[WARNING]: LangSmith failed to fetch info on supported operations with status code ${e.status}. Falling back to batch operations and default limits.`)}return this._serverInfo??{}})()),this._getServerInfoPromise.then(e=>(this._serverInfo===void 0&&(this._getServerInfoPromise=void 0),e))}async _getSettings(){return this.settings||(this.settings=this._get("/settings")),await this.settings}async flush(){const e=await this._getBatchSizeLimitBytes();await this.drainAutoBatchQueue(e)}async createRun(e){if(!this._filterForSampling([e]).length)return;const n={...this.headers,"Content-Type":"application/json"},r=e.project_name;delete e.project_name;const s=await this.prepareRunCreateOrUpdateInputs({session_name:r,...e,start_time:e.start_time??Date.now()});if(this.autoBatchTracing&&s.trace_id!==void 0&&s.dotted_order!==void 0){this.processRunOperation({action:"create",item:s}).catch(console.error);return}const o=Mv(s),c=await this.caller.call(fe(this.debug),`${this.apiUrl}/runs`,{method:"POST",headers:n,body:Jt(o,`Creating run with id: ${o.id}`),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await _e(c,"create run",!0)}async batchIngestRuns({runCreates:e,runUpdates:n}){if(e===void 0&&n===void 0)return;let r=await Promise.all((e==null?void 0:e.map(d=>this.prepareRunCreateOrUpdateInputs(d)))??[]),s=await Promise.all((n==null?void 0:n.map(d=>this.prepareRunCreateOrUpdateInputs(d)))??[]);if(r.length>0&&s.length>0){const d=r.reduce((m,g)=>(g.id&&(m[g.id]=g),m),{}),h=[];for(const m of s)m.id!==void 0&&d[m.id]?d[m.id]={...d[m.id],...m}:h.push(m);r=Object.values(d),s=h}const o={post:r,patch:s};if(!o.post.length&&!o.patch.length)return;const c={post:[],patch:[]};for(const d of["post","patch"]){const h=d,m=o[h].reverse();let g=m.pop();for(;g!==void 0;)c[h].push(g),g=m.pop()}if(c.post.length>0||c.patch.length>0){const d=c.post.map(h=>h.id).concat(c.patch.map(h=>h.id)).join(",");await this._postBatchIngestRuns(Jt(c,`Ingesting runs with ids: ${d}`))}}async _postBatchIngestRuns(e){const n={...this.headers,"Content-Type":"application/json",Accept:"application/json"},r=await this.batchIngestCaller.call(fe(this.debug),`${this.apiUrl}/runs/batch`,{method:"POST",headers:n,body:e,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await _e(r,"batch create run",!0)}async multipartIngestRuns({runCreates:e,runUpdates:n}){if(e===void 0&&n===void 0)return;const r={};let s=[];for(const g of e??[]){const y=await this.prepareRunCreateOrUpdateInputs(g);y.id!==void 0&&y.attachments!==void 0&&(r[y.id]=y.attachments),delete y.attachments,s.push(y)}let o=[];for(const g of n??[])o.push(await this.prepareRunCreateOrUpdateInputs(g));if(s.find(g=>g.trace_id===void 0||g.dotted_order===void 0)!==void 0)throw new Error('Multipart ingest requires "trace_id" and "dotted_order" to be set when creating a run');if(o.find(g=>g.trace_id===void 0||g.dotted_order===void 0)!==void 0)throw new Error('Multipart ingest requires "trace_id" and "dotted_order" to be set when updating a run');if(s.length>0&&o.length>0){const g=s.reduce((b,_)=>(_.id&&(b[_.id]=_),b),{}),y=[];for(const b of o)b.id!==void 0&&g[b.id]?g[b.id]={...g[b.id],...b}:y.push(b);s=Object.values(g),o=y}if(s.length===0&&o.length===0)return;const h=[],m=[];for(const[g,y]of[["post",s],["patch",o]])for(const b of y){const{inputs:_,outputs:x,events:E,attachments:A,...N}=b,D={inputs:_,outputs:x,events:E},k=Jt(N,`Serializing for multipart ingestion of run with id: ${N.id}`);m.push({name:`${g}.${N.id}`,payload:new Blob([k],{type:`application/json; length=${k.length}`})});for(const[F,q]of Object.entries(D)){if(q===void 0)continue;const ee=Jt(q,`Serializing ${F} for multipart ingestion of run with id: ${N.id}`);m.push({name:`${g}.${N.id}.${F}`,payload:new Blob([ee],{type:`application/json; length=${ee.length}`})})}if(N.id!==void 0){const F=r[N.id];if(F){delete r[N.id];for(const[q,ee]of Object.entries(F)){let ne,H;if(Array.isArray(ee)?[ne,H]=ee:(ne=ee.mimeType,H=ee.data),q.includes(".")){console.warn(`Skipping attachment '${q}' for run ${N.id}: Invalid attachment name. Attachment names must not contain periods ('.'). Please rename the attachment and try again.`);continue}m.push({name:`attachment.${N.id}.${q}`,payload:new Blob([H],{type:`${ne}; length=${H.byteLength}`})})}}}h.push(`trace=${N.trace_id},id=${N.id}`)}await this._sendMultipartRequest(m,h.join("; "))}async _createNodeFetchBody(e,n){const r=[];for(const c of e)r.push(new Blob([`--${n}\r
`])),r.push(new Blob([`Content-Disposition: form-data; name="${c.name}"\r
`,`Content-Type: ${c.payload.type}\r
\r
`])),r.push(c.payload),r.push(new Blob([`\r
`]));return r.push(new Blob([`--${n}--\r
`])),await new Blob(r).arrayBuffer()}async _createMultipartStream(e,n){const r=new TextEncoder;return new ReadableStream({async start(o){const c=async d=>{typeof d=="string"?o.enqueue(r.encode(d)):o.enqueue(d)};for(const d of e){await c(`--${n}\r
`),await c(`Content-Disposition: form-data; name="${d.name}"\r
`),await c(`Content-Type: ${d.payload.type}\r
\r
`);const m=d.payload.stream().getReader();try{let g;for(;!(g=await m.read()).done;)o.enqueue(g.value)}finally{m.releaseLock()}await c(`\r
`)}await c(`--${n}--\r
`),o.close()}})}async _sendMultipartRequest(e,n){try{const r="----LangSmithFormBoundary"+Math.random().toString(36).slice(2),s=await(bT()?this._createNodeFetchBody(e,r):this._createMultipartStream(e,r)),o=await this.batchIngestCaller.call(fe(this.debug),`${this.apiUrl}/runs/multipart`,{method:"POST",headers:{...this.headers,"Content-Type":`multipart/form-data; boundary=${r}`},body:s,duplex:"half",signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await _e(o,"ingest multipart runs",!0)}catch(r){console.warn(`${r.message.trim()}

Context: ${n}`)}}async updateRun(e,n){be(e),n.inputs&&(n.inputs=await this.processInputs(n.inputs)),n.outputs&&(n.outputs=await this.processOutputs(n.outputs));const r={...n,id:e};if(!this._filterForSampling([r],!0).length)return;if(this.autoBatchTracing&&r.trace_id!==void 0&&r.dotted_order!==void 0){if(n.end_time!==void 0&&r.parent_run_id===void 0&&this.blockOnRootRunFinalization&&!this.manualFlushMode){await this.processRunOperation({action:"update",item:r}).catch(console.error);return}else this.processRunOperation({action:"update",item:r}).catch(console.error);return}const s={...this.headers,"Content-Type":"application/json"},o=await this.caller.call(fe(this.debug),`${this.apiUrl}/runs/${e}`,{method:"PATCH",headers:s,body:Jt(n,`Serializing payload to update run with id: ${e}`),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await _e(o,"update run",!0)}async readRun(e,{loadChildRuns:n}={loadChildRuns:!1}){be(e);let r=await this._get(`/runs/${e}`);return n&&(r=await this._loadChildRuns(r)),r}async getRunUrl({runId:e,run:n,projectOpts:r}){if(n!==void 0){let s;n.session_id?s=n.session_id:r!=null&&r.projectName?s=(await this.readProject({projectName:r==null?void 0:r.projectName})).id:r!=null&&r.projectId?s=r==null?void 0:r.projectId:s=(await this.readProject({projectName:Dn("PROJECT")||"default"})).id;const o=await this._getTenantId();return`${this.getHostUrl()}/o/${o}/projects/p/${s}/r/${n.id}?poll=true`}else if(e!==void 0){const s=await this.readRun(e);if(!s.app_path)throw new Error(`Run ${e} has no app_path`);return`${this.getHostUrl()}${s.app_path}`}else throw new Error("Must provide either runId or run")}async _loadChildRuns(e){var o;const n=await WT(this.listRuns({isRoot:!1,projectId:e.session_id,traceId:e.trace_id})),r={},s={};n.sort((c,d)=>((c==null?void 0:c.dotted_order)??"").localeCompare((d==null?void 0:d.dotted_order)??""));for(const c of n){if(c.parent_run_id===null||c.parent_run_id===void 0)throw new Error(`Child run ${c.id} has no parent`);(o=c.dotted_order)!=null&&o.startsWith(e.dotted_order??"")&&c.id!==e.id&&(c.parent_run_id in r||(r[c.parent_run_id]=[]),r[c.parent_run_id].push(c),s[c.id]=c)}e.child_runs=r[e.id]||[];for(const c in r)c!==e.id&&(s[c].child_runs=r[c]);return e}async*listRuns(e){const{projectId:n,projectName:r,parentRunId:s,traceId:o,referenceExampleId:c,startTime:d,executionOrder:h,isRoot:m,runType:g,error:y,id:b,query:_,filter:x,traceFilter:E,treeFilter:A,limit:N,select:D,order:k}=e;let F=[];if(n&&(F=Array.isArray(n)?n:[n]),r){const H=Array.isArray(r)?r:[r],Ne=await Promise.all(H.map(ct=>this.readProject({projectName:ct}).then(We=>We.id)));F.push(...Ne)}const q=["app_path","completion_cost","completion_tokens","dotted_order","end_time","error","events","extra","feedback_stats","first_token_time","id","inputs","name","outputs","parent_run_id","parent_run_ids","prompt_cost","prompt_tokens","reference_example_id","run_type","session_id","start_time","status","tags","total_cost","total_tokens","trace_id"],ee={session:F.length?F:null,run_type:g,reference_example:c,query:_,filter:x,trace_filter:E,tree_filter:A,execution_order:h,parent_run:s,start_time:d?d.toISOString():null,error:y,id:b,limit:N,trace:o,select:D||q,is_root:m,order:k};let ne=0;for await(const H of this._getCursorPaginatedList("/runs/query",ee))if(N){if(ne>=N)break;if(H.length+ne>N){yield*H.slice(0,N-ne);break}ne+=H.length,yield*H}else yield*H}async*listGroupRuns(e){const{projectId:n,projectName:r,groupBy:s,filter:o,startTime:c,endTime:d,limit:h,offset:m}=e,y={session_id:n||(await this.readProject({projectName:r})).id,group_by:s,filter:o,start_time:c?c.toISOString():null,end_time:d?d.toISOString():null,limit:Number(h)||100};let b=Number(m)||0;const _="/runs/group",x=`${this.apiUrl}${_}`;for(;;){const E={...y,offset:b},A=Object.fromEntries(Object.entries(E).filter(([q,ee])=>ee!==void 0)),N=await this.caller.call(fe(),x,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(A),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await _e(N,`Failed to fetch ${_}`);const D=await N.json(),{groups:k,total:F}=D;if(k.length===0)break;for(const q of k)yield q;if(b+=k.length,b>=F)break}}async getRunStats({id:e,trace:n,parentRun:r,runType:s,projectNames:o,projectIds:c,referenceExampleIds:d,startTime:h,endTime:m,error:g,query:y,filter:b,traceFilter:_,treeFilter:x,isRoot:E,dataSourceType:A}){let N=c||[];o&&(N=[...c||[],...await Promise.all(o.map(ee=>this.readProject({projectName:ee}).then(ne=>ne.id)))]);const k=Object.fromEntries(Object.entries({id:e,trace:n,parent_run:r,run_type:s,session:N,reference_example:d,start_time:h,end_time:m,error:g,query:y,filter:b,trace_filter:_,tree_filter:x,is_root:E,data_source_type:A}).filter(([ee,ne])=>ne!==void 0));return await(await this.caller.call(fe(this.debug),`${this.apiUrl}/runs/stats`,{method:"POST",headers:this.headers,body:JSON.stringify(k),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json()}async shareRun(e,{shareId:n}={}){const r={run_id:e,share_token:n||Ct()};be(e);const o=await(await this.caller.call(fe(this.debug),`${this.apiUrl}/runs/${e}/share`,{method:"PUT",headers:this.headers,body:JSON.stringify(r),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json();if(o===null||!("share_token"in o))throw new Error("Invalid response from server");return`${this.getHostUrl()}/public/${o.share_token}/r`}async unshareRun(e){be(e);const n=await this.caller.call(fe(this.debug),`${this.apiUrl}/runs/${e}/share`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await _e(n,"unshare run",!0)}async readRunSharedLink(e){be(e);const r=await(await this.caller.call(fe(this.debug),`${this.apiUrl}/runs/${e}/share`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json();if(!(r===null||!("share_token"in r)))return`${this.getHostUrl()}/public/${r.share_token}/r`}async listSharedRuns(e,{runIds:n}={}){const r=new URLSearchParams({share_token:e});if(n!==void 0)for(const c of n)r.append("id",c);return be(e),await(await this.caller.call(fe(this.debug),`${this.apiUrl}/public/${e}/runs${r}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json()}async readDatasetSharedSchema(e,n){if(!e&&!n)throw new Error("Either datasetId or datasetName must be given");e||(e=(await this.readDataset({datasetName:n})).id),be(e);const s=await(await this.caller.call(fe(this.debug),`${this.apiUrl}/datasets/${e}/share`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json();return s.url=`${this.getHostUrl()}/public/${s.share_token}/d`,s}async shareDataset(e,n){if(!e&&!n)throw new Error("Either datasetId or datasetName must be given");e||(e=(await this.readDataset({datasetName:n})).id);const r={dataset_id:e};be(e);const o=await(await this.caller.call(fe(this.debug),`${this.apiUrl}/datasets/${e}/share`,{method:"PUT",headers:this.headers,body:JSON.stringify(r),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json();return o.url=`${this.getHostUrl()}/public/${o.share_token}/d`,o}async unshareDataset(e){be(e);const n=await this.caller.call(fe(this.debug),`${this.apiUrl}/datasets/${e}/share`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await _e(n,"unshare dataset",!0)}async readSharedDataset(e){return be(e),await(await this.caller.call(fe(this.debug),`${this.apiUrl}/public/${e}/datasets`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json()}async listSharedExamples(e,n){const r={};n!=null&&n.exampleIds&&(r.id=n.exampleIds);const s=new URLSearchParams;Object.entries(r).forEach(([d,h])=>{Array.isArray(h)?h.forEach(m=>s.append(d,m)):s.append(d,h)});const o=await this.caller.call(fe(this.debug),`${this.apiUrl}/public/${e}/examples?${s.toString()}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions}),c=await o.json();if(!o.ok)throw"detail"in c?new Error(`Failed to list shared examples.
Status: ${o.status}
Message: ${Array.isArray(c.detail)?c.detail.join(`
`):"Unspecified error"}`):new Error(`Failed to list shared examples: ${o.status} ${o.statusText}`);return c.map(d=>({...d,_hostUrl:this.getHostUrl()}))}async createProject({projectName:e,description:n=null,metadata:r=null,upsert:s=!1,projectExtra:o=null,referenceDatasetId:c=null}){const d=s?"?upsert=true":"",h=`${this.apiUrl}/sessions${d}`,m=o||{};r&&(m.metadata=r);const g={name:e,extra:m,description:n};c!==null&&(g.reference_dataset_id=c);const y=await this.caller.call(fe(this.debug),h,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(g),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await _e(y,"create project"),await y.json()}async updateProject(e,{name:n=null,description:r=null,metadata:s=null,projectExtra:o=null,endTime:c=null}){const d=`${this.apiUrl}/sessions/${e}`;let h=o;s&&(h={...h||{},metadata:s});const m={name:n,extra:h,description:r,end_time:c?new Date(c).toISOString():null},g=await this.caller.call(fe(this.debug),d,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(m),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await _e(g,"update project"),await g.json()}async hasProject({projectId:e,projectName:n}){let r="/sessions";const s=new URLSearchParams;if(e!==void 0&&n!==void 0)throw new Error("Must provide either projectName or projectId, not both");if(e!==void 0)be(e),r+=`/${e}`;else if(n!==void 0)s.append("name",n);else throw new Error("Must provide projectName or projectId");const o=await this.caller.call(fe(this.debug),`${this.apiUrl}${r}?${s}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});try{const c=await o.json();return o.ok?Array.isArray(c)?c.length>0:!0:!1}catch{return!1}}async readProject({projectId:e,projectName:n,includeStats:r}){let s="/sessions";const o=new URLSearchParams;if(e!==void 0&&n!==void 0)throw new Error("Must provide either projectName or projectId, not both");if(e!==void 0)be(e),s+=`/${e}`;else if(n!==void 0)o.append("name",n);else throw new Error("Must provide projectName or projectId");r!==void 0&&o.append("include_stats",r.toString());const c=await this._get(s,o);let d;if(Array.isArray(c)){if(c.length===0)throw new Error(`Project[id=${e}, name=${n}] not found`);d=c[0]}else d=c;return d}async getProjectUrl({projectId:e,projectName:n}){if(e===void 0&&n===void 0)throw new Error("Must provide either projectName or projectId");const r=await this.readProject({projectId:e,projectName:n}),s=await this._getTenantId();return`${this.getHostUrl()}/o/${s}/projects/p/${r.id}`}async getDatasetUrl({datasetId:e,datasetName:n}){if(e===void 0&&n===void 0)throw new Error("Must provide either datasetName or datasetId");const r=await this.readDataset({datasetId:e,datasetName:n}),s=await this._getTenantId();return`${this.getHostUrl()}/o/${s}/datasets/${r.id}`}async _getTenantId(){if(this._tenantId!==null)return this._tenantId;const e=new URLSearchParams({limit:"1"});for await(const n of this._getPaginated("/sessions",e))return this._tenantId=n[0].tenant_id,n[0].tenant_id;throw new Error("No projects found to resolve tenant.")}async*listProjects({projectIds:e,name:n,nameContains:r,referenceDatasetId:s,referenceDatasetName:o,referenceFree:c,metadata:d}={}){const h=new URLSearchParams;if(e!==void 0)for(const m of e)h.append("id",m);if(n!==void 0&&h.append("name",n),r!==void 0&&h.append("name_contains",r),s!==void 0)h.append("reference_dataset",s);else if(o!==void 0){const m=await this.readDataset({datasetName:o});h.append("reference_dataset",m.id)}c!==void 0&&h.append("reference_free",c.toString()),d!==void 0&&h.append("metadata",JSON.stringify(d));for await(const m of this._getPaginated("/sessions",h))yield*m}async deleteProject({projectId:e,projectName:n}){let r;if(e===void 0&&n===void 0)throw new Error("Must provide projectName or projectId");if(e!==void 0&&n!==void 0)throw new Error("Must provide either projectName or projectId, not both");e===void 0?r=(await this.readProject({projectName:n})).id:r=e,be(r);const s=await this.caller.call(fe(this.debug),`${this.apiUrl}/sessions/${r}`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await _e(s,`delete session ${r} (${n})`,!0)}async uploadCsv({csvFile:e,fileName:n,inputKeys:r,outputKeys:s,description:o,dataType:c,name:d}){const h=`${this.apiUrl}/datasets/upload`,m=new FormData;m.append("file",e,n),r.forEach(b=>{m.append("input_keys",b)}),s.forEach(b=>{m.append("output_keys",b)}),o&&m.append("description",o),c&&m.append("data_type",c),d&&m.append("name",d);const g=await this.caller.call(fe(this.debug),h,{method:"POST",headers:this.headers,body:m,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await _e(g,"upload CSV"),await g.json()}async createDataset(e,{description:n,dataType:r,inputsSchema:s,outputsSchema:o,metadata:c}={}){const d={name:e,description:n,extra:c?{metadata:c}:void 0};r&&(d.data_type=r),s&&(d.inputs_schema_definition=s),o&&(d.outputs_schema_definition=o);const h=await this.caller.call(fe(this.debug),`${this.apiUrl}/datasets`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(d),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await _e(h,"create dataset"),await h.json()}async readDataset({datasetId:e,datasetName:n}){let r="/datasets";const s=new URLSearchParams({limit:"1"});if(e!==void 0&&n!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");if(e!==void 0)be(e),r+=`/${e}`;else if(n!==void 0)s.append("name",n);else throw new Error("Must provide datasetName or datasetId");const o=await this._get(r,s);let c;if(Array.isArray(o)){if(o.length===0)throw new Error(`Dataset[id=${e}, name=${n}] not found`);c=o[0]}else c=o;return c}async hasDataset({datasetId:e,datasetName:n}){try{return await this.readDataset({datasetId:e,datasetName:n}),!0}catch(r){if(r instanceof Error&&r.message.toLocaleLowerCase().includes("not found"))return!1;throw r}}async diffDatasetVersions({datasetId:e,datasetName:n,fromVersion:r,toVersion:s}){let o=e;if(o===void 0&&n===void 0)throw new Error("Must provide either datasetName or datasetId");if(o!==void 0&&n!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");o===void 0&&(o=(await this.readDataset({datasetName:n})).id);const c=new URLSearchParams({from_version:typeof r=="string"?r:r.toISOString(),to_version:typeof s=="string"?s:s.toISOString()});return await this._get(`/datasets/${o}/versions/diff`,c)}async readDatasetOpenaiFinetuning({datasetId:e,datasetName:n}){const r="/datasets";if(e===void 0)if(n!==void 0)e=(await this.readDataset({datasetName:n})).id;else throw new Error("Must provide either datasetName or datasetId");return(await(await this._getResponse(`${r}/${e}/openai_ft`)).text()).trim().split(`
`).map(d=>JSON.parse(d))}async*listDatasets({limit:e=100,offset:n=0,datasetIds:r,datasetName:s,datasetNameContains:o,metadata:c}={}){const d="/datasets",h=new URLSearchParams({limit:e.toString(),offset:n.toString()});if(r!==void 0)for(const m of r)h.append("id",m);s!==void 0&&h.append("name",s),o!==void 0&&h.append("name_contains",o),c!==void 0&&h.append("metadata",JSON.stringify(c));for await(const m of this._getPaginated(d,h))yield*m}async updateDataset(e){const{datasetId:n,datasetName:r,...s}=e;if(!n&&!r)throw new Error("Must provide either datasetName or datasetId");const o=n??(await this.readDataset({datasetName:r})).id;be(o);const c=await this.caller.call(fe(this.debug),`${this.apiUrl}/datasets/${o}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(s),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await _e(c,"update dataset"),await c.json()}async updateDatasetTag(e){const{datasetId:n,datasetName:r,asOf:s,tag:o}=e;if(!n&&!r)throw new Error("Must provide either datasetName or datasetId");const c=n??(await this.readDataset({datasetName:r})).id;be(c);const d=await this.caller.call(fe(this.debug),`${this.apiUrl}/datasets/${c}/tags`,{method:"PUT",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify({as_of:typeof s=="string"?s:s.toISOString(),tag:o}),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await _e(d,"update dataset tags")}async deleteDataset({datasetId:e,datasetName:n}){let r="/datasets",s=e;if(e!==void 0&&n!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");if(n!==void 0&&(s=(await this.readDataset({datasetName:n})).id),s!==void 0)be(s),r+=`/${s}`;else throw new Error("Must provide datasetName or datasetId");const o=await this.caller.call(fe(this.debug),this.apiUrl+r,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await _e(o,`delete ${r}`),await o.json()}async indexDataset({datasetId:e,datasetName:n,tag:r}){let s=e;if(!s&&!n)throw new Error("Must provide either datasetName or datasetId");if(s&&n)throw new Error("Must provide either datasetName or datasetId, not both");s||(s=(await this.readDataset({datasetName:n})).id),be(s);const o={tag:r},c=await this.caller.call(fe(this.debug),`${this.apiUrl}/datasets/${s}/index`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(o),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await _e(c,"index dataset"),await c.json()}async similarExamples(e,n,r,{filter:s}={}){const o={limit:r,inputs:e};s!==void 0&&(o.filter=s),be(n);const c=await this.caller.call(fe(this.debug),`${this.apiUrl}/datasets/${n}/search`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(o),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await _e(c,"fetch similar examples"),(await c.json()).examples}async createExample(e,n,r){var g;if($v(e)&&(n!==void 0||r!==void 0))throw new Error("Cannot provide outputs or options when using ExampleCreate object");let s=n?r==null?void 0:r.datasetId:e.dataset_id;const o=n?r==null?void 0:r.datasetName:e.dataset_name;if(s===void 0&&o===void 0)throw new Error("Must provide either datasetName or datasetId");if(s!==void 0&&o!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");s===void 0&&(s=(await this.readDataset({datasetName:o})).id);const c=(n?r==null?void 0:r.createdAt:e.created_at)||new Date;let d;$v(e)?d=e:d={inputs:e,outputs:n,created_at:c==null?void 0:c.toISOString(),id:r==null?void 0:r.exampleId,metadata:r==null?void 0:r.metadata,split:r==null?void 0:r.split,source_run_id:r==null?void 0:r.sourceRunId,use_source_run_io:r==null?void 0:r.useSourceRunIO,use_source_run_attachments:r==null?void 0:r.useSourceRunAttachments,attachments:r==null?void 0:r.attachments};const h=await this._uploadExamplesMultipart(s,[d]);return await this.readExample(((g=h.example_ids)==null?void 0:g[0])??Ct())}async createExamples(e){if(Array.isArray(e)){if(e.length===0)return[];const D=e;let k=D[0].dataset_id;const F=D[0].dataset_name;if(k===void 0&&F===void 0)throw new Error("Must provide either datasetName or datasetId");if(k!==void 0&&F!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");k===void 0&&(k=(await this.readDataset({datasetName:F})).id);const q=await this._uploadExamplesMultipart(k,D);return await Promise.all(q.example_ids.map(ne=>this.readExample(ne)))}const{inputs:n,outputs:r,metadata:s,splits:o,sourceRunIds:c,useSourceRunIOs:d,useSourceRunAttachments:h,attachments:m,exampleIds:g,datasetId:y,datasetName:b}=e;if(n===void 0)throw new Error("Must provide inputs when using legacy parameters");let _=y;const x=b;if(_===void 0&&x===void 0)throw new Error("Must provide either datasetName or datasetId");if(_!==void 0&&x!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");_===void 0&&(_=(await this.readDataset({datasetName:x})).id);const E=n.map((D,k)=>({dataset_id:_,inputs:D,outputs:r==null?void 0:r[k],metadata:s==null?void 0:s[k],split:o==null?void 0:o[k],id:g==null?void 0:g[k],attachments:m==null?void 0:m[k],source_run_id:c==null?void 0:c[k],use_source_run_io:d==null?void 0:d[k],use_source_run_attachments:h==null?void 0:h[k]})),A=await this._uploadExamplesMultipart(_,E);return await Promise.all(A.example_ids.map(D=>this.readExample(D)))}async createLLMExample(e,n,r){return this.createExample({input:e},{output:n},r)}async createChatExample(e,n,r){const s=e.map(c=>Pb(c)?Ub(c):c),o=Pb(n)?Ub(n):n;return this.createExample({input:s},{output:o},r)}async readExample(e){be(e);const n=`/examples/${e}`,r=await this._get(n),{attachment_urls:s,...o}=r,c=o;return s&&(c.attachments=Object.entries(s).reduce((d,[h,m])=>(d[h.slice(11)]={presigned_url:m.presigned_url,mime_type:m.mime_type},d),{})),c}async*listExamples({datasetId:e,datasetName:n,exampleIds:r,asOf:s,splits:o,inlineS3Urls:c,metadata:d,limit:h,offset:m,filter:g,includeAttachments:y}={}){let b;if(e!==void 0&&n!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");if(e!==void 0)b=e;else if(n!==void 0)b=(await this.readDataset({datasetName:n})).id;else throw new Error("Must provide a datasetName or datasetId");const _=new URLSearchParams({dataset:b}),x=s?typeof s=="string"?s:s==null?void 0:s.toISOString():void 0;x&&_.append("as_of",x);const E=c??!0;if(_.append("inline_s3_urls",E.toString()),r!==void 0)for(const N of r)_.append("id",N);if(o!==void 0)for(const N of o)_.append("splits",N);if(d!==void 0){const N=JSON.stringify(d);_.append("metadata",N)}h!==void 0&&_.append("limit",h.toString()),m!==void 0&&_.append("offset",m.toString()),g!==void 0&&_.append("filter",g),y===!0&&["attachment_urls","outputs","metadata"].forEach(N=>_.append("select",N));let A=0;for await(const N of this._getPaginated("/examples",_)){for(const D of N){const{attachment_urls:k,...F}=D,q=F;k&&(q.attachments=Object.entries(k).reduce((ee,[ne,H])=>(ee[ne.slice(11)]={presigned_url:H.presigned_url,mime_type:H.mime_type||void 0},ee),{})),yield q,A++}if(h!==void 0&&A>=h)break}}async deleteExample(e){be(e);const n=`/examples/${e}`,r=await this.caller.call(fe(this.debug),this.apiUrl+n,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await _e(r,`delete ${n}`),await r.json()}async updateExample(e,n){let r;n?r=e:r=e.id,be(r);let s;n?s={id:r,...n}:s=e;let o;return s.dataset_id!==void 0?o=s.dataset_id:o=(await this.readExample(r)).dataset_id,this._updateExamplesMultipart(o,[s])}async updateExamples(e){let n;return e[0].dataset_id===void 0?n=(await this.readExample(e[0].id)).dataset_id:n=e[0].dataset_id,this._updateExamplesMultipart(n,e)}async readDatasetVersion({datasetId:e,datasetName:n,asOf:r,tag:s}){let o;if(e?o=e:o=(await this.readDataset({datasetName:n})).id,be(o),r&&s||!r&&!s)throw new Error("Exactly one of asOf and tag must be specified.");const c=new URLSearchParams;r!==void 0&&c.append("as_of",typeof r=="string"?r:r.toISOString()),s!==void 0&&c.append("tag",s);const d=await this.caller.call(fe(this.debug),`${this.apiUrl}/datasets/${o}/version?${c.toString()}`,{method:"GET",headers:{...this.headers},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await _e(d,"read dataset version"),await d.json()}async listDatasetSplits({datasetId:e,datasetName:n,asOf:r}){let s;if(e===void 0&&n===void 0)throw new Error("Must provide dataset name or ID");if(e!==void 0&&n!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");e===void 0?s=(await this.readDataset({datasetName:n})).id:s=e,be(s);const o=new URLSearchParams,c=r?typeof r=="string"?r:r==null?void 0:r.toISOString():void 0;return c&&o.append("as_of",c),await this._get(`/datasets/${s}/splits`,o)}async updateDatasetSplits({datasetId:e,datasetName:n,splitName:r,exampleIds:s,remove:o=!1}){let c;if(e===void 0&&n===void 0)throw new Error("Must provide dataset name or ID");if(e!==void 0&&n!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");e===void 0?c=(await this.readDataset({datasetName:n})).id:c=e,be(c);const d={split_name:r,examples:s.map(m=>(be(m),m)),remove:o},h=await this.caller.call(fe(this.debug),`${this.apiUrl}/datasets/${c}/splits`,{method:"PUT",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(d),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await _e(h,"update dataset splits",!0)}async evaluateRun(e,n,{sourceInfo:r,loadChildRuns:s,referenceExample:o}={loadChildRuns:!1}){Z_("This method is deprecated and will be removed in future LangSmith versions, use `evaluate` from `langsmith/evaluation` instead.");let c;if(typeof e=="string")c=await this.readRun(e,{loadChildRuns:s});else if(typeof e=="object"&&"id"in e)c=e;else throw new Error(`Invalid run type: ${typeof e}`);c.reference_example_id!==null&&c.reference_example_id!==void 0&&(o=await this.readExample(c.reference_example_id));const d=await n.evaluateRun(c,o),[h,m]=await this._logEvaluationFeedback(d,c,r);return m[0]}async createFeedback(e,n,{score:r,value:s,correction:o,comment:c,sourceInfo:d,feedbackSourceType:h="api",sourceRunId:m,feedbackId:g,feedbackConfig:y,projectId:b,comparativeExperimentId:_}){var D;if(!e&&!b)throw new Error("One of runId or projectId must be provided");if(e&&b)throw new Error("Only one of runId or projectId can be provided");const x={type:h??"api",metadata:d??{}};m!==void 0&&(x==null?void 0:x.metadata)!==void 0&&!x.metadata.__run&&(x.metadata.__run={run_id:m}),(x==null?void 0:x.metadata)!==void 0&&((D=x.metadata.__run)==null?void 0:D.run_id)!==void 0&&be(x.metadata.__run.run_id);const E={id:g??Ct(),run_id:e,key:n,score:Lv(r),value:s,correction:o,comment:c,feedback_source:x,comparative_experiment_id:_,feedbackConfig:y,session_id:b},A=`${this.apiUrl}/feedback`,N=await this.caller.call(fe(this.debug),A,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(E),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await _e(N,"create feedback",!0),E}async updateFeedback(e,{score:n,value:r,correction:s,comment:o}){const c={};n!=null&&(c.score=Lv(n)),r!=null&&(c.value=r),s!=null&&(c.correction=s),o!=null&&(c.comment=o),be(e);const d=await this.caller.call(fe(this.debug),`${this.apiUrl}/feedback/${e}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(c),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await _e(d,"update feedback",!0)}async readFeedback(e){be(e);const n=`/feedback/${e}`;return await this._get(n)}async deleteFeedback(e){be(e);const n=`/feedback/${e}`,r=await this.caller.call(fe(this.debug),this.apiUrl+n,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await _e(r,`delete ${n}`),await r.json()}async*listFeedback({runIds:e,feedbackKeys:n,feedbackSourceTypes:r}={}){const s=new URLSearchParams;if(e&&s.append("run",e.join(",")),n)for(const o of n)s.append("key",o);if(r)for(const o of r)s.append("source",o);for await(const o of this._getPaginated("/feedback",s))yield*o}async createPresignedFeedbackToken(e,n,{expiration:r,feedbackConfig:s}={}){const o={run_id:e,feedback_key:n,feedback_config:s};return r?typeof r=="string"?o.expires_at=r:(r!=null&&r.hours||r!=null&&r.minutes||r!=null&&r.days)&&(o.expires_in=r):o.expires_in={hours:3},await(await this.caller.call(fe(this.debug),`${this.apiUrl}/feedback/tokens`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(o),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json()}async createComparativeExperiment({name:e,experimentIds:n,referenceDatasetId:r,createdAt:s,description:o,metadata:c,id:d}){var g;if(n.length===0)throw new Error("At least one experiment is required");if(r||(r=(await this.readProject({projectId:n[0]})).reference_dataset_id),!r==null)throw new Error("A reference dataset is required");const h={id:d,name:e,experiment_ids:n,reference_dataset_id:r,description:o,created_at:(g=s??new Date)==null?void 0:g.toISOString(),extra:{}};return c&&(h.extra.metadata=c),await(await this.caller.call(fe(this.debug),`${this.apiUrl}/datasets/comparative`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(h),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json()}async*listPresignedFeedbackTokens(e){be(e);const n=new URLSearchParams({run_id:e});for await(const r of this._getPaginated("/feedback/tokens",n))yield*r}_selectEvalResults(e){let n;return"results"in e?n=e.results:Array.isArray(e)?n=e:n=[e],n}async _logEvaluationFeedback(e,n,r){const s=this._selectEvalResults(e),o=[];for(const c of s){let d=r||{};c.evaluatorInfo&&(d={...c.evaluatorInfo,...d});let h=null;c.targetRunId?h=c.targetRunId:n&&(h=n.id),o.push(await this.createFeedback(h,c.key,{score:c.score,value:c.value,comment:c.comment,correction:c.correction,sourceInfo:d,sourceRunId:c.sourceRunId,feedbackConfig:c.feedbackConfig,feedbackSourceType:"model"}))}return[s,o]}async logEvaluationFeedback(e,n,r){const[s]=await this._logEvaluationFeedback(e,n,r);return s}async*listAnnotationQueues(e={}){const{queueIds:n,name:r,nameContains:s,limit:o}=e,c=new URLSearchParams;n&&n.forEach((h,m)=>{be(h,`queueIds[${m}]`),c.append("ids",h)}),r&&c.append("name",r),s&&c.append("name_contains",s),c.append("limit",(o!==void 0?Math.min(o,100):100).toString());let d=0;for await(const h of this._getPaginated("/annotation-queues",c))if(yield*h,d++,o!==void 0&&d>=o)break}async createAnnotationQueue(e){const{name:n,description:r,queueId:s,rubricInstructions:o}=e,c={name:n,description:r,id:s||Ct(),rubric_instructions:o},d=await this.caller.call(fe(this.debug),`${this.apiUrl}/annotation-queues`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(Object.fromEntries(Object.entries(c).filter(([m,g])=>g!==void 0))),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await _e(d,"create annotation queue"),await d.json()}async readAnnotationQueue(e){const n=await this.caller.call(fe(this.debug),`${this.apiUrl}/annotation-queues/${be(e,"queueId")}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await _e(n,"read annotation queue"),await n.json()}async updateAnnotationQueue(e,n){const{name:r,description:s,rubricInstructions:o}=n,c=await this.caller.call(fe(this.debug),`${this.apiUrl}/annotation-queues/${be(e,"queueId")}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify({name:r,description:s,rubric_instructions:o}),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await _e(c,"update annotation queue")}async deleteAnnotationQueue(e){const n=await this.caller.call(fe(this.debug),`${this.apiUrl}/annotation-queues/${be(e,"queueId")}`,{method:"DELETE",headers:{...this.headers,Accept:"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await _e(n,"delete annotation queue")}async addRunsToAnnotationQueue(e,n){const r=await this.caller.call(fe(this.debug),`${this.apiUrl}/annotation-queues/${be(e,"queueId")}/runs`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(n.map((s,o)=>be(s,`runIds[${o}]`).toString())),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await _e(r,"add runs to annotation queue")}async getRunFromAnnotationQueue(e,n){const r=`/annotation-queues/${be(e,"queueId")}/run`,s=await this.caller.call(fe(this.debug),`${this.apiUrl}${r}/${n}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await _e(s,"get run from annotation queue"),await s.json()}async deleteRunFromAnnotationQueue(e,n){const r=await this.caller.call(fe(this.debug),`${this.apiUrl}/annotation-queues/${be(e,"queueId")}/runs/${be(n,"queueRunId")}`,{method:"DELETE",headers:{...this.headers,Accept:"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await _e(r,"delete run from annotation queue")}async getSizeFromAnnotationQueue(e){const n=await this.caller.call(fe(this.debug),`${this.apiUrl}/annotation-queues/${be(e,"queueId")}/size`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await _e(n,"get size from annotation queue"),await n.json()}async _currentTenantIsOwner(e){const n=await this._getSettings();return e=="-"||n.tenant_handle===e}async _ownerConflictError(e,n){const r=await this._getSettings();return new Error(`Cannot ${e} for another tenant.

      Current tenant: ${r.tenant_handle}

      Requested tenant: ${n}`)}async _getLatestCommitHash(e){const n=await this.caller.call(fe(this.debug),`${this.apiUrl}/commits/${e}/?limit=1&offset=0`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions}),r=await n.json();if(!n.ok){const s=typeof r.detail=="string"?r.detail:JSON.stringify(r.detail),o=new Error(`Error ${n.status}: ${n.statusText}
${s}`);throw o.statusCode=n.status,o}if(r.commits.length!==0)return r.commits[0].commit_hash}async _likeOrUnlikePrompt(e,n){const[r,s,o]=Ua(e),c=await this.caller.call(fe(this.debug),`${this.apiUrl}/likes/${r}/${s}`,{method:"POST",body:JSON.stringify({like:n}),headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await _e(c,`${n?"like":"unlike"} prompt`),await c.json()}async _getPromptUrl(e){const[n,r,s]=Ua(e);if(await this._currentTenantIsOwner(n)){const o=await this._getSettings();return s!=="latest"?`${this.getHostUrl()}/prompts/${r}/${s.substring(0,8)}?organizationId=${o.id}`:`${this.getHostUrl()}/prompts/${r}?organizationId=${o.id}`}else return s!=="latest"?`${this.getHostUrl()}/hub/${n}/${r}/${s.substring(0,8)}`:`${this.getHostUrl()}/hub/${n}/${r}`}async promptExists(e){return!!await this.getPrompt(e)}async likePrompt(e){return this._likeOrUnlikePrompt(e,!0)}async unlikePrompt(e){return this._likeOrUnlikePrompt(e,!1)}async*listCommits(e){for await(const n of this._getPaginated(`/commits/${e}/`,new URLSearchParams,r=>r.commits))yield*n}async*listPrompts(e){const n=new URLSearchParams;n.append("sort_field",(e==null?void 0:e.sortField)??"updated_at"),n.append("sort_direction","desc"),n.append("is_archived",(!!(e!=null&&e.isArchived)).toString()),(e==null?void 0:e.isPublic)!==void 0&&n.append("is_public",e.isPublic.toString()),e!=null&&e.query&&n.append("query",e.query);for await(const r of this._getPaginated("/repos",n,s=>s.repos))yield*r}async getPrompt(e){const[n,r,s]=Ua(e),o=await this.caller.call(fe(this.debug),`${this.apiUrl}/repos/${n}/${r}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});if(o.status===404)return null;await _e(o,"get prompt");const c=await o.json();return c.repo?c.repo:null}async createPrompt(e,n){const r=await this._getSettings();if(n!=null&&n.isPublic&&!r.tenant_handle)throw new Error(`Cannot create a public prompt without first

        creating a LangChain Hub handle. 
        You can add a handle by creating a public prompt at:

        https://smith.langchain.com/prompts`);const[s,o,c]=Ua(e);if(!await this._currentTenantIsOwner(s))throw await this._ownerConflictError("create a prompt",s);const d={repo_handle:o,...(n==null?void 0:n.description)&&{description:n.description},...(n==null?void 0:n.readme)&&{readme:n.readme},...(n==null?void 0:n.tags)&&{tags:n.tags},is_public:!!(n!=null&&n.isPublic)},h=await this.caller.call(fe(this.debug),`${this.apiUrl}/repos/`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(d),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await _e(h,"create prompt");const{repo:m}=await h.json();return m}async createCommit(e,n,r){if(!await this.promptExists(e))throw new Error("Prompt does not exist, you must create it first.");const[s,o,c]=Ua(e),d=(r==null?void 0:r.parentCommitHash)==="latest"||!(r!=null&&r.parentCommitHash)?await this._getLatestCommitHash(`${s}/${o}`):r==null?void 0:r.parentCommitHash,h={manifest:JSON.parse(JSON.stringify(n)),parent_commit:d},m=await this.caller.call(fe(this.debug),`${this.apiUrl}/commits/${s}/${o}`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(h),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await _e(m,"create commit");const g=await m.json();return this._getPromptUrl(`${s}/${o}${g.commit_hash?`:${g.commit_hash}`:""}`)}async updateExamplesMultipart(e,n=[]){return this._updateExamplesMultipart(e,n)}async _updateExamplesMultipart(e,n=[]){var d;if(!await this._getMultiPartSupport())throw new Error("Your LangSmith deployment does not allow using the multipart examples endpoint, please upgrade your deployment to the latest version.");const r=new FormData;for(const h of n){const m=h.id,g={...h.metadata&&{metadata:h.metadata},...h.split&&{split:h.split}},y=Jt(g,`Serializing body for example with id: ${m}`),b=new Blob([y],{type:"application/json"});if(r.append(m,b),h.inputs){const _=Jt(h.inputs,`Serializing inputs for example with id: ${m}`),x=new Blob([_],{type:"application/json"});r.append(`${m}.inputs`,x)}if(h.outputs){const _=Jt(h.outputs,`Serializing outputs whle updating example with id: ${m}`),x=new Blob([_],{type:"application/json"});r.append(`${m}.outputs`,x)}if(h.attachments)for(const[_,x]of Object.entries(h.attachments)){let E,A;Array.isArray(x)?[E,A]=x:(E=x.mimeType,A=x.data);const N=new Blob([A],{type:`${E}; length=${A.byteLength}`});r.append(`${m}.attachment.${_}`,N)}if(h.attachments_operations){const _=Jt(h.attachments_operations,`Serializing attachments while updating example with id: ${m}`),x=new Blob([_],{type:"application/json"});r.append(`${m}.attachments_operations`,x)}}const s=e??((d=n[0])==null?void 0:d.dataset_id);return await(await this.caller.call(fe(this.debug),`${this.apiUrl}/v1/platform/datasets/${s}/examples`,{method:"PATCH",headers:this.headers,body:r})).json()}async uploadExamplesMultipart(e,n=[]){return this._uploadExamplesMultipart(e,n)}async _uploadExamplesMultipart(e,n=[]){if(!await this._getMultiPartSupport())throw new Error("Your LangSmith deployment does not allow using the multipart examples endpoint, please upgrade your deployment to the latest version.");const r=new FormData;for(const c of n){const d=(c.id??Ct()).toString(),h={created_at:c.created_at,...c.metadata&&{metadata:c.metadata},...c.split&&{split:c.split},...c.source_run_id&&{source_run_id:c.source_run_id},...c.use_source_run_io&&{use_source_run_io:c.use_source_run_io},...c.use_source_run_attachments&&{use_source_run_attachments:c.use_source_run_attachments}},m=Jt(h,`Serializing body for uploaded example with id: ${d}`),g=new Blob([m],{type:"application/json"});if(r.append(d,g),c.inputs){const y=Jt(c.inputs,`Serializing inputs for uploaded example with id: ${d}`),b=new Blob([y],{type:"application/json"});r.append(`${d}.inputs`,b)}if(c.outputs){const y=Jt(c.outputs,`Serializing outputs for uploaded example with id: ${d}`),b=new Blob([y],{type:"application/json"});r.append(`${d}.outputs`,b)}if(c.attachments)for(const[y,b]of Object.entries(c.attachments)){let _,x;Array.isArray(b)?[_,x]=b:(_=b.mimeType,x=b.data);const E=new Blob([x],{type:`${_}; length=${x.byteLength}`});r.append(`${d}.attachment.${y}`,E)}}const s=await this.caller.call(fe(this.debug),`${this.apiUrl}/v1/platform/datasets/${e}/examples`,{method:"POST",headers:this.headers,body:r});return await _e(s,"upload examples"),await s.json()}async updatePrompt(e,n){if(!await this.promptExists(e))throw new Error("Prompt does not exist, you must create it first.");const[r,s]=Ua(e);if(!await this._currentTenantIsOwner(r))throw await this._ownerConflictError("update a prompt",r);const o={};if((n==null?void 0:n.description)!==void 0&&(o.description=n.description),(n==null?void 0:n.readme)!==void 0&&(o.readme=n.readme),(n==null?void 0:n.tags)!==void 0&&(o.tags=n.tags),(n==null?void 0:n.isPublic)!==void 0&&(o.is_public=n.isPublic),(n==null?void 0:n.isArchived)!==void 0&&(o.is_archived=n.isArchived),Object.keys(o).length===0)throw new Error("No valid update options provided");const c=await this.caller.call(fe(this.debug),`${this.apiUrl}/repos/${r}/${s}`,{method:"PATCH",body:JSON.stringify(o),headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await _e(c,"update prompt"),c.json()}async deletePrompt(e){if(!await this.promptExists(e))throw new Error("Prompt does not exist, you must create it first.");const[n,r,s]=Ua(e);if(!await this._currentTenantIsOwner(n))throw await this._ownerConflictError("delete a prompt",n);return await(await this.caller.call(fe(this.debug),`${this.apiUrl}/repos/${n}/${r}`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json()}async pullPromptCommit(e,n){const[r,s,o]=Ua(e),c=await this.caller.call(fe(this.debug),`${this.apiUrl}/commits/${r}/${s}/${o}${n!=null&&n.includeModel?"?include_model=true":""}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await _e(c,"pull prompt commit");const d=await c.json();return{owner:r,repo:s,commit_hash:d.commit_hash,manifest:d.manifest,examples:d.examples}}async _pullPrompt(e,n){const r=await this.pullPromptCommit(e,{includeModel:n==null?void 0:n.includeModel});return JSON.stringify(r.manifest)}async pushPrompt(e,n){return await this.promptExists(e)?n&&Object.keys(n).some(s=>s!=="object")&&await this.updatePrompt(e,{description:n==null?void 0:n.description,readme:n==null?void 0:n.readme,tags:n==null?void 0:n.tags,isPublic:n==null?void 0:n.isPublic}):await this.createPrompt(e,{description:n==null?void 0:n.description,readme:n==null?void 0:n.readme,tags:n==null?void 0:n.tags,isPublic:n==null?void 0:n.isPublic}),n!=null&&n.object?await this.createCommit(e,n==null?void 0:n.object,{parentCommitHash:n==null?void 0:n.parentCommitHash}):await this._getPromptUrl(e)}async clonePublicDataset(e,n={}){const{sourceApiUrl:r=this.apiUrl,datasetName:s}=n,[o,c]=this.parseTokenOrUrl(e,r),d=new Zs({apiUrl:o,apiKey:"placeholder"}),h=await d.readSharedDataset(c),m=s||h.name;try{if(await this.hasDataset({datasetId:m})){console.log(`Dataset ${m} already exists in your tenant. Skipping.`);return}}catch{}const g=await d.listSharedExamples(c),y=await this.createDataset(m,{description:h.description,dataType:h.data_type||"kv",inputsSchema:h.inputs_schema_definition??void 0,outputsSchema:h.outputs_schema_definition??void 0});try{await this.createExamples({inputs:g.map(b=>b.inputs),outputs:g.flatMap(b=>b.outputs?[b.outputs]:[]),datasetId:y.id})}catch(b){throw console.error(`An error occurred while creating dataset ${m}. You should delete it manually.`),b}}parseTokenOrUrl(e,n,r=2,s="dataset"){try{return be(e),[n,e]}catch{}try{const c=new URL(e).pathname.split("/").filter(d=>d!=="");if(c.length>=r){const d=c[c.length-r];return[n,d]}else throw new Error(`Invalid public ${s} URL: ${e}`)}catch{throw new Error(`Invalid public ${s} URL or token: ${e}`)}}awaitPendingTraceBatches(){return this.manualFlushMode?(console.warn("[WARNING]: When tracing in manual flush mode, you must call `await client.flush()` manually to submit trace batches."),Promise.resolve()):Promise.all([...this.autoBatchQueue.items.map(({itemPromise:e})=>e),this.batchIngestCaller.queue.onIdle()])}}function $v(i){return"dataset_id"in i||"dataset_name"in i}const J_="0.3.30";var Ds={};let ia;const rA=()=>typeof window<"u"&&typeof window.document<"u",iA=()=>typeof globalThis=="object"&&globalThis.constructor&&globalThis.constructor.name==="DedicatedWorkerGlobalScope",sA=()=>typeof window<"u"&&window.name==="nodejs"||typeof navigator<"u"&&(navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")),K_=()=>typeof Deno<"u",lA=()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"&&!K_(),oA=()=>ia||(rA()?ia="browser":lA()?ia="node":iA()?ia="webworker":sA()?ia="jsdom":K_()?ia="deno":ia="other",ia);let If;function W_(){if(If===void 0){const i=oA(),e=dA();If={library:"langsmith",runtime:i,sdk:"langsmith-js",sdk_version:J_,...e}}return If}function uA(){const i=cA()||{},e={},n=["LANGCHAIN_API_KEY","LANGCHAIN_ENDPOINT","LANGCHAIN_TRACING_V2","LANGCHAIN_PROJECT","LANGCHAIN_SESSION","LANGSMITH_API_KEY","LANGSMITH_ENDPOINT","LANGSMITH_TRACING_V2","LANGSMITH_PROJECT","LANGSMITH_SESSION"];for(const[r,s]of Object.entries(i))(r.startsWith("LANGCHAIN_")||r.startsWith("LANGSMITH_"))&&typeof s=="string"&&!n.includes(r)&&!r.toLowerCase().includes("key")&&!r.toLowerCase().includes("secret")&&!r.toLowerCase().includes("token")&&(r==="LANGCHAIN_REVISION_ID"?e.revision_id=s:e[r]=s);return e}function cA(){try{return typeof process<"u"&&Ds?Object.entries(Ds).reduce((i,[e,n])=>(i[e]=String(n),i),{}):void 0}catch{return}}function Ga(i){try{return typeof process<"u"?Ds==null?void 0:Ds[i]:void 0}catch{return}}function Dn(i){return Ga(`LANGSMITH_${i}`)||Ga(`LANGCHAIN_${i}`)}let Pf;function dA(){if(Pf!==void 0)return Pf;const i=["VERCEL_GIT_COMMIT_SHA","NEXT_PUBLIC_VERCEL_GIT_COMMIT_SHA","COMMIT_REF","RENDER_GIT_COMMIT","CI_COMMIT_SHA","CIRCLE_SHA1","CF_PAGES_COMMIT_SHA","REACT_APP_GIT_SHA","SOURCE_VERSION","GITHUB_SHA","TRAVIS_COMMIT","GIT_COMMIT","BUILD_VCS_NUMBER","bamboo_planRepository_revision","Build.SourceVersion","BITBUCKET_COMMIT","DRONE_COMMIT_SHA","SEMAPHORE_GIT_SHA","BUILDKITE_COMMIT"],e={};for(const n of i){const r=Ga(n);r!==void 0&&(e[n]=r)}return Pf=e,e}const fA=i=>!!["TRACING_V2","TRACING"].find(n=>Dn(n)==="true"),Uf=Symbol.for("lc:context_variables");function hA(i){return i.replace(/[-:.]/g,"")}function mA(i,e,n=1){const r=n.toFixed(0).slice(0,3).padStart(3,"0");return hA(`${new Date(i).toISOString().slice(0,-1)}${r}Z`)+e}class zo{constructor(e,n,r){Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"project_name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.metadata=e,this.tags=n,this.project_name=r}static fromHeader(e){const n=e.split(",");let r={},s=[],o;for(const c of n){const[d,h]=c.split("="),m=decodeURIComponent(h);d==="langsmith-metadata"?r=JSON.parse(m):d==="langsmith-tags"?s=m.split(","):d==="langsmith-project"&&(o=m)}return new zo(r,s,o)}toHeader(){const e=[];return this.metadata&&Object.keys(this.metadata).length>0&&e.push(`langsmith-metadata=${encodeURIComponent(JSON.stringify(this.metadata))}`),this.tags&&this.tags.length>0&&e.push(`langsmith-tags=${encodeURIComponent(this.tags.join(","))}`),this.project_name&&e.push(`langsmith-project=${encodeURIComponent(this.project_name)}`),e.join(",")}}class Kt{constructor(e){var d;if(Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"run_type",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"project_name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"parent_run",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"child_runs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"start_time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"end_time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"extra",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"error",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"serialized",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"inputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"outputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reference_example_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"trace_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dotted_order",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tracingEnabled",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"execution_order",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"child_execution_order",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"attachments",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e0(e)){Object.assign(this,{...e});return}const n=Kt.getDefaultConfig(),{metadata:r,...s}=e,o=s.client??Kt.getSharedClient(),c={...r,...(d=s==null?void 0:s.extra)==null?void 0:d.metadata};if(s.extra={...s.extra,metadata:c},Object.assign(this,{...n,...s,client:o}),this.trace_id||(this.parent_run?this.trace_id=this.parent_run.trace_id??this.id:this.trace_id=this.id),this.execution_order??(this.execution_order=1),this.child_execution_order??(this.child_execution_order=1),!this.dotted_order){const h=mA(this.start_time,this.id,this.execution_order);this.parent_run?this.dotted_order=this.parent_run.dotted_order+"."+h:this.dotted_order=h}}set metadata(e){var n;this.extra={...this.extra,metadata:{...(n=this.extra)==null?void 0:n.metadata,...e}}}get metadata(){var e;return(e=this.extra)==null?void 0:e.metadata}static getDefaultConfig(){return{id:Ct(),run_type:"chain",project_name:Dn("PROJECT")??Ga("LANGCHAIN_SESSION")??"default",child_runs:[],api_url:Ga("LANGCHAIN_ENDPOINT")??"http://localhost:1984",api_key:Ga("LANGCHAIN_API_KEY"),caller_options:{},start_time:Date.now(),serialized:{},inputs:{},extra:{}}}static getSharedClient(){return Kt.sharedClient||(Kt.sharedClient=new Zs),Kt.sharedClient}createChild(e){var h,m,g,y,b,_;const n=this.child_execution_order+1,r=new Kt({...e,parent_run:this,project_name:this.project_name,client:this.client,tracingEnabled:this.tracingEnabled,execution_order:n,child_execution_order:n});Uf in this&&(r[Uf]=this[Uf]);const s=Symbol.for("lc:child_config"),o=((h=e.extra)==null?void 0:h[s])??this.extra[s];if(gA(o)){const x={...o},E=pA(x.callbacks)?(g=(m=x.callbacks).copy)==null?void 0:g.call(m):void 0;E&&(Object.assign(E,{_parentRunId:r.id}),(_=(b=(y=E.handlers)==null?void 0:y.find(t0))==null?void 0:b.updateFromRunTree)==null||_.call(b,r),x.callbacks=E),r.extra[s]=x}const c=new Set;let d=this;for(;d!=null&&!c.has(d.id);)c.add(d.id),d.child_execution_order=Math.max(d.child_execution_order,n),d=d.parent_run;return this.child_runs.push(r),r}async end(e,n,r=Date.now(),s){this.outputs=this.outputs??e,this.error=this.error??n,this.end_time=this.end_time??r,s&&Object.keys(s).length>0&&(this.extra=this.extra?{...this.extra,metadata:{...this.extra.metadata,...s}}:{metadata:s})}_convertToCreate(e,n,r=!0){var h;const s=e.extra??{};if(s.runtime||(s.runtime={}),n)for(const[m,g]of Object.entries(n))s.runtime[m]||(s.runtime[m]=g);let o,c;return r?(c=(h=e.parent_run)==null?void 0:h.id,o=[]):(o=e.child_runs.map(m=>this._convertToCreate(m,n,r)),c=void 0),{id:e.id,name:e.name,start_time:e.start_time,end_time:e.end_time,run_type:e.run_type,reference_example_id:e.reference_example_id,extra:s,serialized:e.serialized,error:e.error,inputs:e.inputs,outputs:e.outputs,session_name:e.project_name,child_runs:o,parent_run_id:c,trace_id:e.trace_id,dotted_order:e.dotted_order,tags:e.tags,attachments:e.attachments}}async postRun(e=!0){try{const n=W_(),r=await this._convertToCreate(this,n,!0);if(await this.client.createRun(r),!e){Z_("Posting with excludeChildRuns=false is deprecated and will be removed in a future version.");for(const s of this.child_runs)await s.postRun(!1)}}catch(n){console.error(`Error in postRun for run ${this.id}:`,n)}}async patchRun(){var e;try{const n={end_time:this.end_time,error:this.error,inputs:this.inputs,outputs:this.outputs,parent_run_id:(e=this.parent_run)==null?void 0:e.id,reference_example_id:this.reference_example_id,extra:this.extra,events:this.events,dotted_order:this.dotted_order,trace_id:this.trace_id,tags:this.tags,attachments:this.attachments,session_name:this.project_name};await this.client.updateRun(this.id,n)}catch(n){console.error(`Error in patchRun for run ${this.id}`,n)}}toJSON(){return this._convertToCreate(this,void 0,!1)}addEvent(e){this.events||(this.events=[]),typeof e=="string"?this.events.push({name:"event",time:new Date().toISOString(),message:e}):this.events.push({...e,time:e.time??new Date().toISOString()})}static fromRunnableConfig(e,n){var m,g,y,b;const r=e==null?void 0:e.callbacks;let s,o,c,d=fA();if(r){const _=((m=r==null?void 0:r.getParentRunId)==null?void 0:m.call(r))??"",x=(g=r==null?void 0:r.handlers)==null?void 0:g.find(E=>(E==null?void 0:E.name)=="langchain_tracer");s=(y=x==null?void 0:x.getRun)==null?void 0:y.call(x,_),o=x==null?void 0:x.projectName,c=x==null?void 0:x.client,d=d||!!x}return s?new Kt({name:s.name,id:s.id,trace_id:s.trace_id,dotted_order:s.dotted_order,client:c,tracingEnabled:d,project_name:o,tags:[...new Set(((s==null?void 0:s.tags)??[]).concat((e==null?void 0:e.tags)??[]))],extra:{metadata:{...(b=s==null?void 0:s.extra)==null?void 0:b.metadata,...e==null?void 0:e.metadata}}}).createChild(n):new Kt({...n,client:c,tracingEnabled:d,project_name:o})}static fromDottedOrder(e){return this.fromHeaders({"langsmith-trace":e})}static fromHeaders(e,n){var m;const r="get"in e&&typeof e.get=="function"?{"langsmith-trace":e.get("langsmith-trace"),baggage:e.get("baggage")}:e,s=r["langsmith-trace"];if(!s||typeof s!="string")return;const o=s.trim(),c=o.split(".").map(g=>{const[y,b]=g.split("Z");return{strTime:y,time:Date.parse(y+"Z"),uuid:b}}),d=c[0].uuid,h={...n,name:(n==null?void 0:n.name)??"parent",run_type:(n==null?void 0:n.run_type)??"chain",start_time:(n==null?void 0:n.start_time)??Date.now(),id:(m=c.at(-1))==null?void 0:m.uuid,trace_id:d,dotted_order:o};if(r.baggage&&typeof r.baggage=="string"){const g=zo.fromHeader(r.baggage);h.metadata=g.metadata,h.tags=g.tags,h.project_name=g.project_name}return new Kt(h)}toHeaders(e){var r;const n={"langsmith-trace":this.dotted_order,baggage:new zo((r=this.extra)==null?void 0:r.metadata,this.tags,this.project_name).toHeader()};if(e)for(const[s,o]of Object.entries(n))e.set(s,o);return n}}Object.defineProperty(Kt,"sharedClient",{enumerable:!0,configurable:!0,writable:!0,value:null});function e0(i){return i!==void 0&&typeof i.createChild=="function"&&typeof i.postRun=="function"}function t0(i){return typeof i=="object"&&i!=null&&typeof i.name=="string"&&i.name==="langchain_tracer"}function Dv(i){return Array.isArray(i)&&i.some(e=>t0(e))}function pA(i){return typeof i=="object"&&i!=null&&Array.isArray(i.handlers)}function gA(i){var e;return i!==void 0&&typeof i.callbacks=="object"&&(Dv((e=i.callbacks)==null?void 0:e.handlers)||Dv(i.callbacks))}let yA=class{getStore(){}run(e,n){return n()}};const zf=Symbol.for("ls:tracing_async_local_storage"),bA=new yA;let vA=class{getInstance(){return globalThis[zf]??bA}initializeGlobalInstance(e){globalThis[zf]===void 0&&(globalThis[zf]=e)}};const _A=new vA;function wA(i=!1){const e=_A.getInstance().getStore();if(!i&&!e0(e))throw new Error(`Could not get the current run tree.

Please make sure you are calling this method within a traceable function and that tracing is enabled.`);return e}function $h(i){return typeof i=="function"&&"langsmith:traceable"in i}/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */const xA=Object.prototype.hasOwnProperty;function oh(i,e){return xA.call(i,e)}function uh(i){if(Array.isArray(i)){const n=new Array(i.length);for(let r=0;r<n.length;r++)n[r]=""+r;return n}if(Object.keys)return Object.keys(i);let e=[];for(let n in i)oh(i,n)&&e.push(n);return e}function In(i){switch(typeof i){case"object":return JSON.parse(JSON.stringify(i));case"undefined":return null;default:return i}}function ch(i){let e=0;const n=i.length;let r;for(;e<n;){if(r=i.charCodeAt(e),r>=48&&r<=57){e++;continue}return!1}return!0}function si(i){return i.indexOf("/")===-1&&i.indexOf("~")===-1?i:i.replace(/~/g,"~0").replace(/\//g,"~1")}function SA(i){return i.replace(/~1/g,"/").replace(/~0/g,"~")}function dh(i){if(i===void 0)return!0;if(i){if(Array.isArray(i)){for(let n=0,r=i.length;n<r;n++)if(dh(i[n]))return!0}else if(typeof i=="object"){const n=uh(i),r=n.length;for(var e=0;e<r;e++)if(dh(i[n[e]]))return!0}}return!1}function Iv(i,e){const n=[i];for(const r in e){const s=typeof e[r]=="object"?JSON.stringify(e[r],null,2):e[r];typeof s<"u"&&n.push(`${r}: ${s}`)}return n.join(`
`)}class EA extends Error{constructor(e,n,r,s,o){super(Iv(e,{name:n,index:r,operation:s,tree:o})),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"index",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"operation",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"tree",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.setPrototypeOf(this,new.target.prototype),this.message=Iv(e,{name:n,index:r,operation:s,tree:o})}}const it=EA,ci={add:function(i,e,n){return i[e]=this.value,{newDocument:n}},remove:function(i,e,n){var r=i[e];return delete i[e],{newDocument:n,removed:r}},replace:function(i,e,n){var r=i[e];return i[e]=this.value,{newDocument:n,removed:r}},move:function(i,e,n){let r=fh(n,this.path);r&&(r=In(r));const s=Is(n,{op:"remove",path:this.from}).removed;return Is(n,{op:"add",path:this.path,value:s}),{newDocument:n,removed:r}},copy:function(i,e,n){const r=fh(n,this.from);return Is(n,{op:"add",path:this.path,value:In(r)}),{newDocument:n}},test:function(i,e,n){return{newDocument:n,test:Bo(i[e],this.value)}},_get:function(i,e,n){return this.value=i[e],{newDocument:n}}};var OA={add:function(i,e,n){return ch(e)?i.splice(e,0,this.value):i[e]=this.value,{newDocument:n,index:e}},remove:function(i,e,n){var r=i.splice(e,1);return{newDocument:n,removed:r[0]}},replace:function(i,e,n){var r=i[e];return i[e]=this.value,{newDocument:n,removed:r}},move:ci.move,copy:ci.copy,test:ci.test,_get:ci._get};function fh(i,e){if(e=="")return i;var n={op:"_get",path:e};return Is(i,n),n.value}function Is(i,e,n=!1,r=!0,s=!0,o=0){if(n&&(typeof n=="function"?n(e,0,i,e.path):hh(e,0)),e.path===""){let c={newDocument:i};if(e.op==="add")return c.newDocument=e.value,c;if(e.op==="replace")return c.newDocument=e.value,c.removed=i,c;if(e.op==="move"||e.op==="copy")return c.newDocument=fh(i,e.from),e.op==="move"&&(c.removed=i),c;if(e.op==="test"){if(c.test=Bo(i,e.value),c.test===!1)throw new it("Test operation failed","TEST_OPERATION_FAILED",o,e,i);return c.newDocument=i,c}else{if(e.op==="remove")return c.removed=i,c.newDocument=null,c;if(e.op==="_get")return e.value=i,c;if(n)throw new it("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",o,e,i);return c}}else{r||(i=In(i));const d=(e.path||"").split("/");let h=i,m=1,g=d.length,y,b,_;for(typeof n=="function"?_=n:_=hh;;){if(b=d[m],b&&b.indexOf("~")!=-1&&(b=SA(b)),s&&(b=="__proto__"||b=="prototype"&&m>0&&d[m-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&y===void 0&&(h[b]===void 0?y=d.slice(0,m).join("/"):m==g-1&&(y=e.path),y!==void 0&&_(e,0,i,y)),m++,Array.isArray(h)){if(b==="-")b=h.length;else{if(n&&!ch(b))throw new it("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",o,e,i);ch(b)&&(b=~~b)}if(m>=g){if(n&&e.op==="add"&&b>h.length)throw new it("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",o,e,i);const x=OA[e.op].call(e,h,b,i);if(x.test===!1)throw new it("Test operation failed","TEST_OPERATION_FAILED",o,e,i);return x}}else if(m>=g){const x=ci[e.op].call(e,h,b,i);if(x.test===!1)throw new it("Test operation failed","TEST_OPERATION_FAILED",o,e,i);return x}if(h=h[b],n&&m<g&&(!h||typeof h!="object"))throw new it("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",o,e,i)}}}function qo(i,e,n,r=!0,s=!0){if(n&&!Array.isArray(e))throw new it("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(i=In(i));const o=new Array(e.length);for(let c=0,d=e.length;c<d;c++)o[c]=Is(i,e[c],n,!0,s,c),i=o[c].newDocument;return o.newDocument=i,o}function hh(i,e,n,r){if(typeof i!="object"||i===null||Array.isArray(i))throw new it("Operation is not an object","OPERATION_NOT_AN_OBJECT",e,i,n);if(ci[i.op]){if(typeof i.path!="string")throw new it("Operation `path` property is not a string","OPERATION_PATH_INVALID",e,i,n);if(i.path.indexOf("/")!==0&&i.path.length>0)throw new it('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",e,i,n);if((i.op==="move"||i.op==="copy")&&typeof i.from!="string")throw new it("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",e,i,n);if((i.op==="add"||i.op==="replace"||i.op==="test")&&i.value===void 0)throw new it("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",e,i,n);if((i.op==="add"||i.op==="replace"||i.op==="test")&&dh(i.value))throw new it("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",e,i,n);if(n){if(i.op=="add"){var s=i.path.split("/").length,o=r.split("/").length;if(s!==o+1&&s!==o)throw new it("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",e,i,n)}else if(i.op==="replace"||i.op==="remove"||i.op==="_get"){if(i.path!==r)throw new it("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",e,i,n)}else if(i.op==="move"||i.op==="copy"){var c={op:"_get",path:i.from,value:void 0},d=TA([c],n);if(d&&d.name==="OPERATION_PATH_UNRESOLVABLE")throw new it("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",e,i,n)}}}else throw new it("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",e,i,n)}function TA(i,e,n){try{if(!Array.isArray(i))throw new it("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(e)qo(In(e),In(i),n||!0);else{n=n||hh;for(var r=0;r<i.length;r++)n(i[r],r,e,void 0)}}catch(s){if(s instanceof it)return s;throw s}}function Bo(i,e){if(i===e)return!0;if(i&&e&&typeof i=="object"&&typeof e=="object"){var n=Array.isArray(i),r=Array.isArray(e),s,o,c;if(n&&r){if(o=i.length,o!=e.length)return!1;for(s=o;s--!==0;)if(!Bo(i[s],e[s]))return!1;return!0}if(n!=r)return!1;var d=Object.keys(i);if(o=d.length,o!==Object.keys(e).length)return!1;for(s=o;s--!==0;)if(!e.hasOwnProperty(d[s]))return!1;for(s=o;s--!==0;)if(c=d[s],!Bo(i[c],e[c]))return!1;return!0}return i!==i&&e!==e}/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2013-2021 Joachim Wester
 * MIT license
 */function n0(i,e,n,r,s){if(e!==i){typeof e.toJSON=="function"&&(e=e.toJSON());for(var o=uh(e),c=uh(i),d=!1,h=c.length-1;h>=0;h--){var m=c[h],g=i[m];if(oh(e,m)&&!(e[m]===void 0&&g!==void 0&&Array.isArray(e)===!1)){var y=e[m];typeof g=="object"&&g!=null&&typeof y=="object"&&y!=null&&Array.isArray(g)===Array.isArray(y)?n0(g,y,n,r+"/"+si(m),s):g!==y&&(s&&n.push({op:"test",path:r+"/"+si(m),value:In(g)}),n.push({op:"replace",path:r+"/"+si(m),value:In(y)}))}else Array.isArray(i)===Array.isArray(e)?(s&&n.push({op:"test",path:r+"/"+si(m),value:In(g)}),n.push({op:"remove",path:r+"/"+si(m)}),d=!0):(s&&n.push({op:"test",path:r,value:i}),n.push({op:"replace",path:r,value:e}))}if(!(!d&&o.length==c.length))for(var h=0;h<o.length;h++){var m=o[h];!oh(i,m)&&e[m]!==void 0&&n.push({op:"add",path:r+"/"+si(m),value:In(e[m])})}}}function AA(i,e,n=!1){var r=[];return n0(i,e,r,"",n),r}var qf={};const RA=()=>typeof window<"u"&&typeof window.document<"u",NA=()=>typeof globalThis=="object"&&globalThis.constructor&&globalThis.constructor.name==="DedicatedWorkerGlobalScope",jA=()=>typeof window<"u"&&window.name==="nodejs"||typeof navigator<"u"&&(navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")),Dh=()=>typeof Deno<"u",kA=()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"&&!Dh(),CA=()=>{let i;return RA()?i="browser":kA()?i="node":NA()?i="webworker":jA()?i="jsdom":Dh()?i="deno":i="other",i};let Bf;async function MA(){return Bf===void 0&&(Bf={library:"langchain-js",runtime:CA()}),Bf}function ca(i){try{return typeof process<"u"?qf==null?void 0:qf[i]:Dh()?Deno==null?void 0:Deno.env.get(i):void 0}catch{return}}class LA{}function $A(i){return"lc_prefer_streaming"in i&&i.lc_prefer_streaming}class Ws extends LA{get lc_namespace(){return["langchain_core","callbacks",this.name]}get lc_secrets(){}get lc_attributes(){}get lc_aliases(){}get lc_serializable_keys(){}static lc_name(){return this.name}get lc_id(){return[...this.lc_namespace,q_(this.constructor)]}constructor(e){super(),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ignoreLLM",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreChain",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreAgent",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreRetriever",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreCustomEvent",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"raiseError",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"awaitHandlers",{enumerable:!0,configurable:!0,writable:!0,value:ca("LANGCHAIN_CALLBACKS_BACKGROUND")==="false"}),this.lc_kwargs=e||{},e&&(this.ignoreLLM=e.ignoreLLM??this.ignoreLLM,this.ignoreChain=e.ignoreChain??this.ignoreChain,this.ignoreAgent=e.ignoreAgent??this.ignoreAgent,this.ignoreRetriever=e.ignoreRetriever??this.ignoreRetriever,this.ignoreCustomEvent=e.ignoreCustomEvent??this.ignoreCustomEvent,this.raiseError=e.raiseError??this.raiseError,this.awaitHandlers=this.raiseError||(e._awaitHandler??this.awaitHandlers))}copy(){return new this.constructor(this)}toJSON(){return yr.prototype.toJSON.call(this)}toJSONNotImplemented(){return yr.prototype.toJSONNotImplemented.call(this)}static fromMethods(e){class n extends Ws{constructor(){super(),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:Ct()}),Object.assign(this,e)}}return new n}}const DA=i=>{const e=i;return e!==void 0&&typeof e.copy=="function"&&typeof e.name=="string"&&typeof e.awaitHandlers=="boolean"};function Hf(i,e){return i&&!Array.isArray(i)&&typeof i=="object"?i:{[e]:i}}function IA(i){return i.replace(/[-:.]/g,"")}function PA(i,e,n){const r=n.toFixed(0).slice(0,3).padStart(3,"0");return IA(`${new Date(i).toISOString().slice(0,-1)}${r}Z`)+e}function ks(i){return typeof i._addRunToRunMap=="function"}class el extends Ws{constructor(e){super(...arguments),Object.defineProperty(this,"runMap",{enumerable:!0,configurable:!0,writable:!0,value:new Map})}copy(){return this}stringifyError(e){return e instanceof Error?e.message+(e!=null&&e.stack?`

${e.stack}`:""):typeof e=="string"?e:`${e}`}_addChildRun(e,n){e.child_runs.push(n)}_addRunToRunMap(e){const n=PA(e.start_time,e.id,e.execution_order),r={...e};if(r.parent_run_id!==void 0){const s=this.runMap.get(r.parent_run_id);s&&(this._addChildRun(s,r),s.child_execution_order=Math.max(s.child_execution_order,r.child_execution_order),r.trace_id=s.trace_id,s.dotted_order!==void 0&&(r.dotted_order=[s.dotted_order,n].join(".")))}else r.trace_id=r.id,r.dotted_order=n;return this.runMap.set(r.id,r),r}async _endTrace(e){var r;const n=e.parent_run_id!==void 0&&this.runMap.get(e.parent_run_id);n?n.child_execution_order=Math.max(n.child_execution_order,e.child_execution_order):await this.persistRun(e),this.runMap.delete(e.id),await((r=this.onRunUpdate)==null?void 0:r.call(this,e))}_getExecutionOrder(e){const n=e!==void 0&&this.runMap.get(e);return n?n.child_execution_order+1:1}_createRunForLLMStart(e,n,r,s,o,c,d,h){const m=this._getExecutionOrder(s),g=Date.now(),y=d?{...o,metadata:d}:o,b={id:r,name:h??e.id[e.id.length-1],parent_run_id:s,start_time:g,serialized:e,events:[{name:"start",time:new Date(g).toISOString()}],inputs:{prompts:n},execution_order:m,child_runs:[],child_execution_order:m,run_type:"llm",extra:y??{},tags:c||[]};return this._addRunToRunMap(b)}async handleLLMStart(e,n,r,s,o,c,d,h){var g,y;const m=this.runMap.get(r)??this._createRunForLLMStart(e,n,r,s,o,c,d,h);return await((g=this.onRunCreate)==null?void 0:g.call(this,m)),await((y=this.onLLMStart)==null?void 0:y.call(this,m)),m}_createRunForChatModelStart(e,n,r,s,o,c,d,h){const m=this._getExecutionOrder(s),g=Date.now(),y=d?{...o,metadata:d}:o,b={id:r,name:h??e.id[e.id.length-1],parent_run_id:s,start_time:g,serialized:e,events:[{name:"start",time:new Date(g).toISOString()}],inputs:{messages:n},execution_order:m,child_runs:[],child_execution_order:m,run_type:"llm",extra:y??{},tags:c||[]};return this._addRunToRunMap(b)}async handleChatModelStart(e,n,r,s,o,c,d,h){var g,y;const m=this.runMap.get(r)??this._createRunForChatModelStart(e,n,r,s,o,c,d,h);return await((g=this.onRunCreate)==null?void 0:g.call(this,m)),await((y=this.onLLMStart)==null?void 0:y.call(this,m)),m}async handleLLMEnd(e,n,r,s,o){var d;const c=this.runMap.get(n);if(!c||(c==null?void 0:c.run_type)!=="llm")throw new Error("No LLM run to end.");return c.end_time=Date.now(),c.outputs=e,c.events.push({name:"end",time:new Date(c.end_time).toISOString()}),c.extra={...c.extra,...o},await((d=this.onLLMEnd)==null?void 0:d.call(this,c)),await this._endTrace(c),c}async handleLLMError(e,n,r,s,o){var d;const c=this.runMap.get(n);if(!c||(c==null?void 0:c.run_type)!=="llm")throw new Error("No LLM run to end.");return c.end_time=Date.now(),c.error=this.stringifyError(e),c.events.push({name:"error",time:new Date(c.end_time).toISOString()}),c.extra={...c.extra,...o},await((d=this.onLLMError)==null?void 0:d.call(this,c)),await this._endTrace(c),c}_createRunForChainStart(e,n,r,s,o,c,d,h){const m=this._getExecutionOrder(s),g=Date.now(),y={id:r,name:h??e.id[e.id.length-1],parent_run_id:s,start_time:g,serialized:e,events:[{name:"start",time:new Date(g).toISOString()}],inputs:n,execution_order:m,child_execution_order:m,run_type:d??"chain",child_runs:[],extra:c?{metadata:c}:{},tags:o||[]};return this._addRunToRunMap(y)}async handleChainStart(e,n,r,s,o,c,d,h){var g,y;const m=this.runMap.get(r)??this._createRunForChainStart(e,n,r,s,o,c,d,h);return await((g=this.onRunCreate)==null?void 0:g.call(this,m)),await((y=this.onChainStart)==null?void 0:y.call(this,m)),m}async handleChainEnd(e,n,r,s,o){var d;const c=this.runMap.get(n);if(!c)throw new Error("No chain run to end.");return c.end_time=Date.now(),c.outputs=Hf(e,"output"),c.events.push({name:"end",time:new Date(c.end_time).toISOString()}),(o==null?void 0:o.inputs)!==void 0&&(c.inputs=Hf(o.inputs,"input")),await((d=this.onChainEnd)==null?void 0:d.call(this,c)),await this._endTrace(c),c}async handleChainError(e,n,r,s,o){var d;const c=this.runMap.get(n);if(!c)throw new Error("No chain run to end.");return c.end_time=Date.now(),c.error=this.stringifyError(e),c.events.push({name:"error",time:new Date(c.end_time).toISOString()}),(o==null?void 0:o.inputs)!==void 0&&(c.inputs=Hf(o.inputs,"input")),await((d=this.onChainError)==null?void 0:d.call(this,c)),await this._endTrace(c),c}_createRunForToolStart(e,n,r,s,o,c,d){const h=this._getExecutionOrder(s),m=Date.now(),g={id:r,name:d??e.id[e.id.length-1],parent_run_id:s,start_time:m,serialized:e,events:[{name:"start",time:new Date(m).toISOString()}],inputs:{input:n},execution_order:h,child_execution_order:h,run_type:"tool",child_runs:[],extra:c?{metadata:c}:{},tags:o||[]};return this._addRunToRunMap(g)}async handleToolStart(e,n,r,s,o,c,d){var m,g;const h=this.runMap.get(r)??this._createRunForToolStart(e,n,r,s,o,c,d);return await((m=this.onRunCreate)==null?void 0:m.call(this,h)),await((g=this.onToolStart)==null?void 0:g.call(this,h)),h}async handleToolEnd(e,n){var s;const r=this.runMap.get(n);if(!r||(r==null?void 0:r.run_type)!=="tool")throw new Error("No tool run to end");return r.end_time=Date.now(),r.outputs={output:e},r.events.push({name:"end",time:new Date(r.end_time).toISOString()}),await((s=this.onToolEnd)==null?void 0:s.call(this,r)),await this._endTrace(r),r}async handleToolError(e,n){var s;const r=this.runMap.get(n);if(!r||(r==null?void 0:r.run_type)!=="tool")throw new Error("No tool run to end");return r.end_time=Date.now(),r.error=this.stringifyError(e),r.events.push({name:"error",time:new Date(r.end_time).toISOString()}),await((s=this.onToolError)==null?void 0:s.call(this,r)),await this._endTrace(r),r}async handleAgentAction(e,n){var o;const r=this.runMap.get(n);if(!r||(r==null?void 0:r.run_type)!=="chain")return;const s=r;s.actions=s.actions||[],s.actions.push(e),s.events.push({name:"agent_action",time:new Date().toISOString(),kwargs:{action:e}}),await((o=this.onAgentAction)==null?void 0:o.call(this,r))}async handleAgentEnd(e,n){var s;const r=this.runMap.get(n);!r||(r==null?void 0:r.run_type)!=="chain"||(r.events.push({name:"agent_end",time:new Date().toISOString(),kwargs:{action:e}}),await((s=this.onAgentEnd)==null?void 0:s.call(this,r)))}_createRunForRetrieverStart(e,n,r,s,o,c,d){const h=this._getExecutionOrder(s),m=Date.now(),g={id:r,name:d??e.id[e.id.length-1],parent_run_id:s,start_time:m,serialized:e,events:[{name:"start",time:new Date(m).toISOString()}],inputs:{query:n},execution_order:h,child_execution_order:h,run_type:"retriever",child_runs:[],extra:c?{metadata:c}:{},tags:o||[]};return this._addRunToRunMap(g)}async handleRetrieverStart(e,n,r,s,o,c,d){var m,g;const h=this.runMap.get(r)??this._createRunForRetrieverStart(e,n,r,s,o,c,d);return await((m=this.onRunCreate)==null?void 0:m.call(this,h)),await((g=this.onRetrieverStart)==null?void 0:g.call(this,h)),h}async handleRetrieverEnd(e,n){var s;const r=this.runMap.get(n);if(!r||(r==null?void 0:r.run_type)!=="retriever")throw new Error("No retriever run to end");return r.end_time=Date.now(),r.outputs={documents:e},r.events.push({name:"end",time:new Date(r.end_time).toISOString()}),await((s=this.onRetrieverEnd)==null?void 0:s.call(this,r)),await this._endTrace(r),r}async handleRetrieverError(e,n){var s;const r=this.runMap.get(n);if(!r||(r==null?void 0:r.run_type)!=="retriever")throw new Error("No retriever run to end");return r.end_time=Date.now(),r.error=this.stringifyError(e),r.events.push({name:"error",time:new Date(r.end_time).toISOString()}),await((s=this.onRetrieverError)==null?void 0:s.call(this,r)),await this._endTrace(r),r}async handleText(e,n){var s;const r=this.runMap.get(n);!r||(r==null?void 0:r.run_type)!=="chain"||(r.events.push({name:"text",time:new Date().toISOString(),kwargs:{text:e}}),await((s=this.onText)==null?void 0:s.call(this,r)))}async handleLLMNewToken(e,n,r,s,o,c){var h;const d=this.runMap.get(r);if(!d||(d==null?void 0:d.run_type)!=="llm")throw new Error('Invalid "runId" provided to "handleLLMNewToken" callback.');return d.events.push({name:"new_token",time:new Date().toISOString(),kwargs:{token:e,idx:n,chunk:c==null?void 0:c.chunk}}),await((h=this.onLLMNewToken)==null?void 0:h.call(this,d,e,{chunk:c==null?void 0:c.chunk})),d}}var jo={exports:{}};jo.exports;var Pv;function UA(){return Pv||(Pv=1,function(i){const n=(o=0)=>c=>`\x1B[${38+o};5;${c}m`,r=(o=0)=>(c,d,h)=>`\x1B[${38+o};2;${c};${d};${h}m`;function s(){const o=new Map,c={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};c.color.gray=c.color.blackBright,c.bgColor.bgGray=c.bgColor.bgBlackBright,c.color.grey=c.color.blackBright,c.bgColor.bgGrey=c.bgColor.bgBlackBright;for(const[d,h]of Object.entries(c)){for(const[m,g]of Object.entries(h))c[m]={open:`\x1B[${g[0]}m`,close:`\x1B[${g[1]}m`},h[m]=c[m],o.set(g[0],g[1]);Object.defineProperty(c,d,{value:h,enumerable:!1})}return Object.defineProperty(c,"codes",{value:o,enumerable:!1}),c.color.close="\x1B[39m",c.bgColor.close="\x1B[49m",c.color.ansi256=n(),c.color.ansi16m=r(),c.bgColor.ansi256=n(10),c.bgColor.ansi16m=r(10),Object.defineProperties(c,{rgbToAnsi256:{value:(d,h,m)=>d===h&&h===m?d<8?16:d>248?231:Math.round((d-8)/247*24)+232:16+36*Math.round(d/255*5)+6*Math.round(h/255*5)+Math.round(m/255*5),enumerable:!1},hexToRgb:{value:d=>{const h=/(?<colorString>[a-f\d]{6}|[a-f\d]{3})/i.exec(d.toString(16));if(!h)return[0,0,0];let{colorString:m}=h.groups;m.length===3&&(m=m.split("").map(y=>y+y).join(""));const g=Number.parseInt(m,16);return[g>>16&255,g>>8&255,g&255]},enumerable:!1},hexToAnsi256:{value:d=>c.rgbToAnsi256(...c.hexToRgb(d)),enumerable:!1}}),c}Object.defineProperty(i,"exports",{enumerable:!0,get:s})}(jo)),jo.exports}var zA=UA();const a0=Qs(zA);function kt(i,e){return`${i.open}${e}${i.close}`}function fn(i,e){try{return JSON.stringify(i,null,2)}catch{return e}}function Uv(i){return typeof i=="string"?i.trim():i==null?i:fn(i,i.toString())}function za(i){if(!i.end_time)return"";const e=i.end_time-i.start_time;return e<1e3?`${e}ms`:`${(e/1e3).toFixed(2)}s`}const{color:zt}=a0;class zv extends el{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"console_callback_handler"})}persistRun(e){return Promise.resolve()}getParents(e){const n=[];let r=e;for(;r.parent_run_id;){const s=this.runMap.get(r.parent_run_id);if(s)n.push(s),r=s;else break}return n}getBreadcrumbs(e){const r=[...this.getParents(e).reverse(),e].map((s,o,c)=>{const d=`${s.execution_order}:${s.run_type}:${s.name}`;return o===c.length-1?kt(a0.bold,d):d}).join(" > ");return kt(zt.grey,r)}onChainStart(e){const n=this.getBreadcrumbs(e);console.log(`${kt(zt.green,"[chain/start]")} [${n}] Entering Chain run with input: ${fn(e.inputs,"[inputs]")}`)}onChainEnd(e){const n=this.getBreadcrumbs(e);console.log(`${kt(zt.cyan,"[chain/end]")} [${n}] [${za(e)}] Exiting Chain run with output: ${fn(e.outputs,"[outputs]")}`)}onChainError(e){const n=this.getBreadcrumbs(e);console.log(`${kt(zt.red,"[chain/error]")} [${n}] [${za(e)}] Chain run errored with error: ${fn(e.error,"[error]")}`)}onLLMStart(e){const n=this.getBreadcrumbs(e),r="prompts"in e.inputs?{prompts:e.inputs.prompts.map(s=>s.trim())}:e.inputs;console.log(`${kt(zt.green,"[llm/start]")} [${n}] Entering LLM run with input: ${fn(r,"[inputs]")}`)}onLLMEnd(e){const n=this.getBreadcrumbs(e);console.log(`${kt(zt.cyan,"[llm/end]")} [${n}] [${za(e)}] Exiting LLM run with output: ${fn(e.outputs,"[response]")}`)}onLLMError(e){const n=this.getBreadcrumbs(e);console.log(`${kt(zt.red,"[llm/error]")} [${n}] [${za(e)}] LLM run errored with error: ${fn(e.error,"[error]")}`)}onToolStart(e){const n=this.getBreadcrumbs(e);console.log(`${kt(zt.green,"[tool/start]")} [${n}] Entering Tool run with input: "${Uv(e.inputs.input)}"`)}onToolEnd(e){var r;const n=this.getBreadcrumbs(e);console.log(`${kt(zt.cyan,"[tool/end]")} [${n}] [${za(e)}] Exiting Tool run with output: "${Uv((r=e.outputs)==null?void 0:r.output)}"`)}onToolError(e){const n=this.getBreadcrumbs(e);console.log(`${kt(zt.red,"[tool/error]")} [${n}] [${za(e)}] Tool run errored with error: ${fn(e.error,"[error]")}`)}onRetrieverStart(e){const n=this.getBreadcrumbs(e);console.log(`${kt(zt.green,"[retriever/start]")} [${n}] Entering Retriever run with input: ${fn(e.inputs,"[inputs]")}`)}onRetrieverEnd(e){const n=this.getBreadcrumbs(e);console.log(`${kt(zt.cyan,"[retriever/end]")} [${n}] [${za(e)}] Exiting Retriever run with output: ${fn(e.outputs,"[outputs]")}`)}onRetrieverError(e){const n=this.getBreadcrumbs(e);console.log(`${kt(zt.red,"[retriever/error]")} [${n}] [${za(e)}] Retriever run errored with error: ${fn(e.error,"[error]")}`)}onAgentAction(e){const n=e,r=this.getBreadcrumbs(e);console.log(`${kt(zt.blue,"[agent/action]")} [${r}] Agent selected action: ${fn(n.actions[n.actions.length-1],"[action]")}`)}}let Gf;const qA=()=>{if(Gf===void 0){const i=ca("LANGCHAIN_CALLBACKS_BACKGROUND")==="false"?{blockOnRootRunFinalization:!0}:{};Gf=new Zs(i)}return Gf};class Ps extends el{constructor(e={}){super(e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"langchain_tracer"}),Object.defineProperty(this,"projectName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"exampleId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0});const{exampleId:n,projectName:r,client:s}=e;this.projectName=r??ca("LANGCHAIN_PROJECT")??ca("LANGCHAIN_SESSION"),this.exampleId=n,this.client=s??qA();const o=Ps.getTraceableRunTree();o&&this.updateFromRunTree(o)}async _convertToCreate(e,n=void 0){return{...e,extra:{...e.extra,runtime:await MA()},child_runs:void 0,session_name:this.projectName,reference_example_id:e.parent_run_id?void 0:n}}async persistRun(e){}async onRunCreate(e){const n=await this._convertToCreate(e,this.exampleId);await this.client.createRun(n)}async onRunUpdate(e){const n={end_time:e.end_time,error:e.error,outputs:e.outputs,events:e.events,inputs:e.inputs,trace_id:e.trace_id,dotted_order:e.dotted_order,parent_run_id:e.parent_run_id,extra:e.extra,session_name:this.projectName};await this.client.updateRun(e.id,n)}getRun(e){return this.runMap.get(e)}updateFromRunTree(e){let n=e;const r=new Set;for(;n.parent_run&&!(r.has(n.id)||(r.add(n.id),!n.parent_run));)n=n.parent_run;r.clear();const s=[n];for(;s.length>0;){const o=s.shift();!o||r.has(o.id)||(r.add(o.id),this.runMap.set(o.id,o),o.child_runs&&s.push(...o.child_runs))}this.client=e.client??this.client,this.projectName=e.project_name??this.projectName,this.exampleId=e.reference_example_id??this.exampleId}convertToRunTree(e){const n={},r=[];for(const[s,o]of this.runMap){const c=new Kt({...o,child_runs:[],parent_run:void 0,client:this.client,project_name:this.projectName,reference_example_id:this.exampleId,tracingEnabled:!0});n[s]=c,r.push([s,o.dotted_order])}r.sort((s,o)=>!s[1]||!o[1]?0:s[1].localeCompare(o[1]));for(const[s]of r){const o=this.runMap.get(s),c=n[s];if(!(!o||!c)&&o.parent_run_id){const d=n[o.parent_run_id];d&&(d.child_runs.push(c),c.parent_run=d)}}return n[e]}static getTraceableRunTree(){try{return wA(!0)}catch{return}}}const r0=Symbol.for("ls:tracing_async_local_storage"),ko=Symbol.for("lc:context_variables"),BA=i=>{globalThis[r0]=i},Ys=()=>globalThis[r0];let Us;function HA(){const i="default"in ua?ua.default:ua;return new i({autoStart:!0,concurrency:1})}function GA(){return typeof Us>"u"&&(Us=HA()),Us}async function ut(i,e){if(e===!0){const n=Ys();n!==void 0?await n.run(void 0,async()=>i()):await i()}else Us=GA(),Us.add(async()=>{const n=Ys();n!==void 0?await n.run(void 0,async()=>i()):await i()})}const VA=i=>!!["LANGSMITH_TRACING_V2","LANGCHAIN_TRACING_V2","LANGSMITH_TRACING","LANGCHAIN_TRACING"].find(n=>ca(n)==="true");function i0(i){var r;const e=Ys();if(e===void 0)return;const n=e.getStore();return(r=n==null?void 0:n[ko])==null?void 0:r[i]}const ZA=Symbol("lc:configure_hooks"),YA=()=>i0(ZA)||[];class FA{setHandler(e){return this.setHandlers([e])}}class su{constructor(e,n,r,s,o,c,d,h){Object.defineProperty(this,"runId",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"handlers",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"inheritableHandlers",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"inheritableTags",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:c}),Object.defineProperty(this,"inheritableMetadata",{enumerable:!0,configurable:!0,writable:!0,value:d}),Object.defineProperty(this,"_parentRunId",{enumerable:!0,configurable:!0,writable:!0,value:h})}get parentRunId(){return this._parentRunId}async handleText(e){await Promise.all(this.handlers.map(n=>ut(async()=>{var r;try{await((r=n.handleText)==null?void 0:r.call(n,e,this.runId,this._parentRunId,this.tags))}catch(s){if((n.raiseError?console.error:console.warn)(`Error in handler ${n.constructor.name}, handleText: ${s}`),n.raiseError)throw s}},n.awaitHandlers)))}async handleCustomEvent(e,n,r,s,o){await Promise.all(this.handlers.map(c=>ut(async()=>{var d;try{await((d=c.handleCustomEvent)==null?void 0:d.call(c,e,n,this.runId,this.tags,this.metadata))}catch(h){if((c.raiseError?console.error:console.warn)(`Error in handler ${c.constructor.name}, handleCustomEvent: ${h}`),c.raiseError)throw h}},c.awaitHandlers)))}}class XA extends su{getChild(e){const n=new qt(this.runId);return n.setHandlers(this.inheritableHandlers),n.addTags(this.inheritableTags),n.addMetadata(this.inheritableMetadata),e&&n.addTags([e],!1),n}async handleRetrieverEnd(e){await Promise.all(this.handlers.map(n=>ut(async()=>{var r;if(!n.ignoreRetriever)try{await((r=n.handleRetrieverEnd)==null?void 0:r.call(n,e,this.runId,this._parentRunId,this.tags))}catch(s){if((n.raiseError?console.error:console.warn)(`Error in handler ${n.constructor.name}, handleRetriever`),n.raiseError)throw s}},n.awaitHandlers)))}async handleRetrieverError(e){await Promise.all(this.handlers.map(n=>ut(async()=>{var r;if(!n.ignoreRetriever)try{await((r=n.handleRetrieverError)==null?void 0:r.call(n,e,this.runId,this._parentRunId,this.tags))}catch(s){if((n.raiseError?console.error:console.warn)(`Error in handler ${n.constructor.name}, handleRetrieverError: ${s}`),n.raiseError)throw e}},n.awaitHandlers)))}}class qv extends su{async handleLLMNewToken(e,n,r,s,o,c){await Promise.all(this.handlers.map(d=>ut(async()=>{var h;if(!d.ignoreLLM)try{await((h=d.handleLLMNewToken)==null?void 0:h.call(d,e,n??{prompt:0,completion:0},this.runId,this._parentRunId,this.tags,c))}catch(m){if((d.raiseError?console.error:console.warn)(`Error in handler ${d.constructor.name}, handleLLMNewToken: ${m}`),d.raiseError)throw m}},d.awaitHandlers)))}async handleLLMError(e,n,r,s,o){await Promise.all(this.handlers.map(c=>ut(async()=>{var d;if(!c.ignoreLLM)try{await((d=c.handleLLMError)==null?void 0:d.call(c,e,this.runId,this._parentRunId,this.tags,o))}catch(h){if((c.raiseError?console.error:console.warn)(`Error in handler ${c.constructor.name}, handleLLMError: ${h}`),c.raiseError)throw h}},c.awaitHandlers)))}async handleLLMEnd(e,n,r,s,o){await Promise.all(this.handlers.map(c=>ut(async()=>{var d;if(!c.ignoreLLM)try{await((d=c.handleLLMEnd)==null?void 0:d.call(c,e,this.runId,this._parentRunId,this.tags,o))}catch(h){if((c.raiseError?console.error:console.warn)(`Error in handler ${c.constructor.name}, handleLLMEnd: ${h}`),c.raiseError)throw h}},c.awaitHandlers)))}}class QA extends su{getChild(e){const n=new qt(this.runId);return n.setHandlers(this.inheritableHandlers),n.addTags(this.inheritableTags),n.addMetadata(this.inheritableMetadata),e&&n.addTags([e],!1),n}async handleChainError(e,n,r,s,o){await Promise.all(this.handlers.map(c=>ut(async()=>{var d;if(!c.ignoreChain)try{await((d=c.handleChainError)==null?void 0:d.call(c,e,this.runId,this._parentRunId,this.tags,o))}catch(h){if((c.raiseError?console.error:console.warn)(`Error in handler ${c.constructor.name}, handleChainError: ${h}`),c.raiseError)throw h}},c.awaitHandlers)))}async handleChainEnd(e,n,r,s,o){await Promise.all(this.handlers.map(c=>ut(async()=>{var d;if(!c.ignoreChain)try{await((d=c.handleChainEnd)==null?void 0:d.call(c,e,this.runId,this._parentRunId,this.tags,o))}catch(h){if((c.raiseError?console.error:console.warn)(`Error in handler ${c.constructor.name}, handleChainEnd: ${h}`),c.raiseError)throw h}},c.awaitHandlers)))}async handleAgentAction(e){await Promise.all(this.handlers.map(n=>ut(async()=>{var r;if(!n.ignoreAgent)try{await((r=n.handleAgentAction)==null?void 0:r.call(n,e,this.runId,this._parentRunId,this.tags))}catch(s){if((n.raiseError?console.error:console.warn)(`Error in handler ${n.constructor.name}, handleAgentAction: ${s}`),n.raiseError)throw s}},n.awaitHandlers)))}async handleAgentEnd(e){await Promise.all(this.handlers.map(n=>ut(async()=>{var r;if(!n.ignoreAgent)try{await((r=n.handleAgentEnd)==null?void 0:r.call(n,e,this.runId,this._parentRunId,this.tags))}catch(s){if((n.raiseError?console.error:console.warn)(`Error in handler ${n.constructor.name}, handleAgentEnd: ${s}`),n.raiseError)throw s}},n.awaitHandlers)))}}class JA extends su{getChild(e){const n=new qt(this.runId);return n.setHandlers(this.inheritableHandlers),n.addTags(this.inheritableTags),n.addMetadata(this.inheritableMetadata),e&&n.addTags([e],!1),n}async handleToolError(e){await Promise.all(this.handlers.map(n=>ut(async()=>{var r;if(!n.ignoreAgent)try{await((r=n.handleToolError)==null?void 0:r.call(n,e,this.runId,this._parentRunId,this.tags))}catch(s){if((n.raiseError?console.error:console.warn)(`Error in handler ${n.constructor.name}, handleToolError: ${s}`),n.raiseError)throw s}},n.awaitHandlers)))}async handleToolEnd(e){await Promise.all(this.handlers.map(n=>ut(async()=>{var r;if(!n.ignoreAgent)try{await((r=n.handleToolEnd)==null?void 0:r.call(n,e,this.runId,this._parentRunId,this.tags))}catch(s){if((n.raiseError?console.error:console.warn)(`Error in handler ${n.constructor.name}, handleToolEnd: ${s}`),n.raiseError)throw s}},n.awaitHandlers)))}}class qt extends FA{constructor(e,n){super(),Object.defineProperty(this,"handlers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"inheritableHandlers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"inheritableTags",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"inheritableMetadata",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"callback_manager"}),Object.defineProperty(this,"_parentRunId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.handlers=(n==null?void 0:n.handlers)??this.handlers,this.inheritableHandlers=(n==null?void 0:n.inheritableHandlers)??this.inheritableHandlers,this.tags=(n==null?void 0:n.tags)??this.tags,this.inheritableTags=(n==null?void 0:n.inheritableTags)??this.inheritableTags,this.metadata=(n==null?void 0:n.metadata)??this.metadata,this.inheritableMetadata=(n==null?void 0:n.inheritableMetadata)??this.inheritableMetadata,this._parentRunId=e}getParentRunId(){return this._parentRunId}async handleLLMStart(e,n,r=void 0,s=void 0,o=void 0,c=void 0,d=void 0,h=void 0){return Promise.all(n.map(async(m,g)=>{const y=g===0&&r?r:Ct();return await Promise.all(this.handlers.map(b=>{if(!b.ignoreLLM)return ks(b)&&b._createRunForLLMStart(e,[m],y,this._parentRunId,o,this.tags,this.metadata,h),ut(async()=>{var _;try{await((_=b.handleLLMStart)==null?void 0:_.call(b,e,[m],y,this._parentRunId,o,this.tags,this.metadata,h))}catch(x){if((b.raiseError?console.error:console.warn)(`Error in handler ${b.constructor.name}, handleLLMStart: ${x}`),b.raiseError)throw x}},b.awaitHandlers)})),new qv(y,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}))}async handleChatModelStart(e,n,r=void 0,s=void 0,o=void 0,c=void 0,d=void 0,h=void 0){return Promise.all(n.map(async(m,g)=>{const y=g===0&&r?r:Ct();return await Promise.all(this.handlers.map(b=>{if(!b.ignoreLLM)return ks(b)&&b._createRunForChatModelStart(e,[m],y,this._parentRunId,o,this.tags,this.metadata,h),ut(async()=>{var _,x;try{if(b.handleChatModelStart)await((_=b.handleChatModelStart)==null?void 0:_.call(b,e,[m],y,this._parentRunId,o,this.tags,this.metadata,h));else if(b.handleLLMStart){const E=G_(m);await((x=b.handleLLMStart)==null?void 0:x.call(b,e,[E],y,this._parentRunId,o,this.tags,this.metadata,h))}}catch(E){if((b.raiseError?console.error:console.warn)(`Error in handler ${b.constructor.name}, handleLLMStart: ${E}`),b.raiseError)throw E}},b.awaitHandlers)})),new qv(y,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}))}async handleChainStart(e,n,r=Ct(),s=void 0,o=void 0,c=void 0,d=void 0){return await Promise.all(this.handlers.map(h=>{if(!h.ignoreChain)return ks(h)&&h._createRunForChainStart(e,n,r,this._parentRunId,this.tags,this.metadata,s,d),ut(async()=>{var m;try{await((m=h.handleChainStart)==null?void 0:m.call(h,e,n,r,this._parentRunId,this.tags,this.metadata,s,d))}catch(g){if((h.raiseError?console.error:console.warn)(`Error in handler ${h.constructor.name}, handleChainStart: ${g}`),h.raiseError)throw g}},h.awaitHandlers)})),new QA(r,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleToolStart(e,n,r=Ct(),s=void 0,o=void 0,c=void 0,d=void 0){return await Promise.all(this.handlers.map(h=>{if(!h.ignoreAgent)return ks(h)&&h._createRunForToolStart(e,n,r,this._parentRunId,this.tags,this.metadata,d),ut(async()=>{var m;try{await((m=h.handleToolStart)==null?void 0:m.call(h,e,n,r,this._parentRunId,this.tags,this.metadata,d))}catch(g){if((h.raiseError?console.error:console.warn)(`Error in handler ${h.constructor.name}, handleToolStart: ${g}`),h.raiseError)throw g}},h.awaitHandlers)})),new JA(r,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleRetrieverStart(e,n,r=Ct(),s=void 0,o=void 0,c=void 0,d=void 0){return await Promise.all(this.handlers.map(h=>{if(!h.ignoreRetriever)return ks(h)&&h._createRunForRetrieverStart(e,n,r,this._parentRunId,this.tags,this.metadata,d),ut(async()=>{var m;try{await((m=h.handleRetrieverStart)==null?void 0:m.call(h,e,n,r,this._parentRunId,this.tags,this.metadata,d))}catch(g){if((h.raiseError?console.error:console.warn)(`Error in handler ${h.constructor.name}, handleRetrieverStart: ${g}`),h.raiseError)throw g}},h.awaitHandlers)})),new XA(r,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleCustomEvent(e,n,r,s,o){await Promise.all(this.handlers.map(c=>ut(async()=>{var d;if(!c.ignoreCustomEvent)try{await((d=c.handleCustomEvent)==null?void 0:d.call(c,e,n,r,this.tags,this.metadata))}catch(h){if((c.raiseError?console.error:console.warn)(`Error in handler ${c.constructor.name}, handleCustomEvent: ${h}`),c.raiseError)throw h}},c.awaitHandlers)))}addHandler(e,n=!0){this.handlers.push(e),n&&this.inheritableHandlers.push(e)}removeHandler(e){this.handlers=this.handlers.filter(n=>n!==e),this.inheritableHandlers=this.inheritableHandlers.filter(n=>n!==e)}setHandlers(e,n=!0){this.handlers=[],this.inheritableHandlers=[];for(const r of e)this.addHandler(r,n)}addTags(e,n=!0){this.removeTags(e),this.tags.push(...e),n&&this.inheritableTags.push(...e)}removeTags(e){this.tags=this.tags.filter(n=>!e.includes(n)),this.inheritableTags=this.inheritableTags.filter(n=>!e.includes(n))}addMetadata(e,n=!0){this.metadata={...this.metadata,...e},n&&(this.inheritableMetadata={...this.inheritableMetadata,...e})}removeMetadata(e){for(const n of Object.keys(e))delete this.metadata[n],delete this.inheritableMetadata[n]}copy(e=[],n=!0){const r=new qt(this._parentRunId);for(const s of this.handlers){const o=this.inheritableHandlers.includes(s);r.addHandler(s,o)}for(const s of this.tags){const o=this.inheritableTags.includes(s);r.addTags([s],o)}for(const s of Object.keys(this.metadata)){const o=Object.keys(this.inheritableMetadata).includes(s);r.addMetadata({[s]:this.metadata[s]},o)}for(const s of e)r.handlers.filter(o=>o.name==="console_callback_handler").some(o=>o.name===s.name)||r.addHandler(s,n);return r}static fromHandlers(e){class n extends Ws{constructor(){super(),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:Ct()}),Object.assign(this,e)}}const r=new this;return r.addHandler(new n),r}static configure(e,n,r,s,o,c,d){return this._configureSync(e,n,r,s,o,c,d)}static _configureSync(e,n,r,s,o,c,d){var b,_;let h;(e||n)&&(Array.isArray(e)||!e?(h=new qt,h.setHandlers((e==null?void 0:e.map(Ho))??[],!0)):h=e,h=h.copy(Array.isArray(n)?n.map(Ho):n==null?void 0:n.handlers,!1));const m=ca("LANGCHAIN_VERBOSE")==="true"||(d==null?void 0:d.verbose),g=((b=Ps.getTraceableRunTree())==null?void 0:b.tracingEnabled)||VA(),y=g||(ca("LANGCHAIN_TRACING")??!1);if(m||y){if(h||(h=new qt),m&&!h.handlers.some(x=>x.name===zv.prototype.name)){const x=new zv;h.addHandler(x,!0)}if(y&&!h.handlers.some(x=>x.name==="langchain_tracer")&&g){const x=new Ps;h.addHandler(x,!0),h._parentRunId=((_=Ps.getTraceableRunTree())==null?void 0:_.id)??h._parentRunId}}for(const{contextVar:x,inheritable:E=!0,handlerClass:A,envVar:N}of YA()){const D=N&&ca(N)==="true"&&A;let k;const F=x!==void 0?i0(x):void 0;F&&DA(F)?k=F:D&&(k=new A({})),k!==void 0&&(h||(h=new qt),h.handlers.some(q=>q.name===k.name)||h.addHandler(k,E))}return(r||s)&&h&&(h.addTags(r??[]),h.addTags(s??[],!1)),(o||c)&&h&&(h.addMetadata(o??{}),h.addMetadata(c??{},!1)),h}}function Ho(i){return"name"in i?i:Ws.fromMethods(i)}class KA{getStore(){}run(e,n){return n()}enterWith(e){}}const WA=new KA,Bv=Symbol.for("lc:child_config");class eR{getInstance(){return Ys()??WA}getRunnableConfig(){var n,r;return(r=(n=this.getInstance().getStore())==null?void 0:n.extra)==null?void 0:r[Bv]}runWithConfig(e,n,r){var g;const s=qt._configureSync(e==null?void 0:e.callbacks,void 0,e==null?void 0:e.tags,void 0,e==null?void 0:e.metadata),o=this.getInstance(),c=o.getStore(),d=s==null?void 0:s.getParentRunId(),h=(g=s==null?void 0:s.handlers)==null?void 0:g.find(y=>(y==null?void 0:y.name)==="langchain_tracer");let m;return h&&d?m=h.convertToRunTree(d):r||(m=new Kt({name:"<runnable_lambda>",tracingEnabled:!1})),m&&(m.extra={...m.extra,[Bv]:e}),c!==void 0&&c[ko]!==void 0&&(m===void 0&&(m={}),m[ko]=c[ko]),o.run(m,n)}initializeGlobalInstance(e){Ys()===void 0&&BA(e)}}const Ya=new eR,Vf=25;async function wn(i){return qt._configureSync(i==null?void 0:i.callbacks,void 0,i==null?void 0:i.tags,void 0,i==null?void 0:i.metadata)}function Hv(...i){const e={};for(const n of i.filter(r=>!!r))for(const r of Object.keys(n))if(r==="metadata")e[r]={...e[r],...n[r]};else if(r==="tags"){const s=e[r]??[];e[r]=[...new Set(s.concat(n[r]??[]))]}else if(r==="configurable")e[r]={...e[r],...n[r]};else if(r==="timeout")e.timeout===void 0?e.timeout=n.timeout:n.timeout!==void 0&&(e.timeout=Math.min(e.timeout,n.timeout));else if(r==="signal")e.signal===void 0?e.signal=n.signal:n.signal!==void 0&&("any"in AbortSignal?e.signal=AbortSignal.any([e.signal,n.signal]):e.signal=n.signal);else if(r==="callbacks"){const s=e.callbacks,o=n.callbacks;if(Array.isArray(o))if(!s)e.callbacks=o;else if(Array.isArray(s))e.callbacks=s.concat(o);else{const c=s.copy();for(const d of o)c.addHandler(Ho(d),!0);e.callbacks=c}else if(o)if(!s)e.callbacks=o;else if(Array.isArray(s)){const c=o.copy();for(const d of s)c.addHandler(Ho(d),!0);e.callbacks=c}else e.callbacks=new qt(o._parentRunId,{handlers:s.handlers.concat(o.handlers),inheritableHandlers:s.inheritableHandlers.concat(o.inheritableHandlers),tags:Array.from(new Set(s.tags.concat(o.tags))),inheritableTags:Array.from(new Set(s.inheritableTags.concat(o.inheritableTags))),metadata:{...s.metadata,...o.metadata}})}else{const s=r;e[s]=n[s]??e[s]}return e}const tR=new Set(["string","number","boolean"]);function De(i){var r;const e=Ya.getRunnableConfig();let n={tags:[],metadata:{},recursionLimit:25,runId:void 0};if(e){const{runId:s,runName:o,...c}=e;n=Object.entries(c).reduce((d,[h,m])=>(m!==void 0&&(d[h]=m),d),n)}if(i&&(n=Object.entries(i).reduce((s,[o,c])=>(c!==void 0&&(s[o]=c),s),n)),n!=null&&n.configurable)for(const s of Object.keys(n.configurable))tR.has(typeof n.configurable[s])&&!((r=n.metadata)!=null&&r[s])&&(n.metadata||(n.metadata={}),n.metadata[s]=n.configurable[s]);if(n.timeout!==void 0){if(n.timeout<=0)throw new Error("Timeout must be a positive number");const s=AbortSignal.timeout(n.timeout);n.signal!==void 0?"any"in AbortSignal&&(n.signal=AbortSignal.any([n.signal,s])):n.signal=s,delete n.timeout}return n}function At(i={},{callbacks:e,maxConcurrency:n,recursionLimit:r,runName:s,configurable:o,runId:c}={}){const d=De(i);return e!==void 0&&(delete d.runName,d.callbacks=e),r!==void 0&&(d.recursionLimit=r),n!==void 0&&(d.maxConcurrency=n),s!==void 0&&(d.runName=s),o!==void 0&&(d.configurable={...d.configurable,...o}),c!==void 0&&delete d.runId,d}function bi(i){return i?{configurable:i.configurable,recursionLimit:i.recursionLimit,callbacks:i.callbacks,tags:i.tags,metadata:i.metadata,maxConcurrency:i.maxConcurrency,timeout:i.timeout,signal:i.signal}:void 0}async function Fa(i,e){if(e===void 0)return i;let n;return Promise.race([i.catch(r=>{if(!(e!=null&&e.aborted))throw r}),new Promise((r,s)=>{n=()=>{s(new Error("Aborted"))},e.addEventListener("abort",n),e.aborted&&s(new Error("Aborted"))})]).finally(()=>e.removeEventListener("abort",n))}class en extends ReadableStream{constructor(){super(...arguments),Object.defineProperty(this,"reader",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}ensureReader(){this.reader||(this.reader=this.getReader())}async next(){this.ensureReader();try{const e=await this.reader.read();return e.done?(this.reader.releaseLock(),{done:!0,value:void 0}):{done:!1,value:e.value}}catch(e){throw this.reader.releaseLock(),e}}async return(){if(this.ensureReader(),this.locked){const e=this.reader.cancel();this.reader.releaseLock(),await e}return{done:!0,value:void 0}}async throw(e){if(this.ensureReader(),this.locked){const n=this.reader.cancel();this.reader.releaseLock(),await n}throw e}[Symbol.asyncIterator](){return this}async[Symbol.asyncDispose](){await this.return()}static fromReadableStream(e){const n=e.getReader();return new en({start(r){return s();function s(){return n.read().then(({done:o,value:c})=>{if(o){r.close();return}return r.enqueue(c),s()})}},cancel(){n.releaseLock()}})}static fromAsyncGenerator(e){return new en({async pull(n){const{value:r,done:s}=await e.next();s&&n.close(),n.enqueue(r)},async cancel(n){await e.return(n)}})}}function s0(i,e=2){const n=Array.from({length:e},()=>[]);return n.map(async function*(s){for(;;)if(s.length===0){const o=await i.next();for(const c of n)c.push(o)}else{if(s[0].done)return;yield s.shift().value}})}function xn(i,e){if(Array.isArray(i)&&Array.isArray(e))return i.concat(e);if(typeof i=="string"&&typeof e=="string")return i+e;if(typeof i=="number"&&typeof e=="number")return i+e;if("concat"in i&&typeof i.concat=="function")return i.concat(e);if(typeof i=="object"&&typeof e=="object"){const n={...i};for(const[r,s]of Object.entries(e))r in n&&!Array.isArray(n[r])?n[r]=xn(n[r],s):n[r]=s;return n}else throw new Error(`Cannot concat ${typeof i} and ${typeof e}`)}class Ai{constructor(e){var n;Object.defineProperty(this,"generator",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"setup",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signal",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"firstResult",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"firstResultUsed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),this.generator=e.generator,this.config=e.config,this.signal=e.signal??((n=this.config)==null?void 0:n.signal),this.setup=new Promise((r,s)=>{Ya.runWithConfig(bi(e.config),async()=>{this.firstResult=e.generator.next(),e.startSetup?this.firstResult.then(e.startSetup).then(r,s):this.firstResult.then(o=>r(void 0),s)},!0)})}async next(...e){var n;return(n=this.signal)==null||n.throwIfAborted(),this.firstResultUsed?Ya.runWithConfig(bi(this.config),this.signal?async()=>Fa(this.generator.next(...e),this.signal):async()=>this.generator.next(...e),!0):(this.firstResultUsed=!0,this.firstResult)}async return(e){return this.generator.return(e)}async throw(e){return this.generator.throw(e)}[Symbol.asyncIterator](){return this}async[Symbol.asyncDispose](){await this.return()}}async function nR(i,e,n,r,...s){const o=new Ai({generator:e,startSetup:n,signal:r}),c=await o.setup;return{output:i(o,c,...s),setup:c}}class Ba{constructor(e){Object.defineProperty(this,"ops",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.ops=e.ops??[]}concat(e){const n=this.ops.concat(e.ops),r=qo({},n);return new Fs({ops:n,state:r[r.length-1].newDocument})}}class Fs extends Ba{constructor(e){super(e),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.state=e.state}concat(e){const n=this.ops.concat(e.ops),r=qo(this.state,e.ops);return new Fs({ops:n,state:r[r.length-1].newDocument})}static fromRunLogPatch(e){const n=qo({},e.ops);return new Fs({ops:e.ops,state:n[n.length-1].newDocument})}}const aR=i=>i.name==="log_stream_tracer";async function Gv(i,e){if(e==="original")throw new Error("Do not assign inputs with original schema drop the key for now. When inputs are added to streamLog they should be added with standardized schema for streaming events.");const{inputs:n}=i;if(["retriever","llm","prompt"].includes(i.run_type))return n;if(!(Object.keys(n).length===1&&(n==null?void 0:n.input)===""))return n.input}async function Vv(i,e){const{outputs:n}=i;return e==="original"||["retriever","llm","prompt"].includes(i.run_type)?n:n!==void 0&&Object.keys(n).length===1&&(n==null?void 0:n.output)!==void 0?n.output:n}function rR(i){return i!==void 0&&i.message!==void 0}class Zv extends el{constructor(e){super({_awaitHandler:!0,...e}),Object.defineProperty(this,"autoClose",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"includeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_schemaFormat",{enumerable:!0,configurable:!0,writable:!0,value:"original"}),Object.defineProperty(this,"rootId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"keyMapByRunId",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"counterMapByRunName",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"transformStream",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"writer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"receiveStream",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"log_stream_tracer"}),Object.defineProperty(this,"lc_prefer_streaming",{enumerable:!0,configurable:!0,writable:!0,value:!0}),this.autoClose=(e==null?void 0:e.autoClose)??!0,this.includeNames=e==null?void 0:e.includeNames,this.includeTypes=e==null?void 0:e.includeTypes,this.includeTags=e==null?void 0:e.includeTags,this.excludeNames=e==null?void 0:e.excludeNames,this.excludeTypes=e==null?void 0:e.excludeTypes,this.excludeTags=e==null?void 0:e.excludeTags,this._schemaFormat=(e==null?void 0:e._schemaFormat)??this._schemaFormat,this.transformStream=new TransformStream,this.writer=this.transformStream.writable.getWriter(),this.receiveStream=en.fromReadableStream(this.transformStream.readable)}[Symbol.asyncIterator](){return this.receiveStream}async persistRun(e){}_includeRun(e){if(e.id===this.rootId)return!1;const n=e.tags??[];let r=this.includeNames===void 0&&this.includeTags===void 0&&this.includeTypes===void 0;return this.includeNames!==void 0&&(r=r||this.includeNames.includes(e.name)),this.includeTypes!==void 0&&(r=r||this.includeTypes.includes(e.run_type)),this.includeTags!==void 0&&(r=r||n.find(s=>{var o;return(o=this.includeTags)==null?void 0:o.includes(s)})!==void 0),this.excludeNames!==void 0&&(r=r&&!this.excludeNames.includes(e.name)),this.excludeTypes!==void 0&&(r=r&&!this.excludeTypes.includes(e.run_type)),this.excludeTags!==void 0&&(r=r&&n.every(s=>{var o;return!((o=this.excludeTags)!=null&&o.includes(s))})),r}async*tapOutputIterable(e,n){for await(const r of n){if(e!==this.rootId){const s=this.keyMapByRunId[e];s&&await this.writer.write(new Ba({ops:[{op:"add",path:`/logs/${s}/streamed_output/-`,value:r}]}))}yield r}}async onRunCreate(e){var s;if(this.rootId===void 0&&(this.rootId=e.id,await this.writer.write(new Ba({ops:[{op:"replace",path:"",value:{id:e.id,name:e.name,type:e.run_type,streamed_output:[],final_output:void 0,logs:{}}}]}))),!this._includeRun(e))return;this.counterMapByRunName[e.name]===void 0&&(this.counterMapByRunName[e.name]=0),this.counterMapByRunName[e.name]+=1;const n=this.counterMapByRunName[e.name];this.keyMapByRunId[e.id]=n===1?e.name:`${e.name}:${n}`;const r={id:e.id,name:e.name,type:e.run_type,tags:e.tags??[],metadata:((s=e.extra)==null?void 0:s.metadata)??{},start_time:new Date(e.start_time).toISOString(),streamed_output:[],streamed_output_str:[],final_output:void 0,end_time:void 0};this._schemaFormat==="streaming_events"&&(r.inputs=await Gv(e,this._schemaFormat)),await this.writer.write(new Ba({ops:[{op:"add",path:`/logs/${this.keyMapByRunId[e.id]}`,value:r}]}))}async onRunUpdate(e){try{const n=this.keyMapByRunId[e.id];if(n===void 0)return;const r=[];this._schemaFormat==="streaming_events"&&r.push({op:"replace",path:`/logs/${n}/inputs`,value:await Gv(e,this._schemaFormat)}),r.push({op:"add",path:`/logs/${n}/final_output`,value:await Vv(e,this._schemaFormat)}),e.end_time!==void 0&&r.push({op:"add",path:`/logs/${n}/end_time`,value:new Date(e.end_time).toISOString()});const s=new Ba({ops:r});await this.writer.write(s)}finally{if(e.id===this.rootId){const n=new Ba({ops:[{op:"replace",path:"/final_output",value:await Vv(e,this._schemaFormat)}]});await this.writer.write(n),this.autoClose&&await this.writer.close()}}}async onLLMNewToken(e,n,r){const s=this.keyMapByRunId[e.id];if(s===void 0)return;const o=e.inputs.messages!==void 0;let c;o?rR(r==null?void 0:r.chunk)?c=r==null?void 0:r.chunk:c=new vr({id:`run-${e.id}`,content:n}):c=n;const d=new Ba({ops:[{op:"add",path:`/logs/${s}/streamed_output_str/-`,value:n},{op:"add",path:`/logs/${s}/streamed_output/-`,value:c}]});await this.writer.write(d)}}const Yv="__run";class vi{constructor(e){Object.defineProperty(this,"text",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"generationInfo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.text=e.text,this.generationInfo=e.generationInfo}concat(e){return new vi({text:this.text+e.text,generationInfo:{...this.generationInfo,...e.generationInfo}})}}class _i extends vi{constructor(e){super(e),Object.defineProperty(this,"message",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.message=e.message}concat(e){return new _i({text:this.text+e.text,generationInfo:{...this.generationInfo,...e.generationInfo},message:this.message.concat(e.message)})}}function Ao({name:i,serialized:e}){return i!==void 0?i:(e==null?void 0:e.name)!==void 0?e.name:(e==null?void 0:e.id)!==void 0&&Array.isArray(e==null?void 0:e.id)?e.id[e.id.length-1]:"Unnamed"}const iR=i=>i.name==="event_stream_tracer";class sR extends el{constructor(e){super({_awaitHandler:!0,...e}),Object.defineProperty(this,"autoClose",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"includeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"runInfoMap",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"tappedPromises",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"transformStream",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"writer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"receiveStream",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"event_stream_tracer"}),Object.defineProperty(this,"lc_prefer_streaming",{enumerable:!0,configurable:!0,writable:!0,value:!0}),this.autoClose=(e==null?void 0:e.autoClose)??!0,this.includeNames=e==null?void 0:e.includeNames,this.includeTypes=e==null?void 0:e.includeTypes,this.includeTags=e==null?void 0:e.includeTags,this.excludeNames=e==null?void 0:e.excludeNames,this.excludeTypes=e==null?void 0:e.excludeTypes,this.excludeTags=e==null?void 0:e.excludeTags,this.transformStream=new TransformStream,this.writer=this.transformStream.writable.getWriter(),this.receiveStream=en.fromReadableStream(this.transformStream.readable)}[Symbol.asyncIterator](){return this.receiveStream}async persistRun(e){}_includeRun(e){const n=e.tags??[];let r=this.includeNames===void 0&&this.includeTags===void 0&&this.includeTypes===void 0;return this.includeNames!==void 0&&(r=r||this.includeNames.includes(e.name)),this.includeTypes!==void 0&&(r=r||this.includeTypes.includes(e.runType)),this.includeTags!==void 0&&(r=r||n.find(s=>{var o;return(o=this.includeTags)==null?void 0:o.includes(s)})!==void 0),this.excludeNames!==void 0&&(r=r&&!this.excludeNames.includes(e.name)),this.excludeTypes!==void 0&&(r=r&&!this.excludeTypes.includes(e.runType)),this.excludeTags!==void 0&&(r=r&&n.every(s=>{var o;return!((o=this.excludeTags)!=null&&o.includes(s))})),r}async*tapOutputIterable(e,n){const r=await n.next();if(r.done)return;const s=this.runInfoMap.get(e);if(s===void 0){yield r.value;return}function o(d,h){return d==="llm"&&typeof h=="string"?new vi({text:h}):h}let c=this.tappedPromises.get(e);if(c===void 0){let d;c=new Promise(h=>{d=h}),this.tappedPromises.set(e,c);try{const h={event:`on_${s.runType}_stream`,run_id:e,name:s.name,tags:s.tags,metadata:s.metadata,data:{}};await this.send({...h,data:{chunk:o(s.runType,r.value)}},s),yield r.value;for await(const m of n)s.runType!=="tool"&&s.runType!=="retriever"&&await this.send({...h,data:{chunk:o(s.runType,m)}},s),yield m}finally{d()}}else{yield r.value;for await(const d of n)yield d}}async send(e,n){this._includeRun(n)&&await this.writer.write(e)}async sendEndEvent(e,n){const r=this.tappedPromises.get(e.run_id);r!==void 0?r.then(()=>{this.send(e,n)}):await this.send(e,n)}async onLLMStart(e){var c,d;const n=Ao(e),r=e.inputs.messages!==void 0?"chat_model":"llm",s={tags:e.tags??[],metadata:((c=e.extra)==null?void 0:c.metadata)??{},name:n,runType:r,inputs:e.inputs};this.runInfoMap.set(e.id,s);const o=`on_${r}_start`;await this.send({event:o,data:{input:e.inputs},name:n,tags:e.tags??[],run_id:e.id,metadata:((d=e.extra)==null?void 0:d.metadata)??{}},s)}async onLLMNewToken(e,n,r){const s=this.runInfoMap.get(e.id);let o,c;if(s===void 0)throw new Error(`onLLMNewToken: Run ID ${e.id} not found in run map.`);if(this.runInfoMap.size!==1){if(s.runType==="chat_model")c="on_chat_model_stream",(r==null?void 0:r.chunk)===void 0?o=new vr({content:n,id:`run-${e.id}`}):o=r.chunk.message;else if(s.runType==="llm")c="on_llm_stream",(r==null?void 0:r.chunk)===void 0?o=new vi({text:n}):o=r.chunk;else throw new Error(`Unexpected run type ${s.runType}`);await this.send({event:c,data:{chunk:o},run_id:e.id,name:s.name,tags:s.tags,metadata:s.metadata},s)}}async onLLMEnd(e){var c,d,h;const n=this.runInfoMap.get(e.id);this.runInfoMap.delete(e.id);let r;if(n===void 0)throw new Error(`onLLMEnd: Run ID ${e.id} not found in run map.`);const s=(c=e.outputs)==null?void 0:c.generations;let o;if(n.runType==="chat_model"){for(const m of s??[]){if(o!==void 0)break;o=(d=m[0])==null?void 0:d.message}r="on_chat_model_end"}else if(n.runType==="llm")o={generations:s==null?void 0:s.map(m=>m.map(g=>({text:g.text,generationInfo:g.generationInfo}))),llmOutput:((h=e.outputs)==null?void 0:h.llmOutput)??{}},r="on_llm_end";else throw new Error(`onLLMEnd: Unexpected run type: ${n.runType}`);await this.sendEndEvent({event:r,data:{output:o,input:n.inputs},run_id:e.id,name:n.name,tags:n.tags,metadata:n.metadata},n)}async onChainStart(e){var c,d;const n=Ao(e),r=e.run_type??"chain",s={tags:e.tags??[],metadata:((c=e.extra)==null?void 0:c.metadata)??{},name:n,runType:e.run_type};let o={};e.inputs.input===""&&Object.keys(e.inputs).length===1?(o={},s.inputs={}):e.inputs.input!==void 0?(o.input=e.inputs.input,s.inputs=e.inputs.input):(o.input=e.inputs,s.inputs=e.inputs),this.runInfoMap.set(e.id,s),await this.send({event:`on_${r}_start`,data:o,name:n,tags:e.tags??[],run_id:e.id,metadata:((d=e.extra)==null?void 0:d.metadata)??{}},s)}async onChainEnd(e){var d;const n=this.runInfoMap.get(e.id);if(this.runInfoMap.delete(e.id),n===void 0)throw new Error(`onChainEnd: Run ID ${e.id} not found in run map.`);const r=`on_${e.run_type}_end`,s=e.inputs??n.inputs??{},c={output:((d=e.outputs)==null?void 0:d.output)??e.outputs,input:s};s.input&&Object.keys(s).length===1&&(c.input=s.input,n.inputs=s.input),await this.sendEndEvent({event:r,data:c,run_id:e.id,name:n.name,tags:n.tags,metadata:n.metadata??{}},n)}async onToolStart(e){var s,o;const n=Ao(e),r={tags:e.tags??[],metadata:((s=e.extra)==null?void 0:s.metadata)??{},name:n,runType:"tool",inputs:e.inputs??{}};this.runInfoMap.set(e.id,r),await this.send({event:"on_tool_start",data:{input:e.inputs??{}},name:n,run_id:e.id,tags:e.tags??[],metadata:((o=e.extra)==null?void 0:o.metadata)??{}},r)}async onToolEnd(e){var s;const n=this.runInfoMap.get(e.id);if(this.runInfoMap.delete(e.id),n===void 0)throw new Error(`onToolEnd: Run ID ${e.id} not found in run map.`);if(n.inputs===void 0)throw new Error(`onToolEnd: Run ID ${e.id} is a tool call, and is expected to have traced inputs.`);const r=((s=e.outputs)==null?void 0:s.output)===void 0?e.outputs:e.outputs.output;await this.sendEndEvent({event:"on_tool_end",data:{output:r,input:n.inputs},run_id:e.id,name:n.name,tags:n.tags,metadata:n.metadata},n)}async onRetrieverStart(e){var o,c;const n=Ao(e),s={tags:e.tags??[],metadata:((o=e.extra)==null?void 0:o.metadata)??{},name:n,runType:"retriever",inputs:{query:e.inputs.query}};this.runInfoMap.set(e.id,s),await this.send({event:"on_retriever_start",data:{input:{query:e.inputs.query}},name:n,tags:e.tags??[],run_id:e.id,metadata:((c=e.extra)==null?void 0:c.metadata)??{}},s)}async onRetrieverEnd(e){var r;const n=this.runInfoMap.get(e.id);if(this.runInfoMap.delete(e.id),n===void 0)throw new Error(`onRetrieverEnd: Run ID ${e.id} not found in run map.`);await this.sendEndEvent({event:"on_retriever_end",data:{output:((r=e.outputs)==null?void 0:r.documents)??e.outputs,input:n.inputs},run_id:e.id,name:n.name,tags:n.tags,metadata:n.metadata},n)}async handleCustomEvent(e,n,r){const s=this.runInfoMap.get(r);if(s===void 0)throw new Error(`handleCustomEvent: Run ID ${r} not found in run map.`);await this.send({event:"on_custom_event",run_id:r,name:e,tags:s.tags,metadata:s.metadata,data:n},s)}async finish(){const e=[...this.tappedPromises.values()];Promise.all(e).finally(()=>{this.writer.close()})}}const lR=[400,401,402,403,404,405,406,407,409],oR=i=>{var n,r;if(i.message.startsWith("Cancel")||i.message.startsWith("AbortError")||i.name==="AbortError"||(i==null?void 0:i.code)==="ECONNABORTED")throw i;const e=((n=i==null?void 0:i.response)==null?void 0:n.status)??(i==null?void 0:i.status);if(e&&lR.includes(+e))throw i;if(((r=i==null?void 0:i.error)==null?void 0:r.code)==="insufficient_quota"){const s=new Error(i==null?void 0:i.message);throw s.name="InsufficientQuotaError",s}};class Ih{constructor(e){Object.defineProperty(this,"maxConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxRetries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onFailedAttempt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"queue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxConcurrency=e.maxConcurrency??1/0,this.maxRetries=e.maxRetries??6,this.onFailedAttempt=e.onFailedAttempt??oR;const n="default"in ua?ua.default:ua;this.queue=new n({concurrency:this.maxConcurrency})}call(e,...n){return this.queue.add(()=>Po(()=>e(...n).catch(r=>{throw r instanceof Error?r:new Error(r)}),{onFailedAttempt:this.onFailedAttempt,retries:this.maxRetries,randomize:!0}),{throwOnTimeout:!0})}callWithOptions(e,n,...r){return e.signal?Promise.race([this.call(n,...r),new Promise((s,o)=>{var c;(c=e.signal)==null||c.addEventListener("abort",()=>{o(new Error("AbortError"))})})]):this.call(n,...r)}fetch(...e){return this.call(()=>fetch(...e).then(n=>n.ok?n:Promise.reject(n)))}}class l0 extends el{constructor({config:e,onStart:n,onEnd:r,onError:s}){super({_awaitHandler:!0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RootListenersTracer"}),Object.defineProperty(this,"rootId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"argOnStart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"argOnEnd",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"argOnError",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.config=e,this.argOnStart=n,this.argOnEnd=r,this.argOnError=s}persistRun(e){return Promise.resolve()}async onRunCreate(e){this.rootId||(this.rootId=e.id,this.argOnStart&&await this.argOnStart(e,this.config))}async onRunUpdate(e){e.id===this.rootId&&(e.error?this.argOnError&&await this.argOnError(e,this.config):this.argOnEnd&&await this.argOnEnd(e,this.config))}}function Ph(i){return i?i.lc_runnable:!1}class uR{constructor(e){Object.defineProperty(this,"includeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.includeNames=e.includeNames,this.includeTypes=e.includeTypes,this.includeTags=e.includeTags,this.excludeNames=e.excludeNames,this.excludeTypes=e.excludeTypes,this.excludeTags=e.excludeTags}includeEvent(e,n){let r=this.includeNames===void 0&&this.includeTypes===void 0&&this.includeTags===void 0;const s=e.tags??[];return this.includeNames!==void 0&&(r=r||this.includeNames.includes(e.name)),this.includeTypes!==void 0&&(r=r||this.includeTypes.includes(n)),this.includeTags!==void 0&&(r=r||s.some(o=>{var c;return(c=this.includeTags)==null?void 0:c.includes(o)})),this.excludeNames!==void 0&&(r=r&&!this.excludeNames.includes(e.name)),this.excludeTypes!==void 0&&(r=r&&!this.excludeTypes.includes(n)),this.excludeTags!==void 0&&(r=r&&s.every(o=>{var c;return!((c=this.excludeTags)!=null&&c.includes(o))})),r}}function Zf(i){return i.replace(/[^a-zA-Z-_0-9]/g,"_")}const cR=["*","_","`"];function dR(i){let e="";for(const[n,r]of Object.entries(i))e+=`	classDef ${n} ${r};
`;return e}function fR(i,e,n){const{firstNode:r,lastNode:s,nodeColors:o,withStyles:c=!0,curveStyle:d="linear",wrapLabelNWords:h=9}=n??{};let m=c?`%%{init: {'flowchart': {'curve': '${d}'}}}%%
graph TD;
`:`graph TD;
`;if(c){const _="default",x={[_]:"{0}({1})"};r!==void 0&&(x[r]="{0}([{1}]):::first"),s!==void 0&&(x[s]="{0}([{1}]):::last");for(const[E,A]of Object.entries(i)){const N=A.name.split(":").pop()??"";let k=cR.some(q=>N.startsWith(q)&&N.endsWith(q))?`<p>${N}</p>`:N;Object.keys(A.metadata??{}).length&&(k+=`<hr/><small><em>${Object.entries(A.metadata??{}).map(([q,ee])=>`${q} = ${ee}`).join(`
`)}</em></small>`);const F=(x[E]??x[_]).replace("{0}",Zf(E)).replace("{1}",k);m+=`	${F}
`}}const g={};for(const _ of e){const x=_.source.split(":"),E=_.target.split(":"),A=x.filter((N,D)=>N===E[D]).join(":");g[A]||(g[A]=[]),g[A].push(_)}const y=new Set;function b(_,x){const E=_.length===1&&_[0].source===_[0].target;if(x&&!E){const A=x.split(":").pop();if(y.has(A))throw new Error(`Found duplicate subgraph '${A}' -- this likely means that you're reusing a subgraph node with the same name. Please adjust your graph to have subgraph nodes with unique names.`);y.add(A),m+=`	subgraph ${A}
`}for(const A of _){const{source:N,target:D,data:k,conditional:F}=A;let q="";if(k!==void 0){let ee=k;const ne=ee.split(" ");ne.length>h&&(ee=Array.from({length:Math.ceil(ne.length/h)},(H,Ne)=>ne.slice(Ne*h,(Ne+1)*h).join(" ")).join("&nbsp;<br>&nbsp;")),q=F?` -. &nbsp;${ee}&nbsp; .-> `:` -- &nbsp;${ee}&nbsp; --> `}else q=F?" -.-> ":" --> ";m+=`	${Zf(N)}${q}${Zf(D)};
`}for(const A in g)A.startsWith(`${x}:`)&&A!==x&&b(g[A],A);x&&!E&&(m+=`	end
`)}b(g[""]??[],"");for(const _ in g)!_.includes(":")&&_!==""&&b(g[_],_);return c&&(m+=dR(o??{})),m}async function hR(i,e){let{backgroundColor:n="white"}=e??{};const r=btoa(i);n!==void 0&&(/^#(?:[0-9a-fA-F]{3}){1,2}$/.test(n)||(n=`!${n}`));const s=`https://mermaid.ink/img/${r}?bgColor=${n}`,o=await fetch(s);if(!o.ok)throw new Error(["Failed to render the graph using the Mermaid.INK API.",`Status code: ${o.status}`,`Status text: ${o.statusText}`].join(`
`));return await o.blob()}function mR(i,e){if(i!==void 0&&!$s(i))return i;if(Ph(e))try{let n=e.getName();return n=n.startsWith("Runnable")?n.slice(8):n,n}catch{return e.getName()}else return e.name??"UnknownSchema"}function pR(i){return Ph(i.data)?{type:"runnable",data:{id:i.data.lc_id,name:i.data.getName()}}:{type:"schema",data:{...Js(i.data.schema),title:i.data.name}}}class lu{constructor(e){Object.defineProperty(this,"nodes",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"edges",{enumerable:!0,configurable:!0,writable:!0,value:[]}),this.nodes=(e==null?void 0:e.nodes)??this.nodes,this.edges=(e==null?void 0:e.edges)??this.edges}toJSON(){const e={};return Object.values(this.nodes).forEach((n,r)=>{e[n.id]=$s(n.id)?r:n.id}),{nodes:Object.values(this.nodes).map(n=>({id:e[n.id],...pR(n)})),edges:this.edges.map(n=>{const r={source:e[n.source],target:e[n.target]};return typeof n.data<"u"&&(r.data=n.data),typeof n.conditional<"u"&&(r.conditional=n.conditional),r})}}addNode(e,n,r){if(n!==void 0&&this.nodes[n]!==void 0)throw new Error(`Node with id ${n} already exists`);const s=n??Ct(),o={id:s,data:e,name:mR(n,e),metadata:r};return this.nodes[s]=o,o}removeNode(e){delete this.nodes[e.id],this.edges=this.edges.filter(n=>n.source!==e.id&&n.target!==e.id)}addEdge(e,n,r,s){if(this.nodes[e.id]===void 0)throw new Error(`Source node ${e.id} not in graph`);if(this.nodes[n.id]===void 0)throw new Error(`Target node ${n.id} not in graph`);const o={source:e.id,target:n.id,data:r,conditional:s};return this.edges.push(o),o}firstNode(){return Fv(this)}lastNode(){return Xv(this)}extend(e,n=""){let r=n;Object.values(e.nodes).map(m=>m.id).every($s)&&(r="");const o=m=>r?`${r}:${m}`:m;Object.entries(e.nodes).forEach(([m,g])=>{this.nodes[o(m)]={...g,id:o(m)}});const c=e.edges.map(m=>({...m,source:o(m.source),target:o(m.target)}));this.edges=[...this.edges,...c];const d=e.firstNode(),h=e.lastNode();return[d?{id:o(d.id),data:d.data}:void 0,h?{id:o(h.id),data:h.data}:void 0]}trimFirstNode(){const e=this.firstNode();e&&Fv(this,[e.id])&&this.removeNode(e)}trimLastNode(){const e=this.lastNode();e&&Xv(this,[e.id])&&this.removeNode(e)}reid(){const e=Object.fromEntries(Object.values(this.nodes).map(s=>[s.id,s.name])),n=new Map;Object.values(e).forEach(s=>{n.set(s,(n.get(s)||0)+1)});const r=s=>{const o=e[s];return $s(s)&&n.get(o)===1?o:s};return new lu({nodes:Object.fromEntries(Object.entries(this.nodes).map(([s,o])=>[r(s),{...o,id:r(s)}])),edges:this.edges.map(s=>({...s,source:r(s.source),target:r(s.target)}))})}drawMermaid(e){const{withStyles:n,curveStyle:r,nodeColors:s={default:"fill:#f2f0ff,line-height:1.2",first:"fill-opacity:0",last:"fill:#bfb6fc"},wrapLabelNWords:o}=e??{},c=this.reid(),d=c.firstNode(),h=c.lastNode();return fR(c.nodes,c.edges,{firstNode:d==null?void 0:d.id,lastNode:h==null?void 0:h.id,withStyles:n,curveStyle:r,nodeColors:s,wrapLabelNWords:o})}async drawMermaidPng(e){const n=this.drawMermaid(e);return hR(n,{backgroundColor:e==null?void 0:e.backgroundColor})}}function Fv(i,e=[]){const n=new Set(i.edges.filter(s=>!e.includes(s.source)).map(s=>s.target)),r=[];for(const s of Object.values(i.nodes))!e.includes(s.id)&&!n.has(s.id)&&r.push(s);return r.length===1?r[0]:void 0}function Xv(i,e=[]){const n=new Set(i.edges.filter(s=>!e.includes(s.target)).map(s=>s.source)),r=[];for(const s of Object.values(i.nodes))!e.includes(s.id)&&!n.has(s.id)&&r.push(s);return r.length===1?r[0]:void 0}function gR(i){const e=new TextEncoder,n=new ReadableStream({async start(r){for await(const s of i)r.enqueue(e.encode(`event: data
data: ${JSON.stringify(s)}

`));r.enqueue(e.encode(`event: end

`)),r.close()}});return en.fromReadableStream(n)}function Qv(i){return typeof i=="object"&&i!==null&&typeof i[Symbol.iterator]=="function"&&typeof i.next=="function"}const yR=i=>i!=null&&typeof i=="object"&&"next"in i&&typeof i.next=="function";function mh(i){return typeof i=="object"&&i!==null&&typeof i[Symbol.asyncIterator]=="function"}function*Jv(i,e){for(;;){const{value:n,done:r}=Ya.runWithConfig(bi(i),e.next.bind(e),!0);if(r)break;yield n}}async function*ph(i,e){const n=e[Symbol.asyncIterator]();for(;;){const{value:r,done:s}=await Ya.runWithConfig(bi(i),n.next.bind(e),!0);if(s)break;yield r}}function gt(i,e){return i&&!Array.isArray(i)&&!(i instanceof Date)&&typeof i=="object"?i:{[e]:i}}class yt extends yr{constructor(){super(...arguments),Object.defineProperty(this,"lc_runnable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}getName(e){const n=this.name??this.constructor.lc_name()??this.constructor.name;return e?`${n}${e}`:n}bind(e){return new pr({bound:this,kwargs:e,config:{}})}map(){return new Go({bound:this})}withRetry(e){return new o0({bound:this,kwargs:{},config:{},maxAttemptNumber:e==null?void 0:e.stopAfterAttempt,...e})}withConfig(e){return new pr({bound:this,config:e,kwargs:{}})}withFallbacks(e){const n=Array.isArray(e)?e:e.fallbacks;return new vR({runnable:this,fallbacks:n})}_getOptionsList(e,n=0){if(Array.isArray(e)&&e.length!==n)throw new Error(`Passed "options" must be an array with the same length as the inputs, but got ${e.length} options for ${n} inputs`);if(Array.isArray(e))return e.map(De);if(n>1&&!Array.isArray(e)&&e.runId){console.warn("Provided runId will be used only for the first element of the batch.");const r=Object.fromEntries(Object.entries(e).filter(([s])=>s!=="runId"));return Array.from({length:n},(s,o)=>De(o===0?e:r))}return Array.from({length:n},()=>De(e))}async batch(e,n,r){var h;const s=this._getOptionsList(n??{},e.length),o=((h=s[0])==null?void 0:h.maxConcurrency)??(r==null?void 0:r.maxConcurrency),c=new Ih({maxConcurrency:o,onFailedAttempt:m=>{throw m}}),d=e.map((m,g)=>c.call(async()=>{try{return await this.invoke(m,s[g])}catch(y){if(r!=null&&r.returnExceptions)return y;throw y}}));return Promise.all(d)}async*_streamIterator(e,n){yield this.invoke(e,n)}async stream(e,n){const r=De(n),s=new Ai({generator:this._streamIterator(e,r),config:r});return await s.setup,en.fromAsyncGenerator(s)}_separateRunnableConfigFromCallOptions(e){let n;e===void 0?n=De(e):n=De({callbacks:e.callbacks,tags:e.tags,metadata:e.metadata,runName:e.runName,configurable:e.configurable,recursionLimit:e.recursionLimit,maxConcurrency:e.maxConcurrency,runId:e.runId,timeout:e.timeout,signal:e.signal});const r={...e};return delete r.callbacks,delete r.tags,delete r.metadata,delete r.runName,delete r.configurable,delete r.recursionLimit,delete r.maxConcurrency,delete r.runId,delete r.timeout,delete r.signal,[n,r]}async _callWithConfig(e,n,r){const s=De(r),o=await wn(s),c=await(o==null?void 0:o.handleChainStart(this.toJSON(),gt(n,"input"),s.runId,s==null?void 0:s.runType,void 0,void 0,(s==null?void 0:s.runName)??this.getName()));delete s.runId;let d;try{const h=e.call(this,n,s,c);d=await Fa(h,r==null?void 0:r.signal)}catch(h){throw await(c==null?void 0:c.handleChainError(h)),h}return await(c==null?void 0:c.handleChainEnd(gt(d,"output"))),d}async _batchWithConfig(e,n,r,s){var m;const o=this._getOptionsList(r??{},n.length),c=await Promise.all(o.map(wn)),d=await Promise.all(c.map(async(g,y)=>{const b=await(g==null?void 0:g.handleChainStart(this.toJSON(),gt(n[y],"input"),o[y].runId,o[y].runType,void 0,void 0,o[y].runName??this.getName()));return delete o[y].runId,b}));let h;try{const g=e.call(this,n,o,d,s);h=await Fa(g,(m=o==null?void 0:o[0])==null?void 0:m.signal)}catch(g){throw await Promise.all(d.map(y=>y==null?void 0:y.handleChainError(g))),g}return await Promise.all(d.map(g=>g==null?void 0:g.handleChainEnd(gt(h,"output")))),h}async*_transformStreamWithConfig(e,n,r){let s,o=!0,c,d=!0;const h=De(r),m=await wn(h);async function*g(){for await(const b of e){if(o)if(s===void 0)s=b;else try{s=xn(s,b)}catch{s=void 0,o=!1}yield b}}let y;try{const b=await nR(n.bind(this),g(),async()=>m==null?void 0:m.handleChainStart(this.toJSON(),{input:""},h.runId,h.runType,void 0,void 0,h.runName??this.getName()),r==null?void 0:r.signal,h);delete h.runId,y=b.setup;const _=y==null?void 0:y.handlers.find(iR);let x=b.output;_!==void 0&&y!==void 0&&(x=_.tapOutputIterable(y.runId,x));const E=y==null?void 0:y.handlers.find(aR);E!==void 0&&y!==void 0&&(x=E.tapOutputIterable(y.runId,x));for await(const A of x)if(yield A,d)if(c===void 0)c=A;else try{c=xn(c,A)}catch{c=void 0,d=!1}}catch(b){throw await(y==null?void 0:y.handleChainError(b,void 0,void 0,void 0,{inputs:gt(s,"input")})),b}await(y==null?void 0:y.handleChainEnd(c??{},void 0,void 0,void 0,{inputs:gt(s,"input")}))}getGraph(e){const n=new lu,r=n.addNode({name:`${this.getName()}Input`,schema:yb()}),s=n.addNode(this),o=n.addNode({name:`${this.getName()}Output`,schema:yb()});return n.addEdge(r,s),n.addEdge(s,o),n}pipe(e){return new la({first:this,last:mr(e)})}pick(e){return this.pipe(new _R(e))}assign(e){return this.pipe(new u0(new Ri({steps:e})))}async*transform(e,n){let r;for await(const s of e)r===void 0?r=s:r=xn(r,s);yield*this._streamIterator(r,De(n))}async*streamLog(e,n,r){const s=new Zv({...r,autoClose:!1,_schemaFormat:"original"}),o=De(n);yield*this._streamLog(e,s,o)}async*_streamLog(e,n,r){const{callbacks:s}=r;if(s===void 0)r.callbacks=[n];else if(Array.isArray(s))r.callbacks=s.concat([n]);else{const h=s.copy();h.addHandler(n,!0),r.callbacks=h}const o=this.stream(e,r);async function c(){try{const h=await o;for await(const m of h){const g=new Ba({ops:[{op:"add",path:"/streamed_output/-",value:m}]});await n.writer.write(g)}}finally{await n.writer.close()}}const d=c();try{for await(const h of n)yield h}finally{await d}}streamEvents(e,n,r){let s;if(n.version==="v1")s=this._streamEventsV1(e,n,r);else if(n.version==="v2")s=this._streamEventsV2(e,n,r);else throw new Error('Only versions "v1" and "v2" of the schema are currently supported.');return n.encoding==="text/event-stream"?gR(s):en.fromAsyncGenerator(s)}async*_streamEventsV2(e,n,r){var x;const s=new sR({...r,autoClose:!1}),o=De(n),c=o.runId??Ct();o.runId=c;const d=o.callbacks;if(d===void 0)o.callbacks=[s];else if(Array.isArray(d))o.callbacks=d.concat(s);else{const E=d.copy();E.addHandler(s,!0),o.callbacks=E}const h=new AbortController,m=this;async function g(){try{let E;n!=null&&n.signal?"any"in AbortSignal?E=AbortSignal.any([h.signal,n.signal]):(E=n.signal,n.signal.addEventListener("abort",()=>{h.abort()},{once:!0})):E=h.signal;const A=await m.stream(e,{...o,signal:E}),N=s.tapOutputIterable(c,A);for await(const D of N)if(h.signal.aborted)break}finally{await s.finish()}}const y=g();let b=!1,_;try{for await(const E of s){if(!b){E.data.input=e,b=!0,_=E.run_id,yield E;continue}E.run_id===_&&E.event.endsWith("_end")&&(x=E.data)!=null&&x.input&&delete E.data.input,yield E}}finally{h.abort(),await y}}async*_streamEventsV1(e,n,r){let s,o=!1;const c=De(n),d=c.tags??[],h=c.metadata??{},m=c.runName??this.getName(),g=new Zv({...r,autoClose:!1,_schemaFormat:"streaming_events"}),y=new uR({...r}),b=this._streamLog(e,g,c);for await(const x of b){if(s?s=s.concat(x):s=Fs.fromRunLogPatch(x),s.state===void 0)throw new Error('Internal error: "streamEvents" state is missing. Please open a bug report.');if(!o){o=!0;const D={...s.state},k={run_id:D.id,event:`on_${D.type}_start`,name:m,tags:d,metadata:h,data:{input:e}};y.includeEvent(k,D.type)&&(yield k)}const E=x.ops.filter(D=>D.path.startsWith("/logs/")).map(D=>D.path.split("/")[2]),A=[...new Set(E)];for(const D of A){let k,F={};const q=s.state.logs[D];if(q.end_time===void 0?q.streamed_output.length>0?k="stream":k="start":k="end",k==="start")q.inputs!==void 0&&(F.input=q.inputs);else if(k==="end")q.inputs!==void 0&&(F.input=q.inputs),F.output=q.final_output;else if(k==="stream"){const ee=q.streamed_output.length;if(ee!==1)throw new Error(`Expected exactly one chunk of streamed output, got ${ee} instead. Encountered in: "${q.name}"`);F={chunk:q.streamed_output[0]},q.streamed_output=[]}yield{event:`on_${q.type}_${k}`,name:q.name,run_id:q.id,tags:q.tags,metadata:q.metadata,data:F}}const{state:N}=s;if(N.streamed_output.length>0){const D=N.streamed_output.length;if(D!==1)throw new Error(`Expected exactly one chunk of streamed output, got ${D} instead. Encountered in: "${N.name}"`);const k={chunk:N.streamed_output[0]};N.streamed_output=[];const F={event:`on_${N.type}_stream`,run_id:N.id,tags:d,metadata:h,name:m,data:k};y.includeEvent(F,N.type)&&(yield F)}}const _=s==null?void 0:s.state;if(_!==void 0){const x={event:`on_${_.type}_end`,name:m,run_id:_.id,tags:d,metadata:h,data:{output:_.final_output}};y.includeEvent(x,_.type)&&(yield x)}}static isRunnable(e){return Ph(e)}withListeners({onStart:e,onEnd:n,onError:r}){return new pr({bound:this,config:{},configFactories:[s=>({callbacks:[new l0({config:s,onStart:e,onEnd:n,onError:r})]})]})}asTool(e){return wR(this,e)}}class pr extends yt{static lc_name(){return"RunnableBinding"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"bound",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"configFactories",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.bound=e.bound,this.kwargs=e.kwargs,this.config=e.config,this.configFactories=e.configFactories}getName(e){return this.bound.getName(e)}async _mergeConfig(...e){const n=Hv(this.config,...e);return Hv(n,...this.configFactories?await Promise.all(this.configFactories.map(async r=>await r(n))):[])}bind(e){return new this.constructor({bound:this.bound,kwargs:{...this.kwargs,...e},config:this.config})}withConfig(e){return new this.constructor({bound:this.bound,kwargs:this.kwargs,config:{...this.config,...e}})}withRetry(e){return new o0({bound:this.bound,kwargs:this.kwargs,config:this.config,maxAttemptNumber:e==null?void 0:e.stopAfterAttempt,...e})}async invoke(e,n){return this.bound.invoke(e,await this._mergeConfig(De(n),this.kwargs))}async batch(e,n,r){const s=Array.isArray(n)?await Promise.all(n.map(async o=>this._mergeConfig(De(o),this.kwargs))):await this._mergeConfig(De(n),this.kwargs);return this.bound.batch(e,s,r)}async*_streamIterator(e,n){yield*this.bound._streamIterator(e,await this._mergeConfig(De(n),this.kwargs))}async stream(e,n){return this.bound.stream(e,await this._mergeConfig(De(n),this.kwargs))}async*transform(e,n){yield*this.bound.transform(e,await this._mergeConfig(De(n),this.kwargs))}streamEvents(e,n,r){const s=this,o=async function*(){yield*s.bound.streamEvents(e,{...await s._mergeConfig(De(n),s.kwargs),version:n.version},r)};return en.fromAsyncGenerator(o())}static isRunnableBinding(e){return e.bound&&yt.isRunnable(e.bound)}withListeners({onStart:e,onEnd:n,onError:r}){return new pr({bound:this.bound,kwargs:this.kwargs,config:this.config,configFactories:[s=>({callbacks:[new l0({config:s,onStart:e,onEnd:n,onError:r})]})]})}}class Go extends yt{static lc_name(){return"RunnableEach"}constructor(e){super(e),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"bound",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.bound=e.bound}bind(e){return new Go({bound:this.bound.bind(e)})}async invoke(e,n){return this._callWithConfig(this._invoke.bind(this),e,n)}async _invoke(e,n,r){return this.bound.batch(e,At(n,{callbacks:r==null?void 0:r.getChild()}))}withListeners({onStart:e,onEnd:n,onError:r}){return new Go({bound:this.bound.withListeners({onStart:e,onEnd:n,onError:r})})}}class o0 extends pr{static lc_name(){return"RunnableRetry"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"maxAttemptNumber",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"onFailedAttempt",{enumerable:!0,configurable:!0,writable:!0,value:()=>{}}),this.maxAttemptNumber=e.maxAttemptNumber??this.maxAttemptNumber,this.onFailedAttempt=e.onFailedAttempt??this.onFailedAttempt}_patchConfigForRetry(e,n,r){const s=e>1?`retry:attempt:${e}`:void 0;return At(n,{callbacks:r==null?void 0:r.getChild(s)})}async _invoke(e,n,r){return Po(s=>super.invoke(e,this._patchConfigForRetry(s,n,r)),{onFailedAttempt:s=>this.onFailedAttempt(s,e),retries:Math.max(this.maxAttemptNumber-1,0),randomize:!0})}async invoke(e,n){return this._callWithConfig(this._invoke.bind(this),e,n)}async _batch(e,n,r,s){const o={};try{await Po(async c=>{const d=e.map((b,_)=>_).filter(b=>o[b.toString()]===void 0||o[b.toString()]instanceof Error),h=d.map(b=>e[b]),m=d.map(b=>this._patchConfigForRetry(c,n==null?void 0:n[b],r==null?void 0:r[b])),g=await super.batch(h,m,{...s,returnExceptions:!0});let y;for(let b=0;b<g.length;b+=1){const _=g[b],x=d[b];_ instanceof Error&&y===void 0&&(y=_,y.input=h[b]),o[x.toString()]=_}if(y)throw y;return g},{onFailedAttempt:c=>this.onFailedAttempt(c,c.input),retries:Math.max(this.maxAttemptNumber-1,0),randomize:!0})}catch(c){if((s==null?void 0:s.returnExceptions)!==!0)throw c}return Object.keys(o).sort((c,d)=>parseInt(c,10)-parseInt(d,10)).map(c=>o[parseInt(c,10)])}async batch(e,n,r){return this._batchWithConfig(this._batch.bind(this),e,n,r)}}class la extends yt{static lc_name(){return"RunnableSequence"}constructor(e){super(e),Object.defineProperty(this,"first",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"middle",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"last",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"omitSequenceTags",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),this.first=e.first,this.middle=e.middle??this.middle,this.last=e.last,this.name=e.name,this.omitSequenceTags=e.omitSequenceTags??this.omitSequenceTags}get steps(){return[this.first,...this.middle,this.last]}async invoke(e,n){var h;const r=De(n),s=await wn(r),o=await(s==null?void 0:s.handleChainStart(this.toJSON(),gt(e,"input"),r.runId,void 0,void 0,void 0,r==null?void 0:r.runName));delete r.runId;let c=e,d;try{const m=[this.first,...this.middle];for(let g=0;g<m.length;g+=1){const b=m[g].invoke(c,At(r,{callbacks:o==null?void 0:o.getChild(this.omitSequenceTags?void 0:`seq:step:${g+1}`)}));c=await Fa(b,n==null?void 0:n.signal)}if((h=n==null?void 0:n.signal)!=null&&h.aborted)throw new Error("Aborted");d=await this.last.invoke(c,At(r,{callbacks:o==null?void 0:o.getChild(this.omitSequenceTags?void 0:`seq:step:${this.steps.length}`)}))}catch(m){throw await(o==null?void 0:o.handleChainError(m)),m}return await(o==null?void 0:o.handleChainEnd(gt(d,"output"))),d}async batch(e,n,r){var h;const s=this._getOptionsList(n??{},e.length),o=await Promise.all(s.map(wn)),c=await Promise.all(o.map(async(m,g)=>{const y=await(m==null?void 0:m.handleChainStart(this.toJSON(),gt(e[g],"input"),s[g].runId,void 0,void 0,void 0,s[g].runName));return delete s[g].runId,y}));let d=e;try{for(let m=0;m<this.steps.length;m+=1){const y=this.steps[m].batch(d,c.map((b,_)=>{const x=b==null?void 0:b.getChild(this.omitSequenceTags?void 0:`seq:step:${m+1}`);return At(s[_],{callbacks:x})}),r);d=await Fa(y,(h=s[0])==null?void 0:h.signal)}}catch(m){throw await Promise.all(c.map(g=>g==null?void 0:g.handleChainError(m))),m}return await Promise.all(c.map(m=>m==null?void 0:m.handleChainEnd(gt(d,"output")))),d}async*_streamIterator(e,n){var y;const r=await wn(n),{runId:s,...o}=n??{},c=await(r==null?void 0:r.handleChainStart(this.toJSON(),gt(e,"input"),s,void 0,void 0,void 0,o==null?void 0:o.runName)),d=[this.first,...this.middle,this.last];let h=!0,m;async function*g(){yield e}try{let b=d[0].transform(g(),At(o,{callbacks:c==null?void 0:c.getChild(this.omitSequenceTags?void 0:"seq:step:1")}));for(let _=1;_<d.length;_+=1)b=await d[_].transform(b,At(o,{callbacks:c==null?void 0:c.getChild(this.omitSequenceTags?void 0:`seq:step:${_+1}`)}));for await(const _ of b)if((y=n==null?void 0:n.signal)==null||y.throwIfAborted(),yield _,h)if(m===void 0)m=_;else try{m=xn(m,_)}catch{m=void 0,h=!1}}catch(b){throw await(c==null?void 0:c.handleChainError(b)),b}await(c==null?void 0:c.handleChainEnd(gt(m,"output")))}getGraph(e){const n=new lu;let r=null;return this.steps.forEach((s,o)=>{const c=s.getGraph(e);o!==0&&c.trimFirstNode(),o!==this.steps.length-1&&c.trimLastNode(),n.extend(c);const d=c.firstNode();if(!d)throw new Error(`Runnable ${s} has no first node`);r&&n.addEdge(r,d),r=c.lastNode()}),n}pipe(e){return la.isRunnableSequence(e)?new la({first:this.first,middle:this.middle.concat([this.last,e.first,...e.middle]),last:e.last,name:this.name??e.name}):new la({first:this.first,middle:[...this.middle,this.last],last:mr(e),name:this.name})}static isRunnableSequence(e){return Array.isArray(e.middle)&&yt.isRunnable(e)}static from([e,...n],r){let s={};return typeof r=="string"?s.name=r:r!==void 0&&(s=r),new la({...s,first:mr(e),middle:n.slice(0,-1).map(mr),last:mr(n[n.length-1])})}}class Ri extends yt{static lc_name(){return"RunnableMap"}getStepsKeys(){return Object.keys(this.steps)}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"steps",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.steps={};for(const[n,r]of Object.entries(e.steps))this.steps[n]=mr(r)}static from(e){return new Ri({steps:e})}async invoke(e,n){const r=De(n),s=await wn(r),o=await(s==null?void 0:s.handleChainStart(this.toJSON(),{input:e},r.runId,void 0,void 0,void 0,r==null?void 0:r.runName));delete r.runId;const c={};try{const d=Object.entries(this.steps).map(async([h,m])=>{c[h]=await m.invoke(e,At(r,{callbacks:o==null?void 0:o.getChild(`map:key:${h}`)}))});await Fa(Promise.all(d),n==null?void 0:n.signal)}catch(d){throw await(o==null?void 0:o.handleChainError(d)),d}return await(o==null?void 0:o.handleChainEnd(c)),c}async*_transform(e,n,r){const s={...this.steps},o=s0(e,Object.keys(s).length),c=new Map(Object.entries(s).map(([d,h],m)=>{const g=h.transform(o[m],At(r,{callbacks:n==null?void 0:n.getChild(`map:key:${d}`)}));return[d,g.next().then(y=>({key:d,gen:g,result:y}))]}));for(;c.size;){const d=Promise.race(c.values()),{key:h,result:m,gen:g}=await Fa(d,r==null?void 0:r.signal);c.delete(h),m.done||(yield{[h]:m.value},c.set(h,g.next().then(y=>({key:h,gen:g,result:y}))))}}transform(e,n){return this._transformStreamWithConfig(e,this._transform.bind(this),n)}async stream(e,n){async function*r(){yield e}const s=De(n),o=new Ai({generator:this.transform(r(),s),config:s});return await o.setup,en.fromAsyncGenerator(o)}}class Uh extends yt{constructor(e){if(super(e),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"func",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!$h(e.func))throw new Error("RunnableTraceable requires a function that is wrapped in traceable higher-order function");this.func=e.func}async invoke(e,n){const[r]=this._getOptionsList(n??{},1),s=await wn(r),o=this.func(At(r,{callbacks:s}),e);return Fa(o,r==null?void 0:r.signal)}async*_streamIterator(e,n){var o,c;const[r]=this._getOptionsList(n??{},1),s=await this.invoke(e,n);if(mh(s)){for await(const d of s)(o=r==null?void 0:r.signal)==null||o.throwIfAborted(),yield d;return}if(yR(s)){for(;;){(c=r==null?void 0:r.signal)==null||c.throwIfAborted();const d=s.next();if(d.done)break;yield d.value}return}yield s}static from(e){return new Uh({func:e})}}function bR(i){if($h(i))throw new Error("RunnableLambda requires a function that is not wrapped in traceable higher-order function. This shouldn't happen.")}class tl extends yt{static lc_name(){return"RunnableLambda"}constructor(e){if($h(e.func))return Uh.from(e.func);super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"func",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),bR(e.func),this.func=e.func}static from(e){return new tl({func:e})}async _invoke(e,n,r){return new Promise((s,o)=>{const c=At(n,{callbacks:r==null?void 0:r.getChild(),recursionLimit:((n==null?void 0:n.recursionLimit)??Vf)-1});Ya.runWithConfig(bi(c),async()=>{var d,h;try{let m=await this.func(e,{...c});if(m&&yt.isRunnable(m)){if((n==null?void 0:n.recursionLimit)===0)throw new Error("Recursion limit reached.");m=await m.invoke(e,{...c,recursionLimit:(c.recursionLimit??Vf)-1})}else if(mh(m)){let g;for await(const y of ph(c,m))if((d=n==null?void 0:n.signal)==null||d.throwIfAborted(),g===void 0)g=y;else try{g=xn(g,y)}catch{g=y}m=g}else if(Qv(m)){let g;for(const y of Jv(c,m))if((h=n==null?void 0:n.signal)==null||h.throwIfAborted(),g===void 0)g=y;else try{g=xn(g,y)}catch{g=y}m=g}s(m)}catch(m){o(m)}})})}async invoke(e,n){return this._callWithConfig(this._invoke.bind(this),e,n)}async*_transform(e,n,r){var d,h;let s;for await(const m of e)if(s===void 0)s=m;else try{s=xn(s,m)}catch{s=m}const o=At(r,{callbacks:n==null?void 0:n.getChild(),recursionLimit:((r==null?void 0:r.recursionLimit)??Vf)-1}),c=await new Promise((m,g)=>{Ya.runWithConfig(bi(o),async()=>{try{const y=await this.func(s,{...o,config:o});m(y)}catch(y){g(y)}})});if(c&&yt.isRunnable(c)){if((r==null?void 0:r.recursionLimit)===0)throw new Error("Recursion limit reached.");const m=await c.stream(s,o);for await(const g of m)yield g}else if(mh(c))for await(const m of ph(o,c))(d=r==null?void 0:r.signal)==null||d.throwIfAborted(),yield m;else if(Qv(c))for(const m of Jv(o,c))(h=r==null?void 0:r.signal)==null||h.throwIfAborted(),yield m;else yield c}transform(e,n){return this._transformStreamWithConfig(e,this._transform.bind(this),n)}async stream(e,n){async function*r(){yield e}const s=De(n),o=new Ai({generator:this.transform(r(),s),config:s});return await o.setup,en.fromAsyncGenerator(o)}}class vR extends yt{static lc_name(){return"RunnableWithFallbacks"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"runnable",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fallbacks",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.runnable=e.runnable,this.fallbacks=e.fallbacks}*runnables(){yield this.runnable;for(const e of this.fallbacks)yield e}async invoke(e,n){const r=De(n),s=await wn(r),{runId:o,...c}=r,d=await(s==null?void 0:s.handleChainStart(this.toJSON(),gt(e,"input"),o,void 0,void 0,void 0,c==null?void 0:c.runName)),h=At(c,{callbacks:d==null?void 0:d.getChild()});return await Ya.runWithConfig(h,async()=>{var y;let g;for(const b of this.runnables()){(y=r==null?void 0:r.signal)==null||y.throwIfAborted();try{const _=await b.invoke(e,h);return await(d==null?void 0:d.handleChainEnd(gt(_,"output"))),_}catch(_){g===void 0&&(g=_)}}throw g===void 0?new Error("No error stored at end of fallback."):(await(d==null?void 0:d.handleChainError(g)),g)})}async*_streamIterator(e,n){var y;const r=De(n),s=await wn(r),{runId:o,...c}=r,d=await(s==null?void 0:s.handleChainStart(this.toJSON(),gt(e,"input"),o,void 0,void 0,void 0,c==null?void 0:c.runName));let h,m;for(const b of this.runnables()){(y=r==null?void 0:r.signal)==null||y.throwIfAborted();const _=At(c,{callbacks:d==null?void 0:d.getChild()});try{const x=await b.stream(e,_);m=ph(_,x);break}catch(x){h===void 0&&(h=x)}}if(m===void 0){const b=h??new Error("No error stored at end of fallback.");throw await(d==null?void 0:d.handleChainError(b)),b}let g;try{for await(const b of m){yield b;try{g=g===void 0?g:xn(g,b)}catch{g=void 0}}}catch(b){throw await(d==null?void 0:d.handleChainError(b)),b}await(d==null?void 0:d.handleChainEnd(gt(g,"output")))}async batch(e,n,r){var h;if(r!=null&&r.returnExceptions)throw new Error("Not implemented.");const s=this._getOptionsList(n??{},e.length),o=await Promise.all(s.map(m=>wn(m))),c=await Promise.all(o.map(async(m,g)=>{const y=await(m==null?void 0:m.handleChainStart(this.toJSON(),gt(e[g],"input"),s[g].runId,void 0,void 0,void 0,s[g].runName));return delete s[g].runId,y}));let d;for(const m of this.runnables()){(h=s[0].signal)==null||h.throwIfAborted();try{const g=await m.batch(e,c.map((y,b)=>At(s[b],{callbacks:y==null?void 0:y.getChild()})),r);return await Promise.all(c.map((y,b)=>y==null?void 0:y.handleChainEnd(gt(g[b],"output")))),g}catch(g){d===void 0&&(d=g)}}throw d?(await Promise.all(c.map(m=>m==null?void 0:m.handleChainError(d))),d):new Error("No error stored at end of fallbacks.")}}function mr(i){if(typeof i=="function")return new tl({func:i});if(yt.isRunnable(i))return i;if(!Array.isArray(i)&&typeof i=="object"){const e={};for(const[n,r]of Object.entries(i))e[n]=mr(r);return new Ri({steps:e})}else throw new Error(`Expected a Runnable, function or object.
Instead got an unsupported type.`)}class u0 extends yt{static lc_name(){return"RunnableAssign"}constructor(e){e instanceof Ri&&(e={mapper:e}),super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"mapper",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.mapper=e.mapper}async invoke(e,n){const r=await this.mapper.invoke(e,n);return{...e,...r}}async*_transform(e,n,r){const s=this.mapper.getStepsKeys(),[o,c]=s0(e),d=this.mapper.transform(c,At(r,{callbacks:n==null?void 0:n.getChild()})),h=d.next();for await(const m of o){if(typeof m!="object"||Array.isArray(m))throw new Error(`RunnableAssign can only be used with objects as input, got ${typeof m}`);const g=Object.fromEntries(Object.entries(m).filter(([y])=>!s.includes(y)));Object.keys(g).length>0&&(yield g)}yield(await h).value;for await(const m of d)yield m}transform(e,n){return this._transformStreamWithConfig(e,this._transform.bind(this),n)}async stream(e,n){async function*r(){yield e}const s=De(n),o=new Ai({generator:this.transform(r(),s),config:s});return await o.setup,en.fromAsyncGenerator(o)}}class _R extends yt{static lc_name(){return"RunnablePick"}constructor(e){(typeof e=="string"||Array.isArray(e))&&(e={keys:e}),super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"keys",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.keys=e.keys}async _pick(e){if(typeof this.keys=="string")return e[this.keys];{const n=this.keys.map(r=>[r,e[r]]).filter(r=>r[1]!==void 0);return n.length===0?void 0:Object.fromEntries(n)}}async invoke(e,n){return this._callWithConfig(this._pick.bind(this),e,n)}async*_transform(e){for await(const n of e){const r=await this._pick(n);r!==void 0&&(yield r)}}transform(e,n){return this._transformStreamWithConfig(e,this._transform.bind(this),n)}async stream(e,n){async function*r(){yield e}const s=De(n),o=new Ai({generator:this.transform(r(),s),config:s});return await o.setup,en.fromAsyncGenerator(o)}}class Kv extends pr{constructor(e){const n=la.from([tl.from(async r=>{let s;if(H_(r))try{s=await this.schema.parseAsync(r.args)}catch{throw new QO("Received tool input did not match expected schema",JSON.stringify(r.args))}else s=r;return s}).withConfig({runName:`${e.name}:parse_input`}),e.bound]).withConfig({runName:e.name});super({bound:n,config:e.config??{}}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"description",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"schema",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=e.name,this.description=e.description,this.schema=e.schema}static lc_name(){return"RunnableToolLike"}}function wR(i,e){var s;const n=e.name??i.getName(),r=e.description??((s=e.schema)==null?void 0:s.description);return e.schema.constructor===sa?new Kv({name:n,description:r,schema:D_({input:$_()}).transform(o=>o.input),bound:i}):new Kv({name:n,description:r,schema:e.schema,bound:i})}/*
 * [js-sha1]{@link https://github.com/emn178/js-sha1}
 *
 * @version 0.6.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2017
 * @license MIT
 */var xR=typeof window=="object"?window:{},we="0123456789abcdef".split(""),SR=[-2147483648,8388608,32768,128],vn=[24,16,8,0],pt=[];function En(i){i?(pt[0]=pt[16]=pt[1]=pt[2]=pt[3]=pt[4]=pt[5]=pt[6]=pt[7]=pt[8]=pt[9]=pt[10]=pt[11]=pt[12]=pt[13]=pt[14]=pt[15]=0,this.blocks=pt):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.h0=1732584193,this.h1=4023233417,this.h2=2562383102,this.h3=271733878,this.h4=3285377520,this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}En.prototype.update=function(i){if(!this.finalized){var e=typeof i!="string";e&&i.constructor===xR.ArrayBuffer&&(i=new Uint8Array(i));for(var n,r=0,s,o=i.length||0,c=this.blocks;r<o;){if(this.hashed&&(this.hashed=!1,c[0]=this.block,c[16]=c[1]=c[2]=c[3]=c[4]=c[5]=c[6]=c[7]=c[8]=c[9]=c[10]=c[11]=c[12]=c[13]=c[14]=c[15]=0),e)for(s=this.start;r<o&&s<64;++r)c[s>>2]|=i[r]<<vn[s++&3];else for(s=this.start;r<o&&s<64;++r)n=i.charCodeAt(r),n<128?c[s>>2]|=n<<vn[s++&3]:n<2048?(c[s>>2]|=(192|n>>6)<<vn[s++&3],c[s>>2]|=(128|n&63)<<vn[s++&3]):n<55296||n>=57344?(c[s>>2]|=(224|n>>12)<<vn[s++&3],c[s>>2]|=(128|n>>6&63)<<vn[s++&3],c[s>>2]|=(128|n&63)<<vn[s++&3]):(n=65536+((n&1023)<<10|i.charCodeAt(++r)&1023),c[s>>2]|=(240|n>>18)<<vn[s++&3],c[s>>2]|=(128|n>>12&63)<<vn[s++&3],c[s>>2]|=(128|n>>6&63)<<vn[s++&3],c[s>>2]|=(128|n&63)<<vn[s++&3]);this.lastByteIndex=s,this.bytes+=s-this.start,s>=64?(this.block=c[16],this.start=s-64,this.hash(),this.hashed=!0):this.start=s}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}};En.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var i=this.blocks,e=this.lastByteIndex;i[16]=this.block,i[e>>2]|=SR[e&3],this.block=i[16],e>=56&&(this.hashed||this.hash(),i[0]=this.block,i[16]=i[1]=i[2]=i[3]=i[4]=i[5]=i[6]=i[7]=i[8]=i[9]=i[10]=i[11]=i[12]=i[13]=i[14]=i[15]=0),i[14]=this.hBytes<<3|this.bytes>>>29,i[15]=this.bytes<<3,this.hash()}};En.prototype.hash=function(){var i=this.h0,e=this.h1,n=this.h2,r=this.h3,s=this.h4,o,c,d,h=this.blocks;for(c=16;c<80;++c)d=h[c-3]^h[c-8]^h[c-14]^h[c-16],h[c]=d<<1|d>>>31;for(c=0;c<20;c+=5)o=e&n|~e&r,d=i<<5|i>>>27,s=d+o+s+1518500249+h[c]<<0,e=e<<30|e>>>2,o=i&e|~i&n,d=s<<5|s>>>27,r=d+o+r+1518500249+h[c+1]<<0,i=i<<30|i>>>2,o=s&i|~s&e,d=r<<5|r>>>27,n=d+o+n+1518500249+h[c+2]<<0,s=s<<30|s>>>2,o=r&s|~r&i,d=n<<5|n>>>27,e=d+o+e+1518500249+h[c+3]<<0,r=r<<30|r>>>2,o=n&r|~n&s,d=e<<5|e>>>27,i=d+o+i+1518500249+h[c+4]<<0,n=n<<30|n>>>2;for(;c<40;c+=5)o=e^n^r,d=i<<5|i>>>27,s=d+o+s+1859775393+h[c]<<0,e=e<<30|e>>>2,o=i^e^n,d=s<<5|s>>>27,r=d+o+r+1859775393+h[c+1]<<0,i=i<<30|i>>>2,o=s^i^e,d=r<<5|r>>>27,n=d+o+n+1859775393+h[c+2]<<0,s=s<<30|s>>>2,o=r^s^i,d=n<<5|n>>>27,e=d+o+e+1859775393+h[c+3]<<0,r=r<<30|r>>>2,o=n^r^s,d=e<<5|e>>>27,i=d+o+i+1859775393+h[c+4]<<0,n=n<<30|n>>>2;for(;c<60;c+=5)o=e&n|e&r|n&r,d=i<<5|i>>>27,s=d+o+s-1894007588+h[c]<<0,e=e<<30|e>>>2,o=i&e|i&n|e&n,d=s<<5|s>>>27,r=d+o+r-1894007588+h[c+1]<<0,i=i<<30|i>>>2,o=s&i|s&e|i&e,d=r<<5|r>>>27,n=d+o+n-1894007588+h[c+2]<<0,s=s<<30|s>>>2,o=r&s|r&i|s&i,d=n<<5|n>>>27,e=d+o+e-1894007588+h[c+3]<<0,r=r<<30|r>>>2,o=n&r|n&s|r&s,d=e<<5|e>>>27,i=d+o+i-1894007588+h[c+4]<<0,n=n<<30|n>>>2;for(;c<80;c+=5)o=e^n^r,d=i<<5|i>>>27,s=d+o+s-899497514+h[c]<<0,e=e<<30|e>>>2,o=i^e^n,d=s<<5|s>>>27,r=d+o+r-899497514+h[c+1]<<0,i=i<<30|i>>>2,o=s^i^e,d=r<<5|r>>>27,n=d+o+n-899497514+h[c+2]<<0,s=s<<30|s>>>2,o=r^s^i,d=n<<5|n>>>27,e=d+o+e-899497514+h[c+3]<<0,r=r<<30|r>>>2,o=n^r^s,d=e<<5|e>>>27,i=d+o+i-899497514+h[c+4]<<0,n=n<<30|n>>>2;this.h0=this.h0+i<<0,this.h1=this.h1+e<<0,this.h2=this.h2+n<<0,this.h3=this.h3+r<<0,this.h4=this.h4+s<<0};En.prototype.hex=function(){this.finalize();var i=this.h0,e=this.h1,n=this.h2,r=this.h3,s=this.h4;return we[i>>28&15]+we[i>>24&15]+we[i>>20&15]+we[i>>16&15]+we[i>>12&15]+we[i>>8&15]+we[i>>4&15]+we[i&15]+we[e>>28&15]+we[e>>24&15]+we[e>>20&15]+we[e>>16&15]+we[e>>12&15]+we[e>>8&15]+we[e>>4&15]+we[e&15]+we[n>>28&15]+we[n>>24&15]+we[n>>20&15]+we[n>>16&15]+we[n>>12&15]+we[n>>8&15]+we[n>>4&15]+we[n&15]+we[r>>28&15]+we[r>>24&15]+we[r>>20&15]+we[r>>16&15]+we[r>>12&15]+we[r>>8&15]+we[r>>4&15]+we[r&15]+we[s>>28&15]+we[s>>24&15]+we[s>>20&15]+we[s>>16&15]+we[s>>12&15]+we[s>>8&15]+we[s>>4&15]+we[s&15]};En.prototype.toString=En.prototype.hex;En.prototype.digest=function(){this.finalize();var i=this.h0,e=this.h1,n=this.h2,r=this.h3,s=this.h4;return[i>>24&255,i>>16&255,i>>8&255,i&255,e>>24&255,e>>16&255,e>>8&255,e&255,n>>24&255,n>>16&255,n>>8&255,n&255,r>>24&255,r>>16&255,r>>8&255,r&255,s>>24&255,s>>16&255,s>>8&255,s&255]};En.prototype.array=En.prototype.digest;En.prototype.arrayBuffer=function(){this.finalize();var i=new ArrayBuffer(20),e=new DataView(i);return e.setUint32(0,this.h0),e.setUint32(4,this.h1),e.setUint32(8,this.h2),e.setUint32(12,this.h3),e.setUint32(16,this.h4),i};const ER=i=>new En(!0).update(i).hex(),Wv=(...i)=>ER(i.join("_"));class OR{}const TR=new Map;class zh extends OR{constructor(e){super(),Object.defineProperty(this,"cache",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cache=e??new Map}lookup(e,n){return Promise.resolve(this.cache.get(Wv(e,n))??null)}async update(e,n,r){this.cache.set(Wv(e,n),r)}static global(){return new zh(TR)}}class c0 extends yr{}class AR extends c0{static lc_name(){return"StringPromptValue"}constructor(e){super({value:e}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","prompt_values"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.value=e}toString(){return this.value}toChatMessages(){return[new Wo(this.value)]}}class RR extends c0{static lc_name(){return"ChatPromptValue"}constructor(e){Array.isArray(e)&&(e={messages:e}),super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","prompt_values"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"messages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.messages=e.messages}toString(){return G_(this.messages)}toChatMessages(){return this.messages}}var Cs={},e_;function NR(){if(e_)return Cs;e_=1,Cs.byteLength=d,Cs.toByteArray=m,Cs.fromByteArray=b;for(var i=[],e=[],n=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,o=r.length;s<o;++s)i[s]=r[s],e[r.charCodeAt(s)]=s;e[45]=62,e[95]=63;function c(_){var x=_.length;if(x%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var E=_.indexOf("=");E===-1&&(E=x);var A=E===x?0:4-E%4;return[E,A]}function d(_){var x=c(_),E=x[0],A=x[1];return(E+A)*3/4-A}function h(_,x,E){return(x+E)*3/4-E}function m(_){var x,E=c(_),A=E[0],N=E[1],D=new n(h(_,A,N)),k=0,F=N>0?A-4:A,q;for(q=0;q<F;q+=4)x=e[_.charCodeAt(q)]<<18|e[_.charCodeAt(q+1)]<<12|e[_.charCodeAt(q+2)]<<6|e[_.charCodeAt(q+3)],D[k++]=x>>16&255,D[k++]=x>>8&255,D[k++]=x&255;return N===2&&(x=e[_.charCodeAt(q)]<<2|e[_.charCodeAt(q+1)]>>4,D[k++]=x&255),N===1&&(x=e[_.charCodeAt(q)]<<10|e[_.charCodeAt(q+1)]<<4|e[_.charCodeAt(q+2)]>>2,D[k++]=x>>8&255,D[k++]=x&255),D}function g(_){return i[_>>18&63]+i[_>>12&63]+i[_>>6&63]+i[_&63]}function y(_,x,E){for(var A,N=[],D=x;D<E;D+=3)A=(_[D]<<16&16711680)+(_[D+1]<<8&65280)+(_[D+2]&255),N.push(g(A));return N.join("")}function b(_){for(var x,E=_.length,A=E%3,N=[],D=16383,k=0,F=E-A;k<F;k+=D)N.push(y(_,k,k+D>F?F:k+D));return A===1?(x=_[E-1],N.push(i[x>>2]+i[x<<4&63]+"==")):A===2&&(x=(_[E-2]<<8)+_[E-1],N.push(i[x>>10]+i[x>>4&63]+i[x<<2&63]+"=")),N.join("")}return Cs}var jR=NR();const kR=Qs(jR);var CR=Object.defineProperty,MR=(i,e,n)=>e in i?CR(i,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):i[e]=n,LR=(i,e,n)=>(MR(i,e+"",n),n);function $R(i,e){let n=Array.from({length:i.length},(r,s)=>({start:s,end:s+1}));for(;n.length>1;){let r=null;for(let s=0;s<n.length-1;s++){const o=i.slice(n[s].start,n[s+1].end),c=e.get(o.join(","));c!=null&&(r==null||c<r[0])&&(r=[c,s])}if(r!=null){const s=r[1];n[s]={start:n[s].start,end:n[s+1].end},n.splice(s+1,1)}else break}return n}function DR(i,e){return i.length===1?[e.get(i.join(","))]:$R(i,e).map(n=>e.get(i.slice(n.start,n.end).join(","))).filter(n=>n!=null)}function IR(i){return i.replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")}var gh=class{constructor(i,e){Ia(this,"specialTokens");Ia(this,"inverseSpecialTokens");Ia(this,"patStr");Ia(this,"textEncoder",new TextEncoder);Ia(this,"textDecoder",new TextDecoder("utf-8"));Ia(this,"rankMap",new Map);Ia(this,"textMap",new Map);this.patStr=i.pat_str;const n=i.bpe_ranks.split(`
`).filter(Boolean).reduce((r,s)=>{const[o,c,...d]=s.split(" "),h=Number.parseInt(c,10);return d.forEach((m,g)=>r[m]=h+g),r},{});for(const[r,s]of Object.entries(n)){const o=kR.toByteArray(r);this.rankMap.set(o.join(","),s),this.textMap.set(s,o)}this.specialTokens={...i.special_tokens,...e},this.inverseSpecialTokens=Object.entries(this.specialTokens).reduce((r,[s,o])=>(r[o]=this.textEncoder.encode(s),r),{})}encode(i,e=[],n="all"){const r=new RegExp(this.patStr,"ug"),s=gh.specialTokenRegex(Object.keys(this.specialTokens)),o=[],c=new Set(e==="all"?Object.keys(this.specialTokens):e),d=new Set(n==="all"?Object.keys(this.specialTokens).filter(m=>!c.has(m)):n);if(d.size>0){const m=gh.specialTokenRegex([...d]),g=i.match(m);if(g!=null)throw new Error(`The text contains a special token that is not allowed: ${g[0]}`)}let h=0;for(;;){let m=null,g=h;for(;s.lastIndex=g,m=s.exec(i),!(m==null||c.has(m[0]));)g=m.index+1;const y=(m==null?void 0:m.index)??i.length;for(const _ of i.substring(h,y).matchAll(r)){const x=this.textEncoder.encode(_[0]),E=this.rankMap.get(x.join(","));if(E!=null){o.push(E);continue}o.push(...DR(x,this.rankMap))}if(m==null)break;let b=this.specialTokens[m[0]];o.push(b),h=m.index+m[0].length}return o}decode(i){const e=[];let n=0;for(let o=0;o<i.length;++o){const c=i[o],d=this.textMap.get(c)??this.inverseSpecialTokens[c];d!=null&&(e.push(d),n+=d.length)}const r=new Uint8Array(n);let s=0;for(const o of e)r.set(o,s),s+=o.length;return this.textDecoder.decode(r)}},d0=gh;LR(d0,"specialTokenRegex",i=>new RegExp(i.map(e=>IR(e)).join("|"),"g"));function PR(i){switch(i){case"gpt2":return"gpt2";case"code-cushman-001":case"code-cushman-002":case"code-davinci-001":case"code-davinci-002":case"cushman-codex":case"davinci-codex":case"davinci-002":case"text-davinci-002":case"text-davinci-003":return"p50k_base";case"code-davinci-edit-001":case"text-davinci-edit-001":return"p50k_edit";case"ada":case"babbage":case"babbage-002":case"code-search-ada-code-001":case"code-search-babbage-code-001":case"curie":case"davinci":case"text-ada-001":case"text-babbage-001":case"text-curie-001":case"text-davinci-001":case"text-search-ada-doc-001":case"text-search-babbage-doc-001":case"text-search-curie-doc-001":case"text-search-davinci-doc-001":case"text-similarity-ada-001":case"text-similarity-babbage-001":case"text-similarity-curie-001":case"text-similarity-davinci-001":return"r50k_base";case"gpt-3.5-turbo-instruct-0914":case"gpt-3.5-turbo-instruct":case"gpt-3.5-turbo-16k-0613":case"gpt-3.5-turbo-16k":case"gpt-3.5-turbo-0613":case"gpt-3.5-turbo-0301":case"gpt-3.5-turbo":case"gpt-4-32k-0613":case"gpt-4-32k-0314":case"gpt-4-32k":case"gpt-4-0613":case"gpt-4-0314":case"gpt-4":case"gpt-3.5-turbo-1106":case"gpt-35-turbo":case"gpt-4-1106-preview":case"gpt-4-vision-preview":case"gpt-3.5-turbo-0125":case"gpt-4-turbo":case"gpt-4-turbo-2024-04-09":case"gpt-4-turbo-preview":case"gpt-4-0125-preview":case"text-embedding-ada-002":case"text-embedding-3-small":case"text-embedding-3-large":return"cl100k_base";case"gpt-4o":case"gpt-4o-2024-05-13":case"gpt-4o-2024-08-06":case"gpt-4o-2024-11-20":case"gpt-4o-mini-2024-07-18":case"gpt-4o-mini":case"gpt-4o-search-preview":case"gpt-4o-search-preview-2025-03-11":case"gpt-4o-mini-search-preview":case"gpt-4o-mini-search-preview-2025-03-11":case"gpt-4o-audio-preview":case"gpt-4o-audio-preview-2024-12-17":case"gpt-4o-audio-preview-2024-10-01":case"gpt-4o-mini-audio-preview":case"gpt-4o-mini-audio-preview-2024-12-17":case"o1":case"o1-2024-12-17":case"o1-mini":case"o1-mini-2024-09-12":case"o1-preview":case"o1-preview-2024-09-12":case"o1-pro":case"o1-pro-2025-03-19":case"o3":case"o3-2025-04-16":case"o3-mini":case"o3-mini-2025-01-31":case"o4-mini":case"o4-mini-2025-04-16":case"chatgpt-4o-latest":case"gpt-4o-realtime":case"gpt-4o-realtime-preview-2024-10-01":case"gpt-4o-realtime-preview-2024-12-17":case"gpt-4o-mini-realtime-preview":case"gpt-4o-mini-realtime-preview-2024-12-17":case"gpt-4.1":case"gpt-4.1-2025-04-14":case"gpt-4.1-mini":case"gpt-4.1-mini-2025-04-14":case"gpt-4.1-nano":case"gpt-4.1-nano-2025-04-14":case"gpt-4.5-preview":case"gpt-4.5-preview-2025-02-27":return"o200k_base";default:throw new Error("Unknown model")}}const Ro={},UR=new Ih({});async function zR(i){return i in Ro||(Ro[i]=UR.fetch(`https://tiktoken.pages.dev/js/${i}.json`).then(e=>e.json()).then(e=>new d0(e)).catch(e=>{throw delete Ro[i],e})),await Ro[i]}async function qR(i){return zR(PR(i))}const BR=i=>i.startsWith("gpt-3.5-turbo-16k")?"gpt-3.5-turbo-16k":i.startsWith("gpt-3.5-turbo-")?"gpt-3.5-turbo":i.startsWith("gpt-4-32k")?"gpt-4-32k":i.startsWith("gpt-4-")?"gpt-4":i.startsWith("gpt-4o")?"gpt-4o":i,HR=()=>!1;class GR extends yt{get lc_attributes(){return{callbacks:void 0,verbose:void 0}}constructor(e){super(e),Object.defineProperty(this,"verbose",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"callbacks",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.verbose=e.verbose??HR(),this.callbacks=e.callbacks,this.tags=e.tags??[],this.metadata=e.metadata??{}}}class VR extends GR{get callKeys(){return["stop","timeout","signal","tags","metadata","callbacks"]}constructor({callbacks:e,callbackManager:n,...r}){const{cache:s,...o}=r;super({callbacks:e??n,...o}),Object.defineProperty(this,"caller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cache",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_encoding",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),typeof s=="object"?this.cache=s:s?this.cache=zh.global():this.cache=void 0,this.caller=new Ih(r??{})}async getNumTokens(e){if(typeof e!="string")return 0;let n=Math.ceil(e.length/4);if(!this._encoding)try{this._encoding=await qR("modelName"in this?BR(this.modelName):"gpt2")}catch(r){console.warn("Failed to calculate number of tokens, falling back to approximate count",r)}if(this._encoding)try{n=this._encoding.encode(e).length}catch(r){console.warn("Failed to calculate number of tokens, falling back to approximate count",r)}return n}static _convertInputToPromptValue(e){return typeof e=="string"?new AR(e):Array.isArray(e)?new RR(e.map(Ls)):e}_identifyingParams(){return{}}_getSerializedCacheKeyParametersForCall({config:e,...n}){const r={...this._identifyingParams(),...n,_type:this._llmType(),_model:this._modelType()};return Object.entries(r).filter(([c,d])=>d!==void 0).map(([c,d])=>`${c}:${JSON.stringify(d)}`).sort().join(",")}serialize(){return{...this._identifyingParams(),_type:this._llmType(),_model:this._modelType()}}static async deserialize(e){throw new Error("Use .toJSON() instead")}}class Vo extends yt{static lc_name(){return"RunnablePassthrough"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"func",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e&&(this.func=e.func)}async invoke(e,n){const r=De(n);return this.func&&await this.func(e,r),this._callWithConfig(s=>Promise.resolve(s),e,r)}async*transform(e,n){const r=De(n);let s,o=!0;for await(const c of this._transformStreamWithConfig(e,d=>d,r))if(yield c,o)if(s===void 0)s=c;else try{s=xn(s,c)}catch{s=void 0,o=!1}this.func&&s!==void 0&&await this.func(s,r)}static assign(e){return new u0(new Ri({steps:e}))}}function Xs(i){var r;if(!i||typeof i!="object"||Array.isArray(i))return!1;const e=i;return e._def||Object.values(K).includes(((r=e.constructor)==null?void 0:r.name)??"NOT_INCLUDED")?!0:typeof e.parse=="function"&&typeof e.parseAsync=="function"&&typeof e.safeParse=="function"&&typeof e.safeParseAsync=="function"}function Yf(i){const e=[];for(const n of i){let r=n;if(Array.isArray(n.content))for(let s=0;s<n.content.length;s++){const o=n.content[s];(zO(o)||qO(o))&&r===n&&(r=new n.constructor({...r,content:[...n.content.slice(0,s),BO(o),...n.content.slice(s+1)]}))}e.push(r)}return e}class Ha extends VR{constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","chat_models",this._llmType()]}),Object.defineProperty(this,"disableStreaming",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_separateRunnableConfigFromCallOptionsCompat(e){const[n,r]=super._separateRunnableConfigFromCallOptions(e);return r.signal=n.signal,[n,r]}async invoke(e,n){const r=Ha._convertInputToPromptValue(e);return(await this.generatePrompt([r],n,n==null?void 0:n.callbacks)).generations[0][0].message}async*_streamResponseChunks(e,n,r){throw new Error("Not implemented.")}async*_streamIterator(e,n){var r;if(this._streamResponseChunks===Ha.prototype._streamResponseChunks||this.disableStreaming)yield this.invoke(e,n);else{const o=Ha._convertInputToPromptValue(e).toChatMessages(),[c,d]=this._separateRunnableConfigFromCallOptionsCompat(n),h={...c.metadata,...this.getLsParams(d)},m=await qt.configure(c.callbacks,this.callbacks,c.tags,this.tags,h,this.metadata,{verbose:this.verbose}),g={options:d,invocation_params:this==null?void 0:this.invocationParams(d),batch_size:1},y=await(m==null?void 0:m.handleChatModelStart(this.toJSON(),[Yf(o)],c.runId,void 0,g,void 0,void 0,c.runName));let b,_;try{for await(const x of this._streamResponseChunks(o,d,y==null?void 0:y[0])){if(x.message.id==null){const E=(r=y==null?void 0:y.at(0))==null?void 0:r.runId;E!=null&&x.message._updateId(`run-${E}`)}x.message.response_metadata={...x.generationInfo,...x.message.response_metadata},yield x.message,b?b=b.concat(x):b=x,Eb(x.message)&&x.message.usage_metadata!==void 0&&(_={tokenUsage:{promptTokens:x.message.usage_metadata.input_tokens,completionTokens:x.message.usage_metadata.output_tokens,totalTokens:x.message.usage_metadata.total_tokens}})}}catch(x){throw await Promise.all((y??[]).map(E=>E==null?void 0:E.handleLLMError(x))),x}await Promise.all((y??[]).map(x=>x==null?void 0:x.handleLLMEnd({generations:[[b]],llmOutput:_})))}}getLsParams(e){const n=this.getName().startsWith("Chat")?this.getName().replace("Chat",""):this.getName();return{ls_model_type:"chat",ls_stop:e.stop,ls_provider:n}}async _generateUncached(e,n,r,s){var y,b;const o=e.map(_=>_.map(Ls));let c;if(s!==void 0&&s.length===o.length)c=s;else{const _={...r.metadata,...this.getLsParams(n)},x=await qt.configure(r.callbacks,this.callbacks,r.tags,this.tags,_,this.metadata,{verbose:this.verbose}),E={options:n,invocation_params:this==null?void 0:this.invocationParams(n),batch_size:1};c=await(x==null?void 0:x.handleChatModelStart(this.toJSON(),o.map(Yf),r.runId,void 0,E,void 0,void 0,r.runName))}const d=[],h=[];if(!!(c!=null&&c[0].handlers.find($A))&&!this.disableStreaming&&o.length===1&&this._streamResponseChunks!==Ha.prototype._streamResponseChunks)try{const _=await this._streamResponseChunks(o[0],n,c==null?void 0:c[0]);let x,E;for await(const A of _){if(A.message.id==null){const N=(y=c==null?void 0:c.at(0))==null?void 0:y.runId;N!=null&&A.message._updateId(`run-${N}`)}x===void 0?x=A:x=xn(x,A),Eb(A.message)&&A.message.usage_metadata!==void 0&&(E={tokenUsage:{promptTokens:A.message.usage_metadata.input_tokens,completionTokens:A.message.usage_metadata.output_tokens,totalTokens:A.message.usage_metadata.total_tokens}})}if(x===void 0)throw new Error("Received empty response from chat model call.");d.push([x]),await(c==null?void 0:c[0].handleLLMEnd({generations:d,llmOutput:E}))}catch(_){throw await(c==null?void 0:c[0].handleLLMError(_)),_}else{const _=await Promise.allSettled(o.map((x,E)=>this._generate(x,{...n,promptIndex:E},c==null?void 0:c[E])));await Promise.all(_.map(async(x,E)=>{var A,N,D;if(x.status==="fulfilled"){const k=x.value;for(const F of k.generations){if(F.message.id==null){const q=(A=c==null?void 0:c.at(0))==null?void 0:A.runId;q!=null&&F.message._updateId(`run-${q}`)}F.message.response_metadata={...F.generationInfo,...F.message.response_metadata}}return k.generations.length===1&&(k.generations[0].message.response_metadata={...k.llmOutput,...k.generations[0].message.response_metadata}),d[E]=k.generations,h[E]=k.llmOutput,(N=c==null?void 0:c[E])==null?void 0:N.handleLLMEnd({generations:[k.generations],llmOutput:k.llmOutput})}else return await((D=c==null?void 0:c[E])==null?void 0:D.handleLLMError(x.reason)),Promise.reject(x.reason)}))}const g={generations:d,llmOutput:h.length?(b=this._combineLLMOutput)==null?void 0:b.call(this,...h):void 0};return Object.defineProperty(g,Yv,{value:c?{runIds:c==null?void 0:c.map(_=>_.runId)}:void 0,configurable:!0}),g}async _generateCached({messages:e,cache:n,llmStringKey:r,parsedOptions:s,handledOptions:o}){const c=e.map(A=>A.map(Ls)),d={...o.metadata,...this.getLsParams(s)},h=await qt.configure(o.callbacks,this.callbacks,o.tags,this.tags,d,this.metadata,{verbose:this.verbose}),m={options:s,invocation_params:this==null?void 0:this.invocationParams(s),batch_size:1},g=await(h==null?void 0:h.handleChatModelStart(this.toJSON(),c.map(Yf),o.runId,void 0,m,void 0,void 0,o.runName)),y=[],_=(await Promise.allSettled(c.map(async(A,N)=>{const D=Ha._convertInputToPromptValue(A).toString(),k=await n.lookup(D,r);return k==null&&y.push(N),k}))).map((A,N)=>({result:A,runManager:g==null?void 0:g[N]})).filter(({result:A})=>A.status==="fulfilled"&&A.value!=null||A.status==="rejected"),x=[];await Promise.all(_.map(async({result:A,runManager:N},D)=>{if(A.status==="fulfilled"){const k=A.value;return x[D]=k.map(F=>("message"in F&&Xo(F.message)&&Rh(F.message)&&(F.message.usage_metadata={input_tokens:0,output_tokens:0,total_tokens:0}),F.generationInfo={...F.generationInfo,tokenUsage:{}},F)),k.length&&await(N==null?void 0:N.handleLLMNewToken(k[0].text)),N==null?void 0:N.handleLLMEnd({generations:[k]},void 0,void 0,void 0,{cached:!0})}else return await(N==null?void 0:N.handleLLMError(A.reason,void 0,void 0,void 0,{cached:!0})),Promise.reject(A.reason)}));const E={generations:x,missingPromptIndices:y,startedRunManagers:g};return Object.defineProperty(E,Yv,{value:g?{runIds:g==null?void 0:g.map(A=>A.runId)}:void 0,configurable:!0}),E}async generate(e,n,r){let s;Array.isArray(n)?s={stop:n}:s=n;const o=e.map(x=>x.map(Ls)),[c,d]=this._separateRunnableConfigFromCallOptionsCompat(s);if(c.callbacks=c.callbacks??r,!this.cache)return this._generateUncached(o,d,c);const{cache:h}=this,m=this._getSerializedCacheKeyParametersForCall(d),{generations:g,missingPromptIndices:y,startedRunManagers:b}=await this._generateCached({messages:o,cache:h,llmStringKey:m,parsedOptions:d,handledOptions:c});let _={};if(y.length>0){const x=await this._generateUncached(y.map(E=>o[E]),d,c,b!==void 0?y.map(E=>b==null?void 0:b[E]):void 0);await Promise.all(x.generations.map(async(E,A)=>{const N=y[A];g[N]=E;const D=Ha._convertInputToPromptValue(o[N]).toString();return h.update(D,m,E)})),_=x.llmOutput??{}}return{generations:g,llmOutput:_}}invocationParams(e){return{}}_modelType(){return"base_chat_model"}serialize(){return{...this.invocationParams(),_type:this._llmType(),_model:this._modelType()}}async generatePrompt(e,n,r){const s=e.map(o=>o.toChatMessages());return this.generate(s,n,r)}async call(e,n,r){return(await this.generate([e.map(Ls)],n,r)).generations[0][0].message}async callPrompt(e,n,r){const s=e.toChatMessages();return this.call(s,n,r)}async predictMessages(e,n,r){return this.call(e,n,r)}async predict(e,n,r){const s=new Wo(e),o=await this.call([s],n,r);if(typeof o.content!="string")throw new Error("Cannot use predict when output is not a string.");return o.content}withStructuredOutput(e,n){if(typeof this.bindTools!="function")throw new Error('Chat model must implement ".bindTools()" to use withStructuredOutput.');if(n!=null&&n.strict)throw new Error('"strict" mode is not supported for this model by default.');const r=e,s=n==null?void 0:n.name,o=r.description??"A function available to call.",c=n==null?void 0:n.method,d=n==null?void 0:n.includeRaw;if(c==="jsonMode")throw new Error('Base withStructuredOutput implementation only supports "functionCalling" as a method.');let h=s??"extract",m;Xs(r)?m=[{type:"function",function:{name:h,description:o,parameters:Js(r)}}]:("name"in r&&(h=r.name),m=[{type:"function",function:{name:h,description:o,parameters:r}}]);const g=this.bindTools(m),y=tl.from(E=>{if(!E.tool_calls||E.tool_calls.length===0)throw new Error("No tool calls found in the response.");const A=E.tool_calls.find(N=>N.name===h);if(!A)throw new Error(`No tool call found with name ${h}.`);return A.args});if(!d)return g.pipe(y).withConfig({runName:"StructuredOutput"});const b=Vo.assign({parsed:(E,A)=>y.invoke(E.raw,A)}),_=Vo.assign({parsed:()=>null}),x=b.withFallbacks({fallbacks:[_]});return la.from([{raw:g},x]).withConfig({runName:"StructuredOutputRunnable"})}}const oi="0.19.0";let t_=!1,zs,f0,h0,yh,m0,p0,g0,y0,b0;function ZR(i,e={auto:!1}){if(t_)throw new Error(`you must \`import 'groq-sdk/shims/${i.kind}'\` before importing anything else from groq-sdk`);if(zs)throw new Error(`can't \`import 'groq-sdk/shims/${i.kind}'\` after \`import 'groq-sdk/shims/${zs}'\``);t_=e.auto,zs=i.kind,f0=i.fetch,h0=i.FormData,yh=i.File,m0=i.ReadableStream,p0=i.getMultipartRequestOptions,g0=i.getDefaultAgent,y0=i.fileFromPath,b0=i.isFsReadStream}class YR{constructor(e){this.body=e}get[Symbol.toStringTag](){return"MultipartBody"}}function FR({manuallyImported:i}={}){const e=i?"You may need to use polyfills":"Add one of these imports before your first `import  from 'groq-sdk'`:\n- `import 'groq-sdk/shims/node'` (if you're running on Node)\n- `import 'groq-sdk/shims/web'` (otherwise)\n";let n,r,s,o;try{n=fetch,r=Request,s=Response,o=Headers}catch(c){throw new Error(`this environment is missing the following Web Fetch API type: ${c.message}. ${e}`)}return{kind:"web",fetch:n,Request:r,Response:s,Headers:o,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${e}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${e}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${e}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${e}`)}},getMultipartRequestOptions:async(c,d)=>({...d,body:new YR(c)}),getDefaultAgent:c=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/groq/groq-typescript#file-uploads")},isFsReadStream:c=>!1}}const v0=()=>{zs||ZR(FR(),{auto:!0})};v0();class Sn extends Error{}class Rt extends Sn{constructor(e,n,r,s){super(`${Rt.makeMessage(e,n,r)}`),this.status=e,this.headers=s,this.error=n}static makeMessage(e,n,r){const s=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&s?`${e} ${s}`:e?`${e} status code (no body)`:s||"(no status code or body)"}static generate(e,n,r,s){if(!e||!s)return new ou({message:r,cause:_h(n)});const o=n;return e===400?new w0(e,o,r,s):e===401?new x0(e,o,r,s):e===403?new S0(e,o,r,s):e===404?new E0(e,o,r,s):e===409?new O0(e,o,r,s):e===422?new T0(e,o,r,s):e===429?new A0(e,o,r,s):e>=500?new R0(e,o,r,s):new Rt(e,o,r,s)}}class bh extends Rt{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class ou extends Rt{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class _0 extends ou{constructor({message:e}={}){super({message:e??"Request timed out."})}}class w0 extends Rt{}class x0 extends Rt{}class S0 extends Rt{}class E0 extends Rt{}class O0 extends Rt{}class T0 extends Rt{}class A0 extends Rt{}class R0 extends Rt{}class di{constructor(e,n){this.iterator=e,this.controller=n}static fromSSEResponse(e,n){let r=!1;const s=new XR;async function*o(){if(!e.body)throw n.abort(),new Sn("Attempted to iterate over a response with no body");const d=new br,h=n_(e.body);for await(const m of h)for(const g of d.decode(m)){const y=s.decode(g);y&&(yield y)}for(const m of d.flush()){const g=s.decode(m);g&&(yield g)}}async function*c(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let d=!1;try{for await(const h of o())if(!d){if(h.data.startsWith("[DONE]")){d=!0;continue}if(h.event===null||h.event==="error"){let m;try{m=JSON.parse(h.data)}catch(g){throw console.error("Could not parse message into JSON:",h.data),console.error("From chunk:",h.raw),g}if(m&&m.error)throw new Rt(m.error.status_code,m.error,m.error.message,void 0);yield m}}d=!0}catch(h){if(h instanceof Error&&h.name==="AbortError")return;throw h}finally{d||n.abort()}}return new di(c,n)}static fromReadableStream(e,n){let r=!1;async function*s(){const c=new br,d=n_(e);for await(const h of d)for(const m of c.decode(h))yield m;for(const h of c.flush())yield h}async function*o(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let c=!1;try{for await(const d of s())c||d&&(yield JSON.parse(d));c=!0}catch(d){if(d instanceof Error&&d.name==="AbortError")return;throw d}finally{c||n.abort()}}return new di(o,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),s=o=>({next:()=>{if(o.length===0){const c=r.next();e.push(c),n.push(c)}return o.shift()}});return[new di(()=>s(e),this.controller),new di(()=>s(n),this.controller)]}toReadableStream(){const e=this;let n;const r=new TextEncoder;return new m0({async start(){n=e[Symbol.asyncIterator]()},async pull(s){try{const{value:o,done:c}=await n.next();if(c)return s.close();const d=r.encode(JSON.stringify(o)+`
`);s.enqueue(d)}catch(o){s.error(o)}},async cancel(){var s;await((s=n.return)==null?void 0:s.call(n))}})}}class XR{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,s]=QR(e,":");return s.startsWith(" ")&&(s=s.substring(1)),n==="event"?this.event=s:n==="data"&&this.data.push(s),null}}class br{constructor(){this.buffer=[],this.trailingCR=!1}decode(e){let n=this.decodeText(e);if(this.trailingCR&&(n="\r"+n,this.trailingCR=!1),n.endsWith("\r")&&(this.trailingCR=!0,n=n.slice(0,-1)),!n)return[];const r=br.NEWLINE_CHARS.has(n[n.length-1]||"");let s=n.split(br.NEWLINE_REGEXP);return s.length===1&&!r?(this.buffer.push(s[0]),[]):(this.buffer.length>0&&(s=[this.buffer.join("")+s[0],...s.slice(1)],this.buffer=[]),r||(this.buffer=[s.pop()||""]),s)}decodeText(e){if(e==null)return"";if(typeof e=="string")return e;if(typeof Buffer<"u"){if(e instanceof Buffer)return e.toString();if(e instanceof Uint8Array)return Buffer.from(e).toString();throw new Sn(`Unexpected: received non-Uint8Array (${e.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(e instanceof Uint8Array||e instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(e);throw new Sn(`Unexpected: received non-Uint8Array/ArrayBuffer (${e.constructor.name}) in a web platform. Please report this error.`)}throw new Sn("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){if(!this.buffer.length&&!this.trailingCR)return[];const e=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,e}}br.NEWLINE_CHARS=new Set([`
`,"\r","\v","\f","","","","","\u2028","\u2029"]);br.NEWLINE_REGEXP=/\r\n|[\n\r\x0b\x0c\x1c\x1d\x1e\x85\u2028\u2029]/g;function QR(i,e){const n=i.indexOf(e);return n!==-1?[i.substring(0,n),e,i.substring(n+e.length)]:[i,"",""]}function n_(i){if(i[Symbol.asyncIterator])return i;const e=i.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}const N0=i=>i!=null&&typeof i=="object"&&typeof i.url=="string"&&typeof i.blob=="function",j0=i=>i!=null&&typeof i=="object"&&typeof i.name=="string"&&typeof i.lastModified=="number"&&uu(i),uu=i=>i!=null&&typeof i=="object"&&typeof i.size=="number"&&typeof i.type=="string"&&typeof i.text=="function"&&typeof i.slice=="function"&&typeof i.arrayBuffer=="function",JR=i=>j0(i)||N0(i)||b0(i);async function k0(i,e,n){var s;if(i=await i,j0(i))return i;if(N0(i)){const o=await i.blob();e||(e=new URL(i.url).pathname.split(/[\\/]/).pop()??"unknown_file");const c=uu(o)?[await o.arrayBuffer()]:[o];return new yh(c,e,n)}const r=await KR(i);if(e||(e=eN(i)??"unknown_file"),!(n!=null&&n.type)){const o=(s=r[0])==null?void 0:s.type;typeof o=="string"&&(n={...n,type:o})}return new yh(r,e,n)}async function KR(i){var n;let e=[];if(typeof i=="string"||ArrayBuffer.isView(i)||i instanceof ArrayBuffer)e.push(i);else if(uu(i))e.push(await i.arrayBuffer());else if(tN(i))for await(const r of i)e.push(r);else throw new Error(`Unexpected data type: ${typeof i}; constructor: ${(n=i==null?void 0:i.constructor)==null?void 0:n.name}; props: ${WR(i)}`);return e}function WR(i){return`[${Object.getOwnPropertyNames(i).map(n=>`"${n}"`).join(", ")}]`}function eN(i){var e;return Ff(i.name)||Ff(i.filename)||((e=Ff(i.path))==null?void 0:e.split(/[\\/]/).pop())}const Ff=i=>{if(typeof i=="string")return i;if(typeof Buffer<"u"&&i instanceof Buffer)return String(i)},tN=i=>i!=null&&typeof i=="object"&&typeof i[Symbol.asyncIterator]=="function",a_=i=>i&&typeof i=="object"&&i.body&&i[Symbol.toStringTag]==="MultipartBody",qh=async i=>{const e=await nN(i.body);return p0(e,i)},nN=async i=>{const e=new h0;return await Promise.all(Object.entries(i||{}).map(([n,r])=>vh(e,n,r))),e},vh=async(i,e,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")i.append(e,String(n));else if(JR(n)){const r=await k0(n);i.append(e,r)}else if(Array.isArray(n))await Promise.all(n.map(r=>vh(i,e+"[]",r)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([r,s])=>vh(i,`${e}[${r}]`,s)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}};var fi={};v0();async function C0(i){var c;const{response:e}=i;if(i.options.stream)return hi("response",e.status,e.url,e.headers,e.body),i.options.__streamClass?i.options.__streamClass.fromSSEResponse(e,i.controller):di.fromSSEResponse(e,i.controller);if(e.status===204)return null;if(i.options.__binaryResponse)return e;const n=e.headers.get("content-type"),r=(c=n==null?void 0:n.split(";")[0])==null?void 0:c.trim();if((r==null?void 0:r.includes("application/json"))||(r==null?void 0:r.endsWith("+json"))){const d=await e.json();return hi("response",e.status,e.url,e.headers,d),d}const o=await e.text();return hi("response",e.status,e.url,e.headers,o),o}class cu extends Promise{constructor(e,n=C0){super(r=>{r(null)}),this.responsePromise=e,this.parseResponse=n}_thenUnwrap(e){return new cu(this.responsePromise,async n=>e(await this.parseResponse(n),n))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}class aN{constructor({baseURL:e,maxRetries:n=2,timeout:r=6e4,httpAgent:s,fetch:o}){this.baseURL=e,this.maxRetries=Xf("maxRetries",n),this.timeout=Xf("timeout",r),this.httpAgent=s,this.fetch=o??f0}authHeaders(e){return{}}defaultHeaders(e){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...oN(),...this.authHeaders(e)}}validateHeaders(e,n){}defaultIdempotencyKey(){return`stainless-node-retry-${pN()}`}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(async s=>{const o=s&&uu(s==null?void 0:s.body)?new DataView(await s.body.arrayBuffer()):(s==null?void 0:s.body)instanceof DataView?s.body:(s==null?void 0:s.body)instanceof ArrayBuffer?new DataView(s.body):s&&ArrayBuffer.isView(s==null?void 0:s.body)?new DataView(s.body.buffer):s==null?void 0:s.body;return{method:e,path:n,...s,body:o}}))}getAPIList(e,n,r){return this.requestAPIList(n,{method:"get",path:e,...r})}calculateContentLength(e){if(typeof e=="string"){if(typeof Buffer<"u")return Buffer.byteLength(e,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(e).length.toString()}else if(ArrayBuffer.isView(e))return e.byteLength.toString();return null}buildRequest(e,{retryCount:n=0}={}){var x;e={...e};const{method:r,path:s,query:o,headers:c={}}=e,d=ArrayBuffer.isView(e.body)||e.__binaryRequest&&typeof e.body=="string"?e.body:a_(e.body)?e.body.body:e.body?JSON.stringify(e.body,null,2):null,h=this.calculateContentLength(d),m=this.buildURL(s,o);"timeout"in e&&Xf("timeout",e.timeout),e.timeout=e.timeout??this.timeout;const g=e.httpAgent??this.httpAgent??g0(m),y=e.timeout+1e3;typeof((x=g==null?void 0:g.options)==null?void 0:x.timeout)=="number"&&y>(g.options.timeout??0)&&(g.options.timeout=y),this.idempotencyHeader&&r!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),c[this.idempotencyHeader]=e.idempotencyKey);const b=this.buildHeaders({options:e,headers:c,contentLength:h,retryCount:n});return{req:{method:r,...d&&{body:d},headers:b,...g&&{agent:g},signal:e.signal??null},url:m,timeout:e.timeout}}buildHeaders({options:e,headers:n,contentLength:r,retryCount:s}){const o={};r&&(o["content-length"]=r);const c=this.defaultHeaders(e);return o_(o,c),o_(o,n),a_(e.body)&&zs!=="node"&&delete o["content-type"],No(c,"x-stainless-retry-count")===void 0&&No(n,"x-stainless-retry-count")===void 0&&(o["x-stainless-retry-count"]=String(s)),No(c,"x-stainless-timeout")===void 0&&No(n,"x-stainless-timeout")===void 0&&e.timeout&&(o["x-stainless-timeout"]=String(e.timeout)),this.validateHeaders(o,n),o}async prepareOptions(e){}async prepareRequest(e,{url:n,options:r}){}parseHeaders(e){return e?Symbol.iterator in e?Object.fromEntries(Array.from(e).map(n=>[...n])):{...e}:{}}makeStatusError(e,n,r,s){return Rt.generate(e,n,r,s)}request(e,n=null){return new cu(this.makeRequest(e,n))}async makeRequest(e,n){var y,b;const r=await e,s=r.maxRetries??this.maxRetries;n==null&&(n=s),await this.prepareOptions(r);const{req:o,url:c,timeout:d}=this.buildRequest(r,{retryCount:s-n});if(await this.prepareRequest(o,{url:c,options:r}),hi("request",c,r,o.headers),(y=r.signal)!=null&&y.aborted)throw new bh;const h=new AbortController,m=await this.fetchWithTimeout(c,o,d,h).catch(_h);if(m instanceof Error){if((b=r.signal)!=null&&b.aborted)throw new bh;if(n)return this.retryRequest(r,n);throw m.name==="AbortError"?new _0:new ou({cause:m})}const g=iN(m.headers);if(!m.ok){if(n&&this.shouldRetry(m)){const D=`retrying, ${n} attempts remaining`;return hi(`response (error; ${D})`,m.status,c,g),this.retryRequest(r,n,g)}const _=await m.text().catch(D=>_h(D).message),x=uN(_),E=x?void 0:_;throw hi(`response (error; ${n?"(error; no more retries left)":"(error; not retryable)"})`,m.status,c,g,E),this.makeStatusError(m.status,x,E,g)}return{response:m,options:r,controller:h}}requestAPIList(e,n){const r=this.makeRequest(n,null);return new rN(this,r,e)}buildURL(e,n){const r=dN(e)?new URL(e):new URL(this.baseURL+(this.baseURL.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),s=this.defaultQuery();return hN(s)||(n={...s,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(r.search=this.stringifyQuery(n)),r.toString()}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new Sn(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(e,n,r,s){const{signal:o,...c}=n||{};o&&o.addEventListener("abort",()=>s.abort());const d=setTimeout(()=>s.abort(),r),h={signal:s.signal,...c};return h.method&&(h.method=h.method.toUpperCase()),this.fetch.call(void 0,e,h).finally(()=>{clearTimeout(d)})}shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r){let s;const o=r==null?void 0:r["retry-after-ms"];if(o){const d=parseFloat(o);Number.isNaN(d)||(s=d)}const c=r==null?void 0:r["retry-after"];if(c&&!s){const d=parseFloat(c);Number.isNaN(d)?s=Date.parse(c)-Date.now():s=d*1e3}if(!(s&&0<=s&&s<60*1e3)){const d=e.maxRetries??this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(n,d)}return await fN(s),this.makeRequest(e,n-1)}calculateDefaultRetryTimeoutMillis(e,n){const o=n-e,c=Math.min(.5*Math.pow(2,o),8),d=1-Math.random()*.25;return c*d*1e3}getUserAgent(){return`${this.constructor.name}/JS ${oi}`}}class rN extends cu{constructor(e,n,r){super(n,async s=>new r(e,s.response,await C0(s),s.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const n of e)yield n}}const iN=i=>new Proxy(Object.fromEntries(i.entries()),{get(e,n){const r=n.toString();return e[r.toLowerCase()]||e[r]}}),sN=()=>{var e;if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":oi,"X-Stainless-OS":i_(Deno.build.os),"X-Stainless-Arch":r_(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((e=Deno.version)==null?void 0:e.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":oi,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":oi,"X-Stainless-OS":i_(process.platform),"X-Stainless-Arch":r_(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const i=lN();return i?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":oi,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${i.browser}`,"X-Stainless-Runtime-Version":i.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":oi,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function lN(){if(typeof navigator>"u"||!navigator)return null;const i=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of i){const r=n.exec(navigator.userAgent);if(r){const s=r[1]||0,o=r[2]||0,c=r[3]||0;return{browser:e,version:`${s}.${o}.${c}`}}}return null}const r_=i=>i==="x32"?"x32":i==="x86_64"||i==="x64"?"x64":i==="arm"?"arm":i==="aarch64"||i==="arm64"?"arm64":i?`other:${i}`:"unknown",i_=i=>(i=i.toLowerCase(),i.includes("ios")?"iOS":i==="android"?"Android":i==="darwin"?"MacOS":i==="win32"?"Windows":i==="freebsd"?"FreeBSD":i==="openbsd"?"OpenBSD":i==="linux"?"Linux":i?`Other:${i}`:"Unknown");let s_;const oN=()=>s_??(s_=sN()),uN=i=>{try{return JSON.parse(i)}catch{return}},cN=/^[a-z][a-z0-9+.-]*:/i,dN=i=>cN.test(i),fN=i=>new Promise(e=>setTimeout(e,i)),Xf=(i,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Sn(`${i} must be an integer`);if(e<0)throw new Sn(`${i} must be a positive integer`);return e},_h=i=>{if(i instanceof Error)return i;if(typeof i=="object"&&i!==null)try{return new Error(JSON.stringify(i))}catch{}return new Error(i)},l_=i=>{var e,n,r,s;if(typeof process<"u")return((e=fi==null?void 0:fi[i])==null?void 0:e.trim())??void 0;if(typeof Deno<"u")return(s=(r=(n=Deno.env)==null?void 0:n.get)==null?void 0:r.call(n,i))==null?void 0:s.trim()};function hN(i){if(!i)return!0;for(const e in i)return!1;return!0}function mN(i,e){return Object.prototype.hasOwnProperty.call(i,e)}function o_(i,e){for(const n in e){if(!mN(e,n))continue;const r=n.toLowerCase();if(!r)continue;const s=e[n];s===null?delete i[r]:s!==void 0&&(i[r]=s)}}function hi(i,...e){typeof process<"u"&&(fi==null?void 0:fi.DEBUG)==="true"&&console.log(`Groq:DEBUG:${i}`,...e)}const pN=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,i=>{const e=Math.random()*16|0;return(i==="x"?e:e&3|8).toString(16)}),gN=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u",yN=i=>typeof(i==null?void 0:i.get)=="function",No=(i,e)=>{var r;const n=e.toLowerCase();if(yN(i)){const s=((r=e[0])==null?void 0:r.toUpperCase())+e.substring(1).replace(/([^\w])(\w)/g,(o,c,d)=>c+d.toUpperCase());for(const o of[e,n,e.toUpperCase(),s]){const c=i.get(o);if(c)return c}}for(const[s,o]of Object.entries(i))if(s.toLowerCase()===n)return Array.isArray(o)?(o.length<=1||console.warn(`Received ${o.length} entries for the ${e} header, using the first entry.`),o[0]):o};class Rn{constructor(e){this._client=e}}class M0 extends Rn{create(e,n){return this._client.post("/openai/v1/audio/speech",{body:e,...n,headers:{Accept:"application/octet-stream",...n==null?void 0:n.headers},__binaryResponse:!0})}}class L0 extends Rn{create(e,n){return this._client.post("/openai/v1/audio/transcriptions",qh({body:e,...n}))}}class $0 extends Rn{create(e,n){return this._client.post("/openai/v1/audio/translations",qh({body:e,...n}))}}class nl extends Rn{constructor(){super(...arguments),this.speech=new M0(this._client),this.transcriptions=new L0(this._client),this.translations=new $0(this._client)}}nl.Speech=M0;nl.Transcriptions=L0;nl.Translations=$0;class D0 extends Rn{create(e,n){return this._client.post("/openai/v1/batches",{body:e,...n})}retrieve(e,n){return this._client.get(`/openai/v1/batches/${e}`,n)}list(e){return this._client.get("/openai/v1/batches",e)}cancel(e,n){return this._client.post(`/openai/v1/batches/${e}/cancel`,n)}}let I0=class extends Rn{create(e,n){return this._client.post("/openai/v1/chat/completions",{body:e,...n,stream:e.stream??!1})}};class Bh extends Rn{constructor(){super(...arguments),this.completions=new I0(this._client)}}Bh.Completions=I0;class P0 extends Rn{}class U0 extends Rn{create(e,n){return this._client.post("/openai/v1/embeddings",{body:e,...n})}}class z0 extends Rn{create(e,n){return this._client.post("/openai/v1/files",qh({body:e,...n}))}list(e){return this._client.get("/openai/v1/files",e)}delete(e,n){return this._client.delete(`/openai/v1/files/${e}`,n)}content(e,n){return this._client.get(`/openai/v1/files/${e}/content`,n)}info(e,n){return this._client.get(`/openai/v1/files/${e}`,n)}}class q0 extends Rn{retrieve(e,n){return this._client.get(`/openai/v1/models/${e}`,n)}list(e){return this._client.get("/openai/v1/models",e)}delete(e,n){return this._client.delete(`/openai/v1/models/${e}`,n)}}var B0;class Ye extends aN{constructor({baseURL:e=l_("GROQ_BASE_URL"),apiKey:n=l_("GROQ_API_KEY"),...r}={}){if(n===void 0)throw new Sn("The GROQ_API_KEY environment variable is missing or empty; either provide it, or instantiate the Groq client with an apiKey option, like new Groq({ apiKey: 'My API Key' }).");const s={apiKey:n,...r,baseURL:e||"https://api.groq.com"};if(!s.dangerouslyAllowBrowser&&gN())throw new Sn(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new Groq({ apiKey, dangerouslyAllowBrowser: true })`);super({baseURL:s.baseURL,timeout:s.timeout??6e4,httpAgent:s.httpAgent,maxRetries:s.maxRetries,fetch:s.fetch}),this.completions=new P0(this),this.chat=new Bh(this),this.embeddings=new U0(this),this.audio=new nl(this),this.models=new q0(this),this.batches=new D0(this),this.files=new z0(this),this._options=s,this.apiKey=n}defaultQuery(){return this._options.defaultQuery}defaultHeaders(e){return{...super.defaultHeaders(e),...this._options.defaultHeaders}}authHeaders(e){return{Authorization:`Bearer ${this.apiKey}`}}}B0=Ye;Ye.Groq=B0;Ye.DEFAULT_TIMEOUT=6e4;Ye.GroqError=Sn;Ye.APIError=Rt;Ye.APIConnectionError=ou;Ye.APIConnectionTimeoutError=_0;Ye.APIUserAbortError=bh;Ye.NotFoundError=E0;Ye.ConflictError=O0;Ye.RateLimitError=A0;Ye.BadRequestError=w0;Ye.AuthenticationError=x0;Ye.InternalServerError=R0;Ye.PermissionDeniedError=S0;Ye.UnprocessableEntityError=T0;Ye.toFile=k0;Ye.fileFromPath=y0;Ye.Completions=P0;Ye.Chat=Bh;Ye.Embeddings=U0;Ye.Audio=nl;Ye.Models=q0;Ye.Batches=D0;Ye.Files=z0;class bN extends yt{parseResultWithPrompt(e,n,r){return this.parseResult(e,r)}_baseMessageToString(e){return typeof e.content=="string"?e.content:this._baseMessageContentToString(e.content)}_baseMessageContentToString(e){return JSON.stringify(e)}async invoke(e,n){return typeof e=="string"?this._callWithConfig(async(r,s)=>this.parseResult([{text:r}],s==null?void 0:s.callbacks),e,{...n,runType:"parser"}):this._callWithConfig(async(r,s)=>this.parseResult([{message:r,text:this._baseMessageToString(r)}],s==null?void 0:s.callbacks),e,{...n,runType:"parser"})}}class H0 extends bN{parseResult(e,n){return this.parse(e[0].text,n)}async parseWithPrompt(e,n,r){return this.parse(e,r)}_type(){throw new Error("_type not implemented")}}class Hh extends Error{constructor(e,n,r,s=!1){if(super(e),Object.defineProperty(this,"llmOutput",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"observation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sendToLLM",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.llmOutput=n,this.observation=r,this.sendToLLM=s,s&&(r===void 0||n===void 0))throw new Error("Arguments 'observation' & 'llmOutput' are required if 'sendToLlm' is true");B_(this,"OUTPUT_PARSING_FAILURE")}}function wh(i,e){const n=typeof i;if(n!==typeof e)return!1;if(Array.isArray(i)){if(!Array.isArray(e))return!1;const r=i.length;if(r!==e.length)return!1;for(let s=0;s<r;s++)if(!wh(i[s],e[s]))return!1;return!0}if(n==="object"){if(!i||!e)return i===e;const r=Object.keys(i),s=Object.keys(e);if(r.length!==s.length)return!1;for(const c of r)if(!wh(i[c],e[c]))return!1;return!0}return i===e}class vN extends H0{async*_transform(e){for await(const n of e)typeof n=="string"?yield this.parseResult([{text:n}]):yield this.parseResult([{message:n,text:this._baseMessageToString(n)}])}async*transform(e,n){yield*this._transformStreamWithConfig(e,this._transform.bind(this),{...n,runType:"parser"})}}class G0 extends vN{constructor(e){super(e),Object.defineProperty(this,"diff",{enumerable:!0,configurable:!0,writable:!0,value:!1}),this.diff=(e==null?void 0:e.diff)??this.diff}async*_transform(e){let n,r;for await(const s of e){if(typeof s!="string"&&typeof s.content!="string")throw new Error("Cannot handle non-string output.");let o;if(YO(s)){if(typeof s.content!="string")throw new Error("Cannot handle non-string message output.");o=new _i({message:s,text:s.content})}else if(Xo(s)){if(typeof s.content!="string")throw new Error("Cannot handle non-string message output.");o=new _i({message:WO(s),text:s.content})}else o=new vi({text:s});r===void 0?r=o:r=r.concat(o);const c=await this.parsePartialResult([r]);c!=null&&!wh(c,n)&&(this.diff?yield this._diff(n,c):yield c,n=c)}}getFormatInstructions(){return""}}class _N extends H0{static lc_name(){return"StructuredOutputParser"}toJSON(){return this.toJSONNotImplemented()}constructor(e){super(e),Object.defineProperty(this,"schema",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","output_parsers","structured"]})}static fromZodSchema(e){return new this(e)}static fromNamesAndDescriptions(e){const n=D_(Object.fromEntries(Object.entries(e).map(([r,s])=>[r,$_().describe(s)])));return new this(n)}getFormatInstructions(){return`You must format your output as a JSON value that adheres to a given "JSON Schema" instance.

"JSON Schema" is a declarative language that allows you to annotate and validate JSON documents.

For example, the example "JSON Schema" instance {{"properties": {{"foo": {{"description": "a list of test words", "type": "array", "items": {{"type": "string"}}}}}}, "required": ["foo"]}}
would match an object with one required property, "foo". The "type" property specifies "foo" must be an "array", and the "description" property semantically describes it as "a list of test words". The items within "foo" must be strings.
Thus, the object {{"foo": ["bar", "baz"]}} is a well-formatted instance of this example "JSON Schema". The object {{"properties": {{"foo": ["bar", "baz"]}}}} is not well-formatted.

Your output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!

Here is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:
\`\`\`json
${JSON.stringify(Js(this.schema))}
\`\`\`
`}async parse(e){try{const r=(e.includes("```")?e.trim().split(/```(?:json)?/)[1]:e.trim()).replace(/"([^"\\]*(\\.[^"\\]*)*)"/g,(s,o)=>`"${o.replace(/\n/g,"\\n")}"`).replace(/\n/g,"");return await this.schema.parseAsync(JSON.parse(r))}catch(n){throw new Hh(`Failed to parse. Text: "${e}". Error: ${n}`,e)}}}class wN extends G0{constructor(){super(...arguments),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","output_parsers"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0})}static lc_name(){return"JsonOutputParser"}_diff(e,n){if(n)return e?AA(e,n):[{op:"replace",path:"",value:n}]}async parsePartialResult(e){return _b(e[0].text)}async parse(e){return _b(e,JSON.parse)}getFormatInstructions(){return""}}function V0(i,e){if(i.function===void 0)return;let n;if(e!=null&&e.partial)try{n=Th(i.function.arguments??"{}")}catch{return}else try{n=JSON.parse(i.function.arguments)}catch(s){throw new Hh([`Function "${i.function.name}" arguments:`,"",i.function.arguments,"","are not valid JSON.",`Error: ${s.message}`].join(`
`))}const r={name:i.function.name,args:n,type:"tool_call"};return e!=null&&e.returnId&&(r.id=i.id),r}function xN(i){if(i.id===void 0)throw new Error('All OpenAI tool calls must have an "id" field.');return{id:i.id,type:"function",function:{name:i.name,arguments:JSON.stringify(i.args)}}}function SN(i,e){var n,r;return{name:(n=i.function)==null?void 0:n.name,args:(r=i.function)==null?void 0:r.arguments,id:i.id,error:e,type:"invalid_tool_call"}}class EN extends G0{static lc_name(){return"JsonOutputToolsParser"}constructor(e){super(e),Object.defineProperty(this,"returnId",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","output_parsers","openai_tools"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),this.returnId=(e==null?void 0:e.returnId)??this.returnId}_diff(){throw new Error("Not supported.")}async parse(){throw new Error("Not implemented.")}async parseResult(e){return await this.parsePartialResult(e,!1)}async parsePartialResult(e,n=!0){var c;const r=e[0].message;let s;if(Rh(r)&&((c=r.tool_calls)!=null&&c.length)?s=r.tool_calls.map(d=>{const{id:h,...m}=d;return this.returnId?{id:h,...m}:m}):r.additional_kwargs.tool_calls!==void 0&&(s=JSON.parse(JSON.stringify(r.additional_kwargs.tool_calls)).map(h=>V0(h,{returnId:this.returnId,partial:n}))),!s)return[];const o=[];for(const d of s)if(d!==void 0){const h={type:d.name,args:d.args,id:d.id};o.push(h)}return o}}class u_ extends EN{static lc_name(){return"JsonOutputKeyToolsParser"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","output_parsers","openai_tools"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"returnId",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"keyName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"returnSingle",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"zodSchema",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.keyName=e.keyName,this.returnSingle=e.returnSingle??this.returnSingle,this.zodSchema=e.zodSchema}async _validateResult(e){if(this.zodSchema===void 0)return e;const n=await this.zodSchema.safeParseAsync(e);if(n.success)return n.data;throw new Hh(`Failed to parse. Text: "${JSON.stringify(e,null,2)}". Error: ${JSON.stringify(n.error.errors)}`,JSON.stringify(e,null,2))}async parsePartialResult(e){const r=(await super.parsePartialResult(e)).filter(o=>o.type===this.keyName);let s=r;if(r.length)return this.returnId||(s=r.map(o=>o.args)),this.returnSingle?s[0]:s}async parseResult(e){const r=(await super.parsePartialResult(e,!1)).filter(c=>c.type===this.keyName);let s=r;return r.length?(this.returnId||(s=r.map(c=>c.args)),this.returnSingle?this._validateResult(s[0]):await Promise.all(s.map(c=>this._validateResult(c)))):void 0}}function ON(i){return i!==void 0&&Array.isArray(i.lc_namespace)}function TN(i){return i!==void 0&&yt.isRunnable(i)&&"lc_name"in i.constructor&&typeof i.constructor.lc_name=="function"&&i.constructor.lc_name()==="RunnableToolLike"}function AN(i){return!!i&&typeof i=="object"&&"name"in i&&"schema"in i&&(Xs(i.schema)||i.schema!=null&&typeof i.schema=="object"&&"type"in i.schema&&typeof i.schema.type=="string"&&["null","boolean","object","array","number","string"].includes(i.schema.type))}function RN(i){return AN(i)||TN(i)||ON(i)}function NN(i){return Xs(i)?Js(i):i}function jN(i,e){return{name:i.name,description:i.description,parameters:NN(i.schema)}}function c_(i,e){let n;return RN(i)?n={type:"function",function:jN(i)}:n=i,n}const kN=["frequency_penalty","function_call","functions","logit_bias","logprobs","max_completion_tokens","max_tokens","n","parallel_tool_calls","presence_penalty","reasoning_format","response_format","seed","service_tier","stop","temperature","tool_choice","top_logprobs","top_p"],CN=["headers","promptIndex","stream_options","tools"],MN=[...kN,...CN];function LN(i){const e=i._getType();switch(e){case"system":return"system";case"ai":return"assistant";case"human":return"user";case"function":return"function";case"tool":return"tool";default:throw new Error(`Unknown message type: ${e}`)}}function d_(i){return i.map(e=>{var r;if(typeof e.content!="string")throw new Error("Non string message content not supported");const n={role:LN(e),content:e.content,name:e.name,function_call:e.additional_kwargs.function_call,tool_calls:e.additional_kwargs.tool_calls,tool_call_id:e.tool_call_id};return Rh(e)&&((r=e.tool_calls)!=null&&r.length)?n.tool_calls=e.tool_calls.map(xN):(e.additional_kwargs.tool_calls!=null&&(n.tool_calls=e.additional_kwargs.tool_calls),e.tool_call_id!=null&&(n.tool_call_id=e.tool_call_id)),n})}function $N(i,e,n){const r=i.tool_calls;switch(i.role){case"assistant":{const s=[],o=[];for(const c of r??[])try{s.push(V0(c,{returnId:!0}))}catch(d){o.push(SN(c,d.message))}return new sh({content:i.content||"",additional_kwargs:{tool_calls:r},tool_calls:s,invalid_tool_calls:o,usage_metadata:e,response_metadata:n})}default:return new Qo(i.content||"",i.role??"unknown")}}function DN(i,e,n,r){var b,_;const s=i.role??e,o=i.content??"";let c;i.function_call?c={function_call:i.function_call}:i.tool_calls?c={tool_calls:i.tool_calls}:c={},i.audio&&(c.audio={...i.audio,index:n.choices[0].index});let d,h=r,m;const g=n.x_groq;g!=null&&g.usage&&(d={input_tokens:g.usage.prompt_tokens,output_tokens:g.usage.completion_tokens,total_tokens:g.usage.total_tokens},m={completion_time:g.usage.completion_time,prompt_time:g.usage.prompt_time,queue_time:g.usage.queue_time,total_time:g.usage.total_time}),g!=null&&g.id&&(h=g.id);const y={usage:d,timing:m};if(s==="user")return new eu({content:o,response_metadata:y});if(s==="assistant"){const x=[];if(Array.isArray(i.tool_calls))for(const E of i.tool_calls)x.push({name:(b=E.function)==null?void 0:b.name,args:(_=E.function)==null?void 0:_.arguments,id:E.id,index:E.index,type:"tool_call_chunk"});return new vr({content:o,tool_call_chunks:x,additional_kwargs:c,id:h,response_metadata:y})}else return s==="system"?new Vs({content:o,response_metadata:y}):s==="developer"?new Vs({content:o,response_metadata:y,additional_kwargs:{__openai_role__:"developer"}}):s==="function"?new Ko({content:o,additional_kwargs:c,name:i.name,response_metadata:y}):s==="tool"?new Ah({content:o,additional_kwargs:c,tool_call_id:i.tool_call_id,response_metadata:y}):new Jo({content:o,role:s,response_metadata:y})}class Z0 extends Ha{get lc_serialized_keys(){return["client","model","temperature","stop","stopSequences","maxTokens","streaming","apiKey","streamUsage","topP","frequencyPenalty","presencePenalty","logprobs","n","logitBias","user","reasoningFormat","serviceTier","topLogprobs"]}static lc_name(){return"ChatGroq"}_llmType(){return"groq"}get lc_secrets(){return{apiKey:"GROQ_API_KEY"}}get callKeys(){return[...super.callKeys,...MN]}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","chat_models","groq"]}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"model",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"temperature",{enumerable:!0,configurable:!0,writable:!0,value:.7}),Object.defineProperty(this,"stop",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stopSequences",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxTokens",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"streaming",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"apiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"streamUsage",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"topP",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"frequencyPenalty",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"presencePenalty",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"logprobs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"n",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"logitBias",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"user",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reasoningFormat",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"serviceTier",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"topLogprobs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0});const n=e.apiKey||ca("GROQ_API_KEY");if(!n)throw new Error('Groq API key not found. Please set the GROQ_API_KEY environment variable or provide the key into "apiKey"');const r={"User-Agent":"langchainjs",...e.defaultHeaders??{}};this.client=new Ye({apiKey:n,dangerouslyAllowBrowser:!0,baseURL:e.baseUrl,timeout:e.timeout,httpAgent:e.httpAgent,fetch:e.fetch,maxRetries:0,defaultHeaders:r,defaultQuery:e.defaultQuery}),this.apiKey=n,this.temperature=e.temperature??this.temperature,this.model=e.model,this.streaming=e.streaming??this.streaming,this.stop=e.stopSequences??(typeof e.stop=="string"?[e.stop]:e.stop)??[],this.stopSequences=this.stop,this.maxTokens=e.maxTokens,this.topP=e.topP,this.frequencyPenalty=e.frequencyPenalty,this.presencePenalty=e.presencePenalty,this.logprobs=e.logprobs,this.n=e.n,this.logitBias=e.logitBias,this.user=e.user}getLsParams(e){const n=this.invocationParams(e);return{ls_provider:"groq",ls_model_name:this.model,ls_model_type:"chat",ls_temperature:n.temperature??this.temperature,ls_max_tokens:n.max_tokens??this.maxTokens,ls_stop:e.stop}}async completionWithRetry(e,n){return this.caller.call(async()=>this.client.chat.completions.create(e,n))}invocationParams(e,n){var c;const r=super.invocationParams(e);let s={};(e==null?void 0:e.stream_options)!==void 0?s={stream_options:e.stream_options}:(this.streamUsage&&this.streaming||n!=null&&n.streaming)&&(s={stream_options:{include_usage:!0}});const o={model:this.model,frequency_penalty:this.frequencyPenalty,function_call:e==null?void 0:e.function_call,functions:e==null?void 0:e.functions,logit_bias:this.logitBias,logprobs:this.logprobs,n:this.n,parallel_tool_calls:e==null?void 0:e.parallel_tool_calls,presence_penalty:this.presencePenalty,reasoning_format:this.reasoningFormat,response_format:e==null?void 0:e.response_format,seed:e==null?void 0:e.seed,service_tier:this.serviceTier,stop:(e==null?void 0:e.stop)??this.stopSequences,temperature:(e==null?void 0:e.temperature)??this.temperature,tool_choice:IN(e==null?void 0:e.tool_choice),tools:(c=e==null?void 0:e.tools)!=null&&c.length?e.tools.map(d=>c_(d)):void 0,top_logprobs:this.topLogprobs,top_p:this.topP,user:this.user,stream:this.streaming,...r,...s};return o.max_completion_tokens=(e==null?void 0:e.max_completion_tokens)??(e==null?void 0:e.max_tokens)??this.maxTokens,o.max_completion_tokens===-1&&delete o.max_completion_tokens,o}bindTools(e,n){return this.bind({tools:e.map(r=>c_(r)),...n})}async*_streamResponseChunks(e,n,r){var g,y;const s=this.invocationParams(n,{streaming:!0}),o=d_(e),c=await this.completionWithRetry({...s,messages:o,stream:!0},{signal:n==null?void 0:n.signal,headers:n==null?void 0:n.headers});let d,h,m;for await(const b of c){m=b;const _=b==null?void 0:b.choices[0];if(!_)continue;(g=_.delta)!=null&&g.role&&(d=_.delta.role);const x=DN(_.delta,d,b,h),E={prompt:n.promptIndex??0,completion:_.index??0};if(typeof x.content!="string"){console.log("[WARNING]: Received non-string content from OpenAI. This is currently not supported.");continue}const A={...E};_.finish_reason!=null&&(A.finish_reason=_.finish_reason,A.system_fingerprint=b.system_fingerprint,A.model_name=b.model);const N=new _i({message:x,text:x.content,generationInfo:A});yield N,await(r==null?void 0:r.handleLLMNewToken(N.text??"",E,void 0,void 0,void 0,{chunk:N}))}if(m&&("choices"in m&&delete m.choices,yield new _i({message:new vr({content:"",response_metadata:m}),text:""})),(y=n.signal)!=null&&y.aborted)throw new Error("AbortError")}async _generate(e,n,r){var s;if(this.streaming){const o={},c=this._streamResponseChunks(e,n,r),d={};for await(const m of c){const g=((s=m.generationInfo)==null?void 0:s.completion)??0;d[g]===void 0?d[g]=m:d[g]=d[g].concat(m)}return{generations:Object.entries(d).sort(([m],[g])=>parseInt(m,10)-parseInt(g,10)).map(([m,g])=>g),llmOutput:{estimatedTokenUsage:o}}}else return this._generateNonStreaming(e,n,r)}async _generateNonStreaming(e,n,r){var m;const s={},o=this.invocationParams(n),c=d_(e),d=await this.completionWithRetry({...o,stream:!1,messages:c},{signal:n==null?void 0:n.signal,headers:n==null?void 0:n.headers});if("usage"in d&&d.usage){const{completion_tokens:g,prompt_tokens:y,total_tokens:b}=d.usage;g&&(s.completionTokens=(s.completionTokens??0)+g),y&&(s.promptTokens=(s.promptTokens??0)+y),b&&(s.totalTokens=(s.totalTokens??0)+b)}const h=[];if("choices"in d&&d.choices)for(const g of d.choices){const y=((m=g.message)==null?void 0:m.content)??"";let b;s.totalTokens!==void 0&&(b={input_tokens:s.promptTokens??0,output_tokens:s.completionTokens??0,total_tokens:s.totalTokens});const{choices:_,...x}=d,E={text:y,message:$N(g.message??{role:"assistant"},b,x)};E.generationInfo={...g.finish_reason?{finish_reason:g.finish_reason}:{},...g.logprobs?{logprobs:g.logprobs}:{}},h.push(E)}return{generations:h,llmOutput:{tokenUsage:s}}}withStructuredOutput(e,n){const r=e,s=n==null?void 0:n.name,o=n==null?void 0:n.method,c=n==null?void 0:n.includeRaw;let d=s??"extract",h,m;if(o==="jsonMode")m=this.bind({response_format:{type:"json_object"}}),Xs(r)?h=_N.fromZodSchema(r):h=new wN;else if(Xs(r)){const _=Js(r);m=this.bind({tools:[{type:"function",function:{name:d,description:_.description,parameters:_}}],tool_choice:{type:"function",function:{name:d}}}),h=new u_({returnSingle:!0,keyName:d,zodSchema:r})}else{let _;typeof r.name=="string"&&typeof r.parameters=="object"&&r.parameters!=null?(_=r,d=r.name):(d=r.title??d,_={name:d,description:r.description??"",parameters:r}),m=this.bind({tools:[{type:"function",function:_}],tool_choice:{type:"function",function:{name:d}}}),h=new u_({returnSingle:!0,keyName:d})}if(!c)return m.pipe(h).withConfig({runName:"ChatGroqStructuredOutput"});const g=Vo.assign({parsed:(_,x)=>h.invoke(_.raw,x)}),y=Vo.assign({parsed:()=>null}),b=g.withFallbacks({fallbacks:[y]});return la.from([{raw:m},b]).withConfig({runName:"ChatGroqStructuredOutput"})}}function IN(i){if(i)return i==="any"||i==="required"?"required":i==="auto"?"auto":i==="none"?"none":typeof i=="string"?{type:"function",function:{name:i}}:i}const Zo=ue.forwardRef(({className:i,type:e,...n},r)=>S.jsx("input",{type:e,className:On("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",i),ref:r,...n}));Zo.displayName="Input";const Un=ue.forwardRef(({className:i,...e},n)=>S.jsx("div",{ref:n,className:On("rounded-lg border bg-card text-card-foreground shadow-sm",i),...e}));Un.displayName="Card";const zn=ue.forwardRef(({className:i,...e},n)=>S.jsx("div",{ref:n,className:On("flex flex-col space-y-1.5 p-6",i),...e}));zn.displayName="CardHeader";const qn=ue.forwardRef(({className:i,...e},n)=>S.jsx("h3",{ref:n,className:On("text-2xl font-semibold leading-none tracking-tight",i),...e}));qn.displayName="CardTitle";const PN=ue.forwardRef(({className:i,...e},n)=>S.jsx("p",{ref:n,className:On("text-sm text-muted-foreground",i),...e}));PN.displayName="CardDescription";const Bn=ue.forwardRef(({className:i,...e},n)=>S.jsx("div",{ref:n,className:On("p-6 pt-0",i),...e}));Bn.displayName="CardContent";const UN=ue.forwardRef(({className:i,...e},n)=>S.jsx("div",{ref:n,className:On("flex items-center p-6 pt-0",i),...e}));UN.displayName="CardFooter";const zN=new Z0({model:"llama3-70b-8192",temperature:0,apiKey:"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"}),qN=({profile_image_url:i,about:e,name:n="Ch.Varun",linkedin:r,children:s})=>{r||(r="");const[o,c]=ue.useState([{id:1,text:"Feel free to ask me anything about my background or projects. I'm here to help!",sender:"bot",timestamp:new Date}]),[d,h]=ue.useState(""),[m,g]=ue.useState(!1),y=ue.useRef(null),[b,_]=ue.useState([]),x=()=>{y.current&&y.current.scrollTo({top:y.current.scrollHeight,behavior:"smooth"})};ue.useEffect(()=>{x()},[o]);const E=async()=>{if(!d.trim())return;const D={id:Date.now(),text:d,sender:"user",timestamp:new Date},k=[...b,{role:"user",content:d}];_(k),c(F=>[...F,D]),h(""),g(!0);try{const F=await zN.invoke([{role:"system",content:N(n,r)},...k]),q=typeof F.content=="string"?F.content:Array.isArray(F.content)?F.content.map(ne=>typeof ne=="string"?ne:ne.text||"").join(" "):"",ee={id:Date.now()+1,text:q,sender:"bot",timestamp:new Date};c(ne=>[...ne,ee]),_([...k,{role:"assistant",content:q}])}catch{}finally{g(!1)}},A=D=>{D.key==="Enter"&&!D.shiftKey&&(D.preventDefault(),E())},N=(D,k)=>`You are acting as ${D}. You are answering questions on ${D}'s website, related to their experience, skills, and career. Be friendly, professional, and helpful. Here's their LinkedIn for context:
${k}. Make sure to answer in 1-2 lines for every question.`;return S.jsx("section",{className:"container mx-auto px-4 py-16",id:"home",children:S.jsxs("div",{className:"grid gap-8 lg:grid-cols-2 lg:gap-12",children:[S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{className:"flex items-center space-x-6",children:[S.jsx("div",{className:"relative",children:S.jsx("img",{src:i,alt:"Profile",className:"h-24 w-24 rounded-full object-cover ring-4 ring-primary/20"})}),S.jsxs("div",{className:"space-y-2",children:[S.jsx("h1",{className:"text-4xl font-bold tracking-tight",children:n}),S.jsx("p",{className:"text-xl text-muted-foreground",children:"Software Developer @ HashedIn by Deloitte"})]})]}),S.jsxs("div",{className:"space-y-4",children:[S.jsx("h2",{className:"text-2xl font-semibold",children:"Welcome to my Portfolio"}),S.jsxs("p",{className:"text-lg leading-relaxed text-muted-foreground",children:[e," Here is my GitHub, you can explore my projects:"," ",S.jsx("a",{href:"https://github.com/TheCoder30ec4",className:"text-primary hover:underline",target:"_blank",rel:"noopener noreferrer",children:"GitHub"})]})]})]}),S.jsxs(Un,{className:"h-[600px] flex flex-col overflow-hidden",children:[S.jsx(zn,{children:S.jsxs(qn,{className:"flex items-center space-x-2",children:[S.jsx(CS,{className:"h-5 w-5"}),S.jsx("span",{children:"Live Chat with me "})]})}),S.jsxs(Bn,{className:"flex-1 flex min-h-0 flex-col space-y-4",children:[S.jsxs("div",{className:"flex-1 min-h-0 overflow-y-scroll custom-scrollbar space-y-4 pr-2",ref:y,children:[o.map(D=>S.jsxs("div",{className:`flex space-x-3 ${D.sender==="user"?"justify-end":"justify-start"}`,children:[D.sender==="bot"&&S.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-primary/10",children:S.jsx("img",{src:i,alt:"Bot Avatar",className:"h-6 w-6 rounded-full"})}),S.jsxs("div",{className:`max-w-[80%] space-y-1 ${D.sender==="user"?"order-first":""}`,children:[S.jsx("div",{className:"text-xs text-muted-foreground",children:D.sender==="bot"?n:"You"}),S.jsx("div",{className:`rounded-lg px-3 py-2 text-sm ${D.sender==="user"?"bg-primary text-primary-foreground":"bg-muted text-foreground"}`,children:D.text})]}),D.sender==="user"&&S.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-primary/10",children:S.jsx(yE,{className:"h-4 w-4 text-primary"})})]},D.id)),m&&S.jsxs("div",{className:"flex space-x-3",children:[S.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-primary/10",children:S.jsx("img",{src:i,alt:"Bot Avatar",className:"h-6 w-6 rounded-full"})}),S.jsxs("div",{className:"space-y-1",children:[S.jsx("div",{className:"text-xs text-muted-foreground",children:n}),S.jsx("div",{className:"rounded-lg px-3 py-2 text-sm bg-muted",children:S.jsxs("div",{className:"flex space-x-1",children:[S.jsx("div",{className:"h-2 w-2 rounded-full bg-muted-foreground typing-dot"}),S.jsx("div",{className:"h-2 w-2 rounded-full bg-muted-foreground typing-dot"}),S.jsx("div",{className:"h-2 w-2 rounded-full bg-muted-foreground typing-dot"})]})})]})]})]}),S.jsxs("div",{className:"flex space-x-2",children:[S.jsx(Zo,{placeholder:"Type your message here...",value:d,onChange:D=>h(D.target.value),onKeyPress:A,className:"flex-1"}),S.jsx(_n,{onClick:E,disabled:!d.trim(),size:"icon",children:S.jsx(Wf,{className:"h-4 w-4"})})]}),S.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"AI-powered responses may take a moment. Please be patient."})]})]})]})})},BN=async({url:i="https://www.linkedin.com/in/ch-varun/"}={})=>{throw new Error("APIFY token missing. Set VITE_APIFY_TOKEN in your .env (not committed).")},HN=b_("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function du({className:i,variant:e,...n}){return S.jsx("div",{className:On(HN({variant:e}),i),...n})}function GN(i,e=[]){let n=[];function r(o,c){const d=ue.createContext(c),h=n.length;n=[...n,c];const m=y=>{var N;const{scope:b,children:_,...x}=y,E=((N=b==null?void 0:b[i])==null?void 0:N[h])||d,A=ue.useMemo(()=>x,Object.values(x));return S.jsx(E.Provider,{value:A,children:_})};m.displayName=o+"Provider";function g(y,b){var E;const _=((E=b==null?void 0:b[i])==null?void 0:E[h])||d,x=ue.useContext(_);if(x)return x;if(c!==void 0)return c;throw new Error(`\`${y}\` must be used within \`${o}\``)}return[m,g]}const s=()=>{const o=n.map(c=>ue.createContext(c));return function(d){const h=(d==null?void 0:d[i])||o;return ue.useMemo(()=>({[`__scope${i}`]:{...d,[i]:h}}),[d,h])}};return s.scopeName=i,[r,VN(s,...e)]}function VN(...i){const e=i[0];if(i.length===1)return e;const n=()=>{const r=i.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const c=r.reduce((d,{useScope:h,scopeName:m})=>{const y=h(o)[`__scope${m}`];return{...d,...y}},{});return ue.useMemo(()=>({[`__scope${e.scopeName}`]:c}),[c])}};return n.scopeName=e.scopeName,n}m_();var ZN=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Y0=ZN.reduce((i,e)=>{const n=p_(`Primitive.${e}`),r=ue.forwardRef((s,o)=>{const{asChild:c,...d}=s,h=c?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),S.jsx(h,{...d,ref:o})});return r.displayName=`Primitive.${e}`,{...i,[e]:r}},{}),Gh="Progress",Vh=100,[YN,S2]=GN(Gh),[FN,XN]=YN(Gh),F0=ue.forwardRef((i,e)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:o=QN,...c}=i;(s||s===0)&&!f_(s)&&console.error(JN(`${s}`,"Progress"));const d=f_(s)?s:Vh;r!==null&&!h_(r,d)&&console.error(KN(`${r}`,"Progress"));const h=h_(r,d)?r:null,m=Yo(h)?o(h,d):void 0;return S.jsx(FN,{scope:n,value:h,max:d,children:S.jsx(Y0.div,{"aria-valuemax":d,"aria-valuemin":0,"aria-valuenow":Yo(h)?h:void 0,"aria-valuetext":m,role:"progressbar","data-state":J0(h,d),"data-value":h??void 0,"data-max":d,...c,ref:e})})});F0.displayName=Gh;var X0="ProgressIndicator",Q0=ue.forwardRef((i,e)=>{const{__scopeProgress:n,...r}=i,s=XN(X0,n);return S.jsx(Y0.div,{"data-state":J0(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});Q0.displayName=X0;function QN(i,e){return`${Math.round(i/e*100)}%`}function J0(i,e){return i==null?"indeterminate":i===e?"complete":"loading"}function Yo(i){return typeof i=="number"}function f_(i){return Yo(i)&&!isNaN(i)&&i>0}function h_(i,e){return Yo(i)&&!isNaN(i)&&i<=e&&i>=0}function JN(i,e){return`Invalid prop \`max\` of value \`${i}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Vh}\`.`}function KN(i,e){return`Invalid prop \`value\` of value \`${i}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Vh} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var K0=F0,WN=Q0;const W0=ue.forwardRef(({className:i,value:e,...n},r)=>S.jsx(K0,{ref:r,className:On("relative h-4 w-full overflow-hidden rounded-full bg-secondary",i),...n,children:S.jsx(WN,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));W0.displayName=K0.displayName;const e2=new Z0({model:"llama3-8b-8192",temperature:.2,apiKey:"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"}),t2=i=>{const e=i.toLowerCase();return e.includes("frontend")||e.includes("ui")?S.jsx(WS,{className:"h-5 w-5"}):e.includes("backend")||e.includes("api")?S.jsx(dE,{className:"h-5 w-5"}):e.includes("database")||e.includes("db")?S.jsx(FS,{className:"h-5 w-5"}):e.includes("devops")||e.includes("deployment")?S.jsx(vE,{className:"h-5 w-5"}):e.includes("test")||e.includes("testing")?S.jsx(pE,{className:"h-5 w-5"}):S.jsx(ZS,{className:"h-5 w-5"})},n2=({data:i})=>{const[e,n]=ue.useState([]),[r,s]=ue.useState(!0),[o,c]=ue.useState(null);return ue.useEffect(()=>{(async()=>{let h=[];if(i!=null&&i.skills)h=i.skills;else if(i!=null&&i.experience){const y=i.experience.reduce((_,x)=>x.skills&&Array.isArray(x.skills)?[..._,...x.skills]:_,[]);h=[...new Set(y)].map(_=>({name:_}))}if(!h||h.length===0){s(!1);return}s(!0),c(null);const g=`You are an expert tech hiring manager. Your task is to categorize a list of software development skills into logical groups.
      Given the list of skills: [${h.map(y=>y.name).join(", ")}].
      Categorize them into relevant groups such as "Frontend", "Backend", "Languages", "Databases", "DevOps", "Testing", and "Tools".
      You MUST return ONLY a single valid JSON object in the following format: { "categories": [{ "category": "CategoryName", "skills": [{ "name": "SkillName" }] }] }.
      Do NOT include any introductory text, backticks, or explanations outside of the JSON object.
      Do NOT omit any closing brackets or braces. Only output valid JSON. Also from the projects if you get another skills feel free to mention`;try{let b=(await e2.invoke(g)).content;const _=b.indexOf("{"),x=b.lastIndexOf("}");if(_===-1||x===-1||x<_)throw new Error("No valid JSON object found in LLM response.");let E=b.substring(_,x+1);const A=(E.match(/{/g)||[]).length,N=(E.match(/}/g)||[]).length,D=(E.match(/\[/g)||[]).length,k=(E.match(/\]/g)||[]).length;A>N&&(E+="}".repeat(A-N)),D>k&&(E+="]".repeat(D-k));const F=JSON.parse(E);if(F.categories&&F.categories.length>0)n(F.categories);else throw new Error("Invalid JSON structure from LLM.")}catch{c("Could not categorize skills. Displaying in a simple list."),n([{category:"All Skills",skills:h}])}finally{s(!1)}})()},[i]),r?S.jsx("section",{className:"container mx-auto px-4 py-16",id:"skills",children:S.jsxs("div",{className:"text-center space-y-4",children:[S.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"My Skills"}),S.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[S.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-primary border-t-transparent"}),S.jsx("span",{className:"text-muted-foreground",children:"Categorizing skills..."})]})]})}):S.jsx("section",{className:"container mx-auto px-4 py-16",id:"skills",children:S.jsxs("div",{className:"space-y-8",children:[S.jsxs("div",{className:"text-center space-y-4",children:[S.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"My Skills"}),S.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"A comprehensive overview of my technical skills and expertise across various domains"})]}),o&&S.jsx("div",{className:"bg-destructive/10 border border-destructive/20 rounded-lg p-4 text-center",children:S.jsx("p",{className:"text-destructive text-sm",children:o})}),S.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:e.map((d,h)=>S.jsxs(Un,{className:"hover:shadow-lg transition-shadow",children:[S.jsx(zn,{className:"pb-3",children:S.jsxs(qn,{className:"flex items-center space-x-2 text-lg",children:[t2(d.category),S.jsx("span",{children:d.category})]})}),S.jsxs(Bn,{className:"space-y-4",children:[S.jsx("div",{className:"flex flex-wrap gap-2",children:d.skills.map((m,g)=>S.jsx(du,{variant:"secondary",className:"text-xs",children:m.name},m.name+g))}),S.jsxs("div",{className:"space-y-2",children:[S.jsxs("div",{className:"flex justify-between text-sm",children:[S.jsx("span",{className:"text-muted-foreground",children:"Proficiency"}),S.jsxs("span",{className:"font-medium",children:[Math.floor(Math.random()*30)+70,"%"]})]}),S.jsx(W0,{value:Math.floor(Math.random()*30)+70,className:"h-2"})]})]})]},d.category+h))})]})})},a2=i=>{if(!i)return[];const e=i.reduce((n,r)=>{const s=r.company||"Unknown Company";return n[s]||(n[s]={company:s,logo:r.company_logo_url||"",roles:[]}),n[s].roles.push(r),n[s].roles.sort((o,c)=>{var _,x,E,A;const d=((_=o.start_date)==null?void 0:_.year)??0,h=(((x=o.start_date)==null?void 0:x.month)??1)-1,m=((E=c.start_date)==null?void 0:E.year)??0,g=(((A=c.start_date)==null?void 0:A.month)??1)-1,y=new Date(d,Math.max(0,h));return new Date(m,Math.max(0,g)).getTime()-y.getTime()}),n},{});return Object.values(e)},r2=({experienceData:i})=>{const e=a2(i);return S.jsx("section",{className:"container mx-auto px-4 py-16",id:"experience",children:S.jsxs("div",{className:"space-y-8",children:[S.jsxs("div",{className:"text-center space-y-4",children:[S.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Experience"}),S.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"My professional journey and work experience across different companies and roles"})]}),S.jsx("div",{className:"space-y-8",children:e.map((n,r)=>S.jsxs(Un,{className:"overflow-hidden",children:[S.jsx(zn,{className:"bg-card",children:S.jsxs("div",{className:"flex items-center space-x-4",children:[n.logo&&S.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-background",children:S.jsx("img",{src:n.logo,alt:`${n.company} logo`,className:"h-8 w-8 object-contain"})}),S.jsx("div",{className:"flex-1",children:S.jsxs(qn,{className:"flex items-center space-x-2",children:[S.jsx(LS,{className:"h-5 w-5"}),S.jsx("span",{children:n.company})]})})]})}),S.jsx(Bn,{className:"p-6",children:S.jsx("div",{className:"space-y-6",children:n.roles.map((s,o)=>S.jsxs("div",{className:"relative",children:[o>0&&S.jsx("div",{className:"absolute left-6 top-0 h-6 w-px bg-border"}),S.jsxs("div",{className:"flex space-x-4",children:[S.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-primary/10",children:S.jsx("div",{className:"h-3 w-3 rounded-full bg-primary"})}),S.jsxs("div",{className:"flex-1 space-y-3",children:[S.jsxs("div",{children:[S.jsx("h4",{className:"text-lg font-semibold",children:s.title}),S.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-muted-foreground mt-1",children:[S.jsxs("div",{className:"flex items-center space-x-1",children:[S.jsx(GS,{className:"h-4 w-4"}),S.jsx("span",{children:s.duration})]}),S.jsxs("div",{className:"flex items-center space-x-1",children:[S.jsx(sE,{className:"h-4 w-4"}),S.jsx("span",{children:s.location})]})]})]}),s.description&&S.jsx("p",{className:"text-muted-foreground leading-relaxed",children:s.description}),s.skills&&s.skills.length>0&&S.jsx("div",{className:"flex flex-wrap gap-2",children:s.skills.map((c,d)=>S.jsx(du,{variant:"outline",className:"text-xs",children:c},d))})]})]})]},o))})})]},r))})]})})},i2=({project:i})=>S.jsxs(Un,{className:"group hover:shadow-lg transition-all duration-300 hover:-translate-y-1",children:[S.jsx(zn,{children:S.jsxs("div",{className:"flex items-start justify-between",children:[S.jsxs("div",{className:"space-y-2",children:[S.jsx(qn,{className:"text-xl group-hover:text-primary transition-colors",children:i.name}),i.associated_with&&S.jsxs("p",{className:"text-sm text-muted-foreground",children:["Associated with: ",i.associated_with]})]}),S.jsx(du,{variant:"secondary",className:"text-xs",children:"Project"})]})}),S.jsxs(Bn,{className:"space-y-4",children:[S.jsx("p",{className:"text-muted-foreground leading-relaxed",children:i.description}),S.jsxs("div",{className:"flex flex-wrap gap-2",children:[S.jsx(_n,{asChild:!0,size:"sm",children:S.jsxs("a",{href:"https://github.com/TheCoder30ec4",target:"_blank",rel:"noreferrer",className:"flex items-center space-x-2",children:[S.jsx(Eh,{className:"h-4 w-4"}),S.jsx("span",{children:"View on GitHub"}),S.jsx(QS,{className:"h-3 w-3"})]})}),S.jsx(_n,{variant:"outline",asChild:!0,size:"sm",children:S.jsxs("a",{href:"https://github.com/TheCoder30ec4",target:"_blank",rel:"noreferrer",className:"flex items-center space-x-2",children:[S.jsx("span",{children:"View More Projects"}),S.jsx(RS,{className:"h-4 w-4"})]})})]})]})]}),s2=({projects:i})=>S.jsx("section",{className:"container mx-auto px-4 py-16",id:"projects",children:S.jsxs("div",{className:"space-y-8",children:[S.jsxs("div",{className:"text-center space-y-4",children:[S.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"My Projects"}),S.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Here are some of the projects I've worked on. Feel free to explore them and see my work in action."})]}),S.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:i.map((e,n)=>S.jsx(i2,{project:e},n))})]})}),l2=({data:i})=>S.jsxs(Un,{className:"group hover:shadow-lg transition-all duration-300 hover:-translate-y-1",children:[S.jsx(zn,{className:"pb-3",children:S.jsxs("div",{className:"flex items-start justify-between",children:[S.jsxs("div",{className:"flex items-center space-x-3",children:[S.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-primary/10",children:S.jsx(jS,{className:"h-5 w-5 text-primary"})}),S.jsxs("div",{className:"space-y-1",children:[S.jsx(qn,{className:"text-lg group-hover:text-primary transition-colors",children:i.name}),S.jsxs("div",{className:"flex items-center space-x-1 text-sm text-muted-foreground",children:[S.jsx(DS,{className:"h-3 w-3"}),S.jsx("span",{children:i.issuer})]})]})]}),S.jsx(du,{variant:"outline",className:"text-xs",children:"Certified"})]})}),S.jsx(Bn,{children:S.jsxs("div",{className:"flex items-center space-x-1 text-sm text-muted-foreground",children:[S.jsx(PS,{className:"h-3 w-3"}),S.jsxs("span",{children:["Issued: ",i.issued_date]})]})})]}),o2=({certifications:i})=>S.jsx("section",{className:"container mx-auto px-4 py-16",id:"certifications",children:S.jsxs("div",{className:"space-y-8",children:[S.jsxs("div",{className:"text-center space-y-4",children:[S.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Certifications"}),S.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Professional certifications and achievements that validate my skills and expertise"})]}),S.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:i.map((e,n)=>S.jsx(l2,{data:e},n))})]})}),u2=()=>S.jsx("section",{className:"container mx-auto px-4 py-16",children:S.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[S.jsxs("div",{className:"text-center space-y-4",children:[S.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Get in Touch"}),S.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Feel free to reach out to me for collaboration, project ideas, or just a tech chat!"})]}),S.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[S.jsxs(Un,{className:"text-center hover:shadow-lg transition-shadow",children:[S.jsxs(zn,{children:[S.jsx("div",{className:"flex justify-center",children:S.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-blue-600/10",children:S.jsx(j_,{className:"h-6 w-6 text-blue-600"})})}),S.jsx(qn,{className:"text-lg",children:"Email"})]}),S.jsx(Bn,{children:S.jsx(_n,{variant:"outline",asChild:!0,className:"w-full",children:S.jsx("a",{href:"mailto:varun30ec4@gmail.com",children:"varun30ec4@gmail.com"})})})]}),S.jsxs(Un,{className:"text-center hover:shadow-lg transition-shadow",children:[S.jsxs(zn,{children:[S.jsx("div",{className:"flex justify-center",children:S.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-blue-600/10",children:S.jsx(Eh,{className:"h-6 w-6 text-blue-600"})})}),S.jsx(qn,{className:"text-lg",children:"GitHub"})]}),S.jsx(Bn,{children:S.jsx(_n,{variant:"outline",asChild:!0,className:"w-full",children:S.jsx("a",{href:"https://github.com/TheCoder30ec4",target:"_blank",rel:"noreferrer",children:"TheCoder30ec4"})})})]}),S.jsxs(Un,{className:"text-center hover:shadow-lg transition-shadow",children:[S.jsxs(zn,{children:[S.jsx("div",{className:"flex justify-center",children:S.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-blue-600/10",children:S.jsx(aE,{className:"h-6 w-6 text-blue-600"})})}),S.jsx(qn,{className:"text-lg",children:"LinkedIn"})]}),S.jsx(Bn,{children:S.jsx(_n,{variant:"outline",asChild:!0,className:"w-full",children:S.jsx("a",{href:"https://linkedin.com/in/ch-varun",target:"_blank",rel:"noreferrer",children:"Ch Varun"})})})]})]}),S.jsx("div",{className:"text-center pt-8 border-t",children:S.jsxs("p",{className:"text-gray-600 flex items-center justify-center space-x-1",children:[S.jsx("span",{children:"Made with"}),S.jsx(tE,{className:"h-4 w-4 text-red-500 fill-current"}),S.jsx("span",{children:"and passion by Varun"})]})})]})}),ew=ue.forwardRef(({className:i,...e},n)=>S.jsx("textarea",{className:On("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",i),ref:n,...e}));ew.displayName="Textarea";const c2="http://localhost:5678/webhook/09e33cc3-6ed0-496d-abab-8199b5bacceb",d2=()=>{const i=ue.useRef(null),[e,n]=ue.useState("idle"),[r,s]=ue.useState(!1),[o,c]=ue.useState(""),[d,h]=ue.useState(""),[m,g]=ue.useState(""),y=async b=>{b.preventDefault(),n("idle"),s(!0);try{(await fetch(c2,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:d,name:o,Note:m})})).ok?(n("sent"),c(""),h(""),g("")):n("error")}catch{n("error")}finally{s(!1)}};return S.jsx("section",{className:"container mx-auto px-4 py-16",children:S.jsxs("div",{className:"max-w-2xl mx-auto space-y-8",children:[S.jsxs("div",{className:"text-center space-y-4",children:[S.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Contact Me"}),S.jsx("p",{className:"text-lg text-gray-600",children:"I also do freelance work. Feel free to reach out for collaborations, project inquiries, or just to say hello!"})]}),S.jsxs(Un,{children:[S.jsx(zn,{children:S.jsxs(qn,{className:"flex items-center space-x-2",children:[S.jsx(Wf,{className:"h-5 w-5"}),S.jsx("span",{children:"Send a Message"})]})}),S.jsx(Bn,{children:S.jsxs("form",{ref:i,onSubmit:y,className:"space-y-4",children:[S.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{htmlFor:"name",className:"text-sm font-medium",children:"Name"}),S.jsx(Zo,{id:"name",type:"text",name:"user_name",placeholder:"Your Name",required:!0,value:o,onChange:b=>c(b.target.value),disabled:r})]}),S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{htmlFor:"email",className:"text-sm font-medium",children:"Email"}),S.jsx(Zo,{id:"email",type:"email",name:"user_email",placeholder:"Your Email",required:!0,value:d,onChange:b=>h(b.target.value),disabled:r})]})]}),S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{htmlFor:"message",className:"text-sm font-medium",children:"Message"}),S.jsx(ew,{id:"message",name:"message",placeholder:"Your Message",rows:5,value:m,onChange:b=>g(b.target.value),required:!0,disabled:r})]}),S.jsx(_n,{type:"submit",className:"w-full",disabled:r,children:r?S.jsxs("div",{className:"flex items-center space-x-2",children:[S.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-current border-t-transparent"}),S.jsx("span",{children:"Sending..."})]}):S.jsxs("div",{className:"flex items-center space-x-2",children:[S.jsx(Wf,{className:"h-4 w-4"}),S.jsx("span",{children:"Send Message"})]})}),e==="sent"&&S.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-green-50 border border-green-200 rounded-lg",children:[S.jsx(BS,{className:"h-4 w-4 text-green-600"}),S.jsx("span",{className:"text-green-800 text-sm",children:"Message sent successfully!"})]}),e==="error"&&S.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-red-50 border border-red-200 rounded-lg",children:[S.jsx(zS,{className:"h-4 w-4 text-red-600"}),S.jsx("span",{className:"text-red-800 text-sm",children:"Something went wrong. Try again!"})]})]})})]})]})})},f2={basic_info:{name:"Ch Varun",headline:"SDE-1@Hashedin by Deloitte | Full Stack Developer | AI Enthusiast | Innovator in Gen AI, MERN Stack & Computer Vision | Driving Real-World Impact through Cutting-Edge Technology",profile_image_url:"https://media.licdn.com/dms/image/v2/D5603AQGtW-0k1r7tSw/profile-displayphoto-shrink_800_800/profile-displayphoto-shrink_800_800/0/1724755488319?e=1755129600&v=beta&t=kBNVmjLARnBbBE-irTR2YMHVAg3zCbNCc4yATeh9Xco",about:`Turning code into cutting-edge solutions & the future one line at a time!  Educated at Amrita Vishwa Vidyapeetham with a strong footing in Computer and Communication Engineering, my journey has been about more than just gradesit's a story of passion, projects, and impact. From revamping real-time control in Cyber-Physical Systems to pioneering plant disease prediction tools, my work stands at the intersection of innovation and real-world challenges. 

 Fluent in languages like C, Python, and JavaScript, and frameworks such as React Native & Flutter, I bring versatility and depth to the table. Projects like creating a Sensor-fusion-based Elderly Fall Detection System spotlight my team leadership and technical prowess, improving lives while pushing tech boundaries.

 Recognized with 2nd place at Smart India Hackathon for a sustainable city project, my journey reflects a blend of academia and real-life impact. As an enthusiast for Machine Learning, my ventures into AI for agricultural efficiency and environmental management have not only earned accolades but also opened new realms of possibility.

 I'm on the lookout for opportunities to contribute to dynamic teams and make meaningful advancements in technology and society. Let's connect and explore how we can chart new territories together!`,location:{country:"India",city:"Hyderabad, Telangana",full:"Hyderabad, Telangana, India",country_code:"IN"}},experience:[{title:"SDE 1",company:"HashedIn by Deloitte",location:"On-site",description:"Software developer 1",duration:"May 2025 - Present  2 mos"},{title:"Intern",company:"HashedIn by Deloitte",location:"Bengaluru, Karnataka, India",duration:"Feb 2025 - May 2025  4 mos"},{title:"Investor Relations Intern",company:"Zealopia",location:"Mumbai Metropolitan Region",duration:"Dec 2024 - Feb 2025  3 mos",skills:["Business and Program Management"]},{title:"Club Member",company:"CAMHI",location:"Chennai, Tamil Nadu, India",duration:"Sep 2023 - Dec 2024  1 yr 4 mos",skills:["Debugging","Modeling and Simulation"]},{title:"Full Stack Developer",company:"DeepDive",location:"Singapore",description:"Developed backend APIs using AWS Lambda functions and REST APIs, integrated with OpenAI for PDF summarization, and built frontend functionalities including search and OAuth.",duration:"Apr 2024 - Jul 2024  4 mos",skills:["Front-End Development","open ai"]},{title:"Student Intern",company:"Water and Land Management Training and Research Institute",location:"Hyderabad, Telangana, India",description:'Contributed to the research project: "Development of Sensor-Based Real-Time Water Level Measurement and Irrigation Scheduling System in Paddy Fields for Increasing Water Use Efficiency."',duration:"Jul 2022 - Aug 2022  2 mos",skills:["Front-End Development","Management"]}],projects:[{name:"Neural Net from Scratch",description:"A modular implementation of neural networks using NumPy, demonstrating fundamental concepts of deep learning including various layer types and activation functions."},{name:"PDF Summarizer",description:"A full-stack application for summarizing PDF documents using Gemini AI, with a Flask backend and MongoDB for database management."}],certifications:[{name:"Full Stack Web Development",issuer:"Udemy",issued_date:"2024"},{name:"Machine Learning Specialist",issuer:"DeepLearning.AI",issued_date:"2024"},{name:"TypeScript Fundamentals",issuer:"Microsoft",issued_date:"2022"}]};function h2(){const[i,e]=ue.useState(null),[n,r]=ue.useState(!0),[s,o]=ue.useState(null);ue.useEffect(()=>{(async()=>{try{const h=new Promise((y,b)=>setTimeout(()=>b(new Error("API timeout")),12e4)),m=BN(),g=await Promise.race([m,h]);if(g&&g.length>0)e(g[0]);else throw new Error("No data received from API.")}catch{e(f2)}finally{r(!1)}})()},[]);const c=JSON.stringify(i);return n?S.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:S.jsxs("div",{className:"text-center space-y-4",children:[S.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2 border-blue-600 border-t-transparent mx-auto"}),S.jsx("p",{className:"text-foreground/70",children:"Loading Portfolio..."})]})}):i?S.jsxs("div",{className:"min-h-screen bg-background",children:[S.jsx(_E,{}),S.jsxs("main",{className:"space-y-0",children:[S.jsxs(qN,{profile_image_url:i.basic_info.profile_picture_url,about:i.basic_info.about,linkedin:String(c),children:[S.jsx("h1",{className:"profile-name",children:i.basic_info.name}),S.jsx("p",{className:"profile-title",children:"Software Developer @ HashedIn by Deloitte"})]}),S.jsx(n2,{data:i}),S.jsx(r2,{experienceData:i.experience}),S.jsx(s2,{projects:i.projects}),S.jsx(o2,{certifications:i.certifications}),S.jsx(d2,{}),S.jsx(u2,{})]})]}):S.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:S.jsxs("div",{className:"text-center space-y-4 max-w-md mx-auto px-4",children:[S.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Oops! Something went wrong."}),S.jsx("p",{className:"text-foreground/70",children:"Could not load the portfolio data. Please try again later."})]})})}M1.createRoot(document.getElementById("root")).render(S.jsx(ue.StrictMode,{children:S.jsx(h2,{})}));
